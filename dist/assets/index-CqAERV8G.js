function eg(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function tg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},Nl={},rg={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bs=Symbol.for("react.element"),w_=Symbol.for("react.portal"),E_=Symbol.for("react.fragment"),T_=Symbol.for("react.strict_mode"),S_=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),R_=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),P_=Symbol.for("react.memo"),x_=Symbol.for("react.lazy"),kf=Symbol.iterator;function k_(t){return t===null||typeof t!="object"?null:(t=kf&&t[kf]||t["@@iterator"],typeof t=="function"?t:null)}var ig={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},og=Object.assign,sg={};function fo(t,e,n){this.props=t,this.context=e,this.refs=sg,this.updater=n||ig}fo.prototype.isReactComponent={};fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ag(){}ag.prototype=fo.prototype;function _h(t,e,n){this.props=t,this.context=e,this.refs=sg,this.updater=n||ig}var wh=_h.prototype=new ag;wh.constructor=_h;og(wh,fo.prototype);wh.isPureReactComponent=!0;var Df=Array.isArray,lg=Object.prototype.hasOwnProperty,Eh={current:null},ug={key:!0,ref:!0,__self:!0,__source:!0};function cg(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)lg.call(e,r)&&!ug.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Bs,type:t,key:o,ref:a,props:i,_owner:Eh.current}}function D_(t,e){return{$$typeof:Bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Th(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bs}function N_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nf=/\/+/g;function vu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N_(""+t.key):e.toString(36)}function La(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Bs:case w_:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+vu(a,0):r,Df(i)?(n="",t!=null&&(n=t.replace(Nf,"$&/")+"/"),La(i,e,n,"",function(h){return h})):i!=null&&(Th(i)&&(i=D_(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Nf,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Df(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+vu(o,l);a+=La(o,e,n,u,i)}else if(u=k_(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+vu(o,l++),a+=La(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fa(t,e,n){if(t==null)return t;var r=[],i=0;return La(t,r,"","",function(o){return e.call(n,o,i++)}),r}function V_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Ma={transition:null},L_={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Ma,ReactCurrentOwner:Eh};function hg(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:fa,forEach:function(t,e,n){fa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fa(t,function(){e++}),e},toArray:function(t){return fa(t,function(e){return e})||[]},only:function(t){if(!Th(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=fo;he.Fragment=E_;he.Profiler=S_;he.PureComponent=_h;he.StrictMode=T_;he.Suspense=A_;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_;he.act=hg;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=og({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Eh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)lg.call(e,u)&&!ug.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Bs,type:t.type,key:i,ref:o,props:r,_owner:a}};he.createContext=function(t){return t={$$typeof:C_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:I_,_context:t},t.Consumer=t};he.createElement=cg;he.createFactory=function(t){var e=cg.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:R_,render:t}};he.isValidElement=Th;he.lazy=function(t){return{$$typeof:x_,_payload:{_status:-1,_result:t},_init:V_}};he.memo=function(t,e){return{$$typeof:P_,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Ma.transition;Ma.transition={};try{t()}finally{Ma.transition=e}};he.unstable_act=hg;he.useCallback=function(t,e){return Dt.current.useCallback(t,e)};he.useContext=function(t){return Dt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Dt.current.useEffect(t,e)};he.useId=function(){return Dt.current.useId()};he.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Dt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};he.useRef=function(t){return Dt.current.useRef(t)};he.useState=function(t){return Dt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Dt.current.useTransition()};he.version="18.3.1";rg.exports=he;var j=rg.exports;const Un=tg(j),M_=eg({__proto__:null,default:Un},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_=j,F_=Symbol.for("react.element"),j_=Symbol.for("react.fragment"),U_=Object.prototype.hasOwnProperty,b_=O_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z_={key:!0,ref:!0,__self:!0,__source:!0};function dg(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)U_.call(e,r)&&!z_.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:F_,type:t,key:o,ref:a,props:i,_owner:b_.current}}Nl.Fragment=j_;Nl.jsx=dg;Nl.jsxs=dg;ng.exports=Nl;var F=ng.exports,nc={},fg={exports:{}},Kt={},pg={exports:{}},mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,te){var re=$.length;$.push(te);e:for(;0<re;){var ve=re-1>>>1,le=$[ve];if(0<i(le,te))$[ve]=te,$[re]=le,re=ve;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var te=$[0],re=$.pop();if(re!==te){$[0]=re;e:for(var ve=0,le=$.length,Ee=le>>>1;ve<Ee;){var Rt=2*(ve+1)-1,Ye=$[Rt],ot=Rt+1,st=$[ot];if(0>i(Ye,re))ot<le&&0>i(st,Ye)?($[ve]=st,$[ot]=re,ve=ot):($[ve]=Ye,$[Rt]=re,ve=Rt);else if(ot<le&&0>i(st,re))$[ve]=st,$[ot]=re,ve=ot;else break e}}return te}function i($,te){var re=$.sortIndex-te.sortIndex;return re!==0?re:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],f=1,m=null,g=3,R=!1,P=!1,x=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=$)r(h),te.sortIndex=te.expirationTime,e(u,te);else break;te=n(h)}}function L($){if(x=!1,I($),!P)if(n(u)!==null)P=!0,pn(z);else{var te=n(h);te!==null&&Vt(L,te.startTime-$)}}function z($,te){P=!1,x&&(x=!1,S(v),v=-1),R=!0;var re=g;try{for(I(te),m=n(u);m!==null&&(!(m.expirationTime>te)||$&&!C());){var ve=m.callback;if(typeof ve=="function"){m.callback=null,g=m.priorityLevel;var le=ve(m.expirationTime<=te);te=t.unstable_now(),typeof le=="function"?m.callback=le:m===n(u)&&r(u),I(te)}else r(u);m=n(u)}if(m!==null)var Ee=!0;else{var Rt=n(h);Rt!==null&&Vt(L,Rt.startTime-te),Ee=!1}return Ee}finally{m=null,g=re,R=!1}}var H=!1,p=null,v=-1,_=5,E=-1;function C(){return!(t.unstable_now()-E<_)}function A(){if(p!==null){var $=t.unstable_now();E=$;var te=!0;try{te=p(!0,$)}finally{te?T():(H=!1,p=null)}}else H=!1}var T;if(typeof w=="function")T=function(){w(A)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,it=Te.port2;Te.port1.onmessage=A,T=function(){it.postMessage(null)}}else T=function(){M(A,0)};function pn($){p=$,H||(H=!0,T())}function Vt($,te){v=M(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,pn(z))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var re=g;g=te;try{return $()}finally{g=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=g;g=$;try{return te()}finally{g=re}},t.unstable_scheduleCallback=function($,te,re){var ve=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,$){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=re+le,$={id:f++,callback:te,priorityLevel:$,startTime:re,expirationTime:le,sortIndex:-1},re>ve?($.sortIndex=re,e(h,$),n(u)===null&&$===n(h)&&(x?(S(v),v=-1):x=!0,Vt(L,re-ve))):($.sortIndex=le,e(u,$),P||R||(P=!0,pn(z))),$},t.unstable_shouldYield=C,t.unstable_wrapCallback=function($){var te=g;return function(){var re=g;g=te;try{return $.apply(this,arguments)}finally{g=re}}}})(mg);pg.exports=mg;var B_=pg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_=j,qt=B_;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gg=new Set,gs={};function ci(t,e){Ji(t,e),Ji(t+"Capture",e)}function Ji(t,e){for(gs[t]=e,t=0;t<e.length;t++)gg.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rc=Object.prototype.hasOwnProperty,H_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vf={},Lf={};function q_(t){return rc.call(Lf,t)?!0:rc.call(Vf,t)?!1:H_.test(t)?Lf[t]=!0:(Vf[t]=!0,!1)}function K_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function W_(t,e,n,r){if(e===null||typeof e>"u"||K_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sh=/[\-:]([a-z])/g;function Ih(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sh,Ih);mt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sh,Ih);mt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sh,Ih);mt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ch(t,e,n,r){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(W_(e,n,i,r)&&(n=null),r||i===null?q_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wn=$_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),ki=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),ic=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),vg=Symbol.for("react.context"),Ah=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),sc=Symbol.for("react.suspense_list"),Ph=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),_g=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Mf&&t[Mf]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,_u;function Qo(t){if(_u===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_u=e&&e[1]||""}return`
`+_u+t}var wu=!1;function Eu(t,e){if(!t||wu)return"";wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function Q_(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=Eu(t.type,!1),t;case 11:return t=Eu(t.type.render,!1),t;case 1:return t=Eu(t.type,!0),t;default:return""}}function ac(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case ki:return"Portal";case ic:return"Profiler";case Rh:return"StrictMode";case oc:return"Suspense";case sc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vg:return(t.displayName||"Context")+".Consumer";case yg:return(t._context.displayName||"Context")+".Provider";case Ah:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ph:return e=t.displayName||null,e!==null?e:ac(t.type)||"Memo";case ir:e=t._payload,t=t._init;try{return ac(t(e))}catch{}}return null}function G_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ac(e);case 8:return e===Rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Y_(t){var e=wg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ma(t){t._valueTracker||(t._valueTracker=Y_(t))}function Eg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lc(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Of(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tg(t,e){e=e.checked,e!=null&&Ch(t,"checked",e,!1)}function uc(t,e){Tg(t,e);var n=Cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cc(t,e.type,n):e.hasOwnProperty("defaultValue")&&cc(t,e.type,Cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ff(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cc(t,e,n){(e!=="number"||Ya(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Go(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cr(n)}}function Sg(t,e){var n=Cr(e.value),r=Cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ig(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ig(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ga,Cg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X_=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(t){X_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ns[e]=ns[t]})});function Rg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ns.hasOwnProperty(t)&&ns[t]?(""+e).trim():e+"px"}function Ag(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var J_=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fc(t,e){if(e){if(J_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function pc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gc=null,Hi=null,qi=null;function bf(t){if(t=qs(t)){if(typeof gc!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Fl(e),gc(t.stateNode,t.type,e))}}function Pg(t){Hi?qi?qi.push(t):qi=[t]:Hi=t}function xg(){if(Hi){var t=Hi,e=qi;if(qi=Hi=null,bf(t),e)for(t=0;t<e.length;t++)bf(e[t])}}function kg(t,e){return t(e)}function Dg(){}var Tu=!1;function Ng(t,e,n){if(Tu)return t(e,n);Tu=!0;try{return kg(t,e,n)}finally{Tu=!1,(Hi!==null||qi!==null)&&(Dg(),xg())}}function vs(t,e){var n=t.stateNode;if(n===null)return null;var r=Fl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var yc=!1;if(Bn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){yc=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{yc=!1}function Z_(t,e,n,r,i,o,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var rs=!1,Xa=null,Ja=!1,vc=null,ew={onError:function(t){rs=!0,Xa=t}};function tw(t,e,n,r,i,o,a,l,u){rs=!1,Xa=null,Z_.apply(ew,arguments)}function nw(t,e,n,r,i,o,a,l,u){if(tw.apply(this,arguments),rs){if(rs){var h=Xa;rs=!1,Xa=null}else throw Error(b(198));Ja||(Ja=!0,vc=h)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zf(t){if(hi(t)!==t)throw Error(b(188))}function rw(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return zf(i),t;if(o===r)return zf(i),e;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Lg(t){return t=rw(t),t!==null?Mg(t):null}function Mg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mg(t);if(e!==null)return e;t=t.sibling}return null}var Og=qt.unstable_scheduleCallback,Bf=qt.unstable_cancelCallback,iw=qt.unstable_shouldYield,ow=qt.unstable_requestPaint,Be=qt.unstable_now,sw=qt.unstable_getCurrentPriorityLevel,kh=qt.unstable_ImmediatePriority,Fg=qt.unstable_UserBlockingPriority,Za=qt.unstable_NormalPriority,aw=qt.unstable_LowPriority,jg=qt.unstable_IdlePriority,Vl=null,En=null;function lw(t){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Vl,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:hw,uw=Math.log,cw=Math.LN2;function hw(t){return t>>>=0,t===0?32:31-(uw(t)/cw|0)|0}var ya=64,va=4194304;function Yo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function el(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Yo(l):(o&=a,o!==0&&(r=Yo(o)))}else a=n&~i,a!==0?r=Yo(a):o!==0&&(r=Yo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hn(e),i=1<<n,r|=t[n],e&=~i;return r}function dw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-hn(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=dw(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function _c(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ug(){var t=ya;return ya<<=1,!(ya&4194240)&&(ya=64),t}function Su(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $s(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function pw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Dh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function bg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zg,Nh,Bg,$g,Hg,wc=!1,_a=[],fr=null,pr=null,mr=null,_s=new Map,ws=new Map,ar=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $f(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":_s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(e.pointerId)}}function jo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=qs(e),e!==null&&Nh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gw(t,e,n,r,i){switch(e){case"focusin":return fr=jo(fr,t,e,n,r,i),!0;case"dragenter":return pr=jo(pr,t,e,n,r,i),!0;case"mouseover":return mr=jo(mr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _s.set(o,jo(_s.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ws.set(o,jo(ws.get(o)||null,t,e,n,r,i)),!0}return!1}function qg(t){var e=Hr(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=Vg(n),e!==null){t.blockedOn=e,Hg(t.priority,function(){Bg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ec(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mc=r,n.target.dispatchEvent(r),mc=null}else return e=qs(n),e!==null&&Nh(e),t.blockedOn=n,!1;e.shift()}return!0}function Hf(t,e,n){Oa(t)&&n.delete(e)}function yw(){wc=!1,fr!==null&&Oa(fr)&&(fr=null),pr!==null&&Oa(pr)&&(pr=null),mr!==null&&Oa(mr)&&(mr=null),_s.forEach(Hf),ws.forEach(Hf)}function Uo(t,e){t.blockedOn===e&&(t.blockedOn=null,wc||(wc=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,yw)))}function Es(t){function e(i){return Uo(i,t)}if(0<_a.length){Uo(_a[0],t);for(var n=1;n<_a.length;n++){var r=_a[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&Uo(fr,t),pr!==null&&Uo(pr,t),mr!==null&&Uo(mr,t),_s.forEach(e),ws.forEach(e),n=0;n<ar.length;n++)r=ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&ar.shift()}var Ki=Wn.ReactCurrentBatchConfig,tl=!0;function vw(t,e,n,r){var i=we,o=Ki.transition;Ki.transition=null;try{we=1,Vh(t,e,n,r)}finally{we=i,Ki.transition=o}}function _w(t,e,n,r){var i=we,o=Ki.transition;Ki.transition=null;try{we=4,Vh(t,e,n,r)}finally{we=i,Ki.transition=o}}function Vh(t,e,n,r){if(tl){var i=Ec(t,e,n,r);if(i===null)Vu(t,e,r,nl,n),$f(t,r);else if(gw(i,t,e,n,r))r.stopPropagation();else if($f(t,r),e&4&&-1<mw.indexOf(t)){for(;i!==null;){var o=qs(i);if(o!==null&&zg(o),o=Ec(t,e,n,r),o===null&&Vu(t,e,r,nl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vu(t,e,r,null,n)}}var nl=null;function Ec(t,e,n,r){if(nl=null,t=xh(r),t=Hr(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nl=t,null}function Kg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sw()){case kh:return 1;case Fg:return 4;case Za:case aw:return 16;case jg:return 536870912;default:return 16}default:return 16}}var ur=null,Lh=null,Fa=null;function Wg(){if(Fa)return Fa;var t,e=Lh,n=e.length,r,i="value"in ur?ur.value:ur.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Fa=i.slice(t,1<r?1-r:void 0)}function ja(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wa(){return!0}function qf(){return!1}function Wt(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?wa:qf,this.isPropagationStopped=qf,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mh=Wt(po),Hs=je({},po,{view:0,detail:0}),ww=Wt(Hs),Iu,Cu,bo,Ll=je({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bo&&(bo&&t.type==="mousemove"?(Iu=t.screenX-bo.screenX,Cu=t.screenY-bo.screenY):Cu=Iu=0,bo=t),Iu)},movementY:function(t){return"movementY"in t?t.movementY:Cu}}),Kf=Wt(Ll),Ew=je({},Ll,{dataTransfer:0}),Tw=Wt(Ew),Sw=je({},Hs,{relatedTarget:0}),Ru=Wt(Sw),Iw=je({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),Cw=Wt(Iw),Rw=je({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aw=Wt(Rw),Pw=je({},po,{data:0}),Wf=Wt(Pw),xw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dw[t])?!!e[t]:!1}function Oh(){return Nw}var Vw=je({},Hs,{key:function(t){if(t.key){var e=xw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(t){return t.type==="keypress"?ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lw=Wt(Vw),Mw=je({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=Wt(Mw),Ow=je({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),Fw=Wt(Ow),jw=je({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uw=Wt(jw),bw=je({},Ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=Wt(bw),Bw=[9,13,27,32],Fh=Bn&&"CompositionEvent"in window,is=null;Bn&&"documentMode"in document&&(is=document.documentMode);var $w=Bn&&"TextEvent"in window&&!is,Qg=Bn&&(!Fh||is&&8<is&&11>=is),Gf=" ",Yf=!1;function Gg(t,e){switch(t){case"keyup":return Bw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ni=!1;function Hw(t,e){switch(t){case"compositionend":return Yg(e);case"keypress":return e.which!==32?null:(Yf=!0,Gf);case"textInput":return t=e.data,t===Gf&&Yf?null:t;default:return null}}function qw(t,e){if(Ni)return t==="compositionend"||!Fh&&Gg(t,e)?(t=Wg(),Fa=Lh=ur=null,Ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qg&&e.locale!=="ko"?null:e.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kw[t.type]:e==="textarea"}function Xg(t,e,n,r){Pg(r),e=rl(e,"onChange"),0<e.length&&(n=new Mh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var os=null,Ts=null;function Ww(t){ly(t,0)}function Ml(t){var e=Mi(t);if(Eg(e))return t}function Qw(t,e){if(t==="change")return e}var Jg=!1;if(Bn){var Au;if(Bn){var Pu="oninput"in document;if(!Pu){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Pu=typeof Jf.oninput=="function"}Au=Pu}else Au=!1;Jg=Au&&(!document.documentMode||9<document.documentMode)}function Zf(){os&&(os.detachEvent("onpropertychange",Zg),Ts=os=null)}function Zg(t){if(t.propertyName==="value"&&Ml(Ts)){var e=[];Xg(e,Ts,t,xh(t)),Ng(Ww,e)}}function Gw(t,e,n){t==="focusin"?(Zf(),os=e,Ts=n,os.attachEvent("onpropertychange",Zg)):t==="focusout"&&Zf()}function Yw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ml(Ts)}function Xw(t,e){if(t==="click")return Ml(e)}function Jw(t,e){if(t==="input"||t==="change")return Ml(e)}function Zw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:Zw;function Ss(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rc.call(e,i)||!fn(t[i],e[i]))return!1}return!0}function ep(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tp(t,e){var n=ep(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ep(n)}}function ey(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ey(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ty(){for(var t=window,e=Ya();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ya(t.document)}return e}function jh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eE(t){var e=ty(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ey(n.ownerDocument.documentElement,n)){if(r!==null&&jh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=tp(n,o);var a=tp(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tE=Bn&&"documentMode"in document&&11>=document.documentMode,Vi=null,Tc=null,ss=null,Sc=!1;function np(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sc||Vi==null||Vi!==Ya(r)||(r=Vi,"selectionStart"in r&&jh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&Ss(ss,r)||(ss=r,r=rl(Tc,"onSelect"),0<r.length&&(e=new Mh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vi)))}function Ea(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},xu={},ny={};Bn&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Ol(t){if(xu[t])return xu[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ny)return xu[t]=e[n];return t}var ry=Ol("animationend"),iy=Ol("animationiteration"),oy=Ol("animationstart"),sy=Ol("transitionend"),ay=new Map,rp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){ay.set(t,e),ci(e,[t])}for(var ku=0;ku<rp.length;ku++){var Du=rp[ku],nE=Du.toLowerCase(),rE=Du[0].toUpperCase()+Du.slice(1);kr(nE,"on"+rE)}kr(ry,"onAnimationEnd");kr(iy,"onAnimationIteration");kr(oy,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(sy,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function ip(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nw(r,e,void 0,t),t.currentTarget=null}function ly(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;ip(i,l,h),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;ip(i,l,h),o=u}}}if(Ja)throw t=vc,Ja=!1,vc=null,t}function Pe(t,e){var n=e[Pc];n===void 0&&(n=e[Pc]=new Set);var r=t+"__bubble";n.has(r)||(uy(e,t,2,!1),n.add(r))}function Nu(t,e,n){var r=0;e&&(r|=4),uy(n,t,r,e)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Is(t){if(!t[Ta]){t[Ta]=!0,gg.forEach(function(n){n!=="selectionchange"&&(iE.has(n)||Nu(n,!1,t),Nu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ta]||(e[Ta]=!0,Nu("selectionchange",!1,e))}}function uy(t,e,n,r){switch(Kg(e)){case 1:var i=vw;break;case 4:i=_w;break;default:i=Vh}n=i.bind(null,e,n,t),i=void 0,!yc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Hr(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Ng(function(){var h=o,f=xh(n),m=[];e:{var g=ay.get(t);if(g!==void 0){var R=Mh,P=t;switch(t){case"keypress":if(ja(n)===0)break e;case"keydown":case"keyup":R=Lw;break;case"focusin":P="focus",R=Ru;break;case"focusout":P="blur",R=Ru;break;case"beforeblur":case"afterblur":R=Ru;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Tw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Fw;break;case ry:case iy:case oy:R=Cw;break;case sy:R=Uw;break;case"scroll":R=ww;break;case"wheel":R=zw;break;case"copy":case"cut":case"paste":R=Aw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=Qf}var x=(e&4)!==0,M=!x&&t==="scroll",S=x?g!==null?g+"Capture":null:g;x=[];for(var w=h,I;w!==null;){I=w;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,S!==null&&(L=vs(w,S),L!=null&&x.push(Cs(w,L,I)))),M)break;w=w.return}0<x.length&&(g=new R(g,P,null,n,f),m.push({event:g,listeners:x}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",g&&n!==mc&&(P=n.relatedTarget||n.fromElement)&&(Hr(P)||P[$n]))break e;if((R||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,R?(P=n.relatedTarget||n.toElement,R=h,P=P?Hr(P):null,P!==null&&(M=hi(P),P!==M||P.tag!==5&&P.tag!==6)&&(P=null)):(R=null,P=h),R!==P)){if(x=Kf,L="onMouseLeave",S="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=Qf,L="onPointerLeave",S="onPointerEnter",w="pointer"),M=R==null?g:Mi(R),I=P==null?g:Mi(P),g=new x(L,w+"leave",R,n,f),g.target=M,g.relatedTarget=I,L=null,Hr(f)===h&&(x=new x(S,w+"enter",P,n,f),x.target=I,x.relatedTarget=M,L=x),M=L,R&&P)t:{for(x=R,S=P,w=0,I=x;I;I=Ci(I))w++;for(I=0,L=S;L;L=Ci(L))I++;for(;0<w-I;)x=Ci(x),w--;for(;0<I-w;)S=Ci(S),I--;for(;w--;){if(x===S||S!==null&&x===S.alternate)break t;x=Ci(x),S=Ci(S)}x=null}else x=null;R!==null&&op(m,g,R,x,!1),P!==null&&M!==null&&op(m,M,P,x,!0)}}e:{if(g=h?Mi(h):window,R=g.nodeName&&g.nodeName.toLowerCase(),R==="select"||R==="input"&&g.type==="file")var z=Qw;else if(Xf(g))if(Jg)z=Jw;else{z=Yw;var H=Gw}else(R=g.nodeName)&&R.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(z=Xw);if(z&&(z=z(t,h))){Xg(m,z,n,f);break e}H&&H(t,g,h),t==="focusout"&&(H=g._wrapperState)&&H.controlled&&g.type==="number"&&cc(g,"number",g.value)}switch(H=h?Mi(h):window,t){case"focusin":(Xf(H)||H.contentEditable==="true")&&(Vi=H,Tc=h,ss=null);break;case"focusout":ss=Tc=Vi=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,np(m,n,f);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":np(m,n,f)}var p;if(Fh)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ni?Gg(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Qg&&n.locale!=="ko"&&(Ni||v!=="onCompositionStart"?v==="onCompositionEnd"&&Ni&&(p=Wg()):(ur=f,Lh="value"in ur?ur.value:ur.textContent,Ni=!0)),H=rl(h,v),0<H.length&&(v=new Wf(v,t,null,n,f),m.push({event:v,listeners:H}),p?v.data=p:(p=Yg(n),p!==null&&(v.data=p)))),(p=$w?Hw(t,n):qw(t,n))&&(h=rl(h,"onBeforeInput"),0<h.length&&(f=new Wf("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=p))}ly(m,e)})}function Cs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=vs(t,n),o!=null&&r.unshift(Cs(t,o,i)),o=vs(t,e),o!=null&&r.push(Cs(t,o,i))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function op(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=vs(n,o),u!=null&&a.unshift(Cs(n,u,l))):i||(u=vs(n,o),u!=null&&a.push(Cs(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var oE=/\r\n?/g,sE=/\u0000|\uFFFD/g;function sp(t){return(typeof t=="string"?t:""+t).replace(oE,`
`).replace(sE,"")}function Sa(t,e,n){if(e=sp(e),sp(t)!==e&&n)throw Error(b(425))}function il(){}var Ic=null,Cc=null;function Rc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ac=typeof setTimeout=="function"?setTimeout:void 0,aE=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,lE=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(t){return ap.resolve(null).then(t).catch(uE)}:Ac;function uE(t){setTimeout(function(){throw t})}function Lu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Es(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Es(e)}function gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),_n="__reactFiber$"+mo,Rs="__reactProps$"+mo,$n="__reactContainer$"+mo,Pc="__reactEvents$"+mo,cE="__reactListeners$"+mo,hE="__reactHandles$"+mo;function Hr(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lp(t);t!==null;){if(n=t[_n])return n;t=lp(t)}return e}t=n,n=t.parentNode}return null}function qs(t){return t=t[_n]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Fl(t){return t[Rs]||null}var xc=[],Oi=-1;function Dr(t){return{current:t}}function xe(t){0>Oi||(t.current=xc[Oi],xc[Oi]=null,Oi--)}function Ce(t,e){Oi++,xc[Oi]=t.current,t.current=e}var Rr={},It=Dr(Rr),Ot=Dr(!1),ei=Rr;function Zi(t,e){var n=t.type.contextTypes;if(!n)return Rr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function ol(){xe(Ot),xe(It)}function up(t,e,n){if(It.current!==Rr)throw Error(b(168));Ce(It,e),Ce(Ot,n)}function cy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,G_(t)||"Unknown",i));return je({},n,r)}function sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rr,ei=It.current,Ce(It,t),Ce(Ot,Ot.current),!0}function cp(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=cy(t,e,ei),r.__reactInternalMemoizedMergedChildContext=t,xe(Ot),xe(It),Ce(It,t)):xe(Ot),Ce(Ot,n)}var On=null,jl=!1,Mu=!1;function hy(t){On===null?On=[t]:On.push(t)}function dE(t){jl=!0,hy(t)}function Nr(){if(!Mu&&On!==null){Mu=!0;var t=0,e=we;try{var n=On;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}On=null,jl=!1}catch(i){throw On!==null&&(On=On.slice(t+1)),Og(kh,Nr),i}finally{we=e,Mu=!1}}return null}var Fi=[],ji=0,al=null,ll=0,Yt=[],Xt=0,ti=null,Fn=1,jn="";function zr(t,e){Fi[ji++]=ll,Fi[ji++]=al,al=t,ll=e}function dy(t,e,n){Yt[Xt++]=Fn,Yt[Xt++]=jn,Yt[Xt++]=ti,ti=t;var r=Fn;t=jn;var i=32-hn(r)-1;r&=~(1<<i),n+=1;var o=32-hn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Fn=1<<32-hn(e)+i|n<<i|r,jn=o+t}else Fn=1<<o|n<<i|r,jn=t}function Uh(t){t.return!==null&&(zr(t,1),dy(t,1,0))}function bh(t){for(;t===al;)al=Fi[--ji],Fi[ji]=null,ll=Fi[--ji],Fi[ji]=null;for(;t===ti;)ti=Yt[--Xt],Yt[Xt]=null,jn=Yt[--Xt],Yt[Xt]=null,Fn=Yt[--Xt],Yt[Xt]=null}var Ht=null,$t=null,Ne=!1,cn=null;function fy(t,e){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ht=t,$t=gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ht=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ti!==null?{id:Fn,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ht=t,$t=null,!0):!1;default:return!1}}function kc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dc(t){if(Ne){var e=$t;if(e){var n=e;if(!hp(t,e)){if(kc(t))throw Error(b(418));e=gr(n.nextSibling);var r=Ht;e&&hp(t,e)?fy(r,n):(t.flags=t.flags&-4097|2,Ne=!1,Ht=t)}}else{if(kc(t))throw Error(b(418));t.flags=t.flags&-4097|2,Ne=!1,Ht=t}}}function dp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ht=t}function Ia(t){if(t!==Ht)return!1;if(!Ne)return dp(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rc(t.type,t.memoizedProps)),e&&(e=$t)){if(kc(t))throw py(),Error(b(418));for(;e;)fy(t,e),e=gr(e.nextSibling)}if(dp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Ht?gr(t.stateNode.nextSibling):null;return!0}function py(){for(var t=$t;t;)t=gr(t.nextSibling)}function eo(){$t=Ht=null,Ne=!1}function zh(t){cn===null?cn=[t]:cn.push(t)}var fE=Wn.ReactCurrentBatchConfig;function zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fp(t){var e=t._init;return e(t._payload)}function my(t){function e(S,w){if(t){var I=S.deletions;I===null?(S.deletions=[w],S.flags|=16):I.push(w)}}function n(S,w){if(!t)return null;for(;w!==null;)e(S,w),w=w.sibling;return null}function r(S,w){for(S=new Map;w!==null;)w.key!==null?S.set(w.key,w):S.set(w.index,w),w=w.sibling;return S}function i(S,w){return S=wr(S,w),S.index=0,S.sibling=null,S}function o(S,w,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<w?(S.flags|=2,w):I):(S.flags|=2,w)):(S.flags|=1048576,w)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,w,I,L){return w===null||w.tag!==6?(w=Bu(I,S.mode,L),w.return=S,w):(w=i(w,I),w.return=S,w)}function u(S,w,I,L){var z=I.type;return z===Di?f(S,w,I.props.children,L,I.key):w!==null&&(w.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ir&&fp(z)===w.type)?(L=i(w,I.props),L.ref=zo(S,w,I),L.return=S,L):(L=qa(I.type,I.key,I.props,null,S.mode,L),L.ref=zo(S,w,I),L.return=S,L)}function h(S,w,I,L){return w===null||w.tag!==4||w.stateNode.containerInfo!==I.containerInfo||w.stateNode.implementation!==I.implementation?(w=$u(I,S.mode,L),w.return=S,w):(w=i(w,I.children||[]),w.return=S,w)}function f(S,w,I,L,z){return w===null||w.tag!==7?(w=Xr(I,S.mode,L,z),w.return=S,w):(w=i(w,I),w.return=S,w)}function m(S,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bu(""+w,S.mode,I),w.return=S,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pa:return I=qa(w.type,w.key,w.props,null,S.mode,I),I.ref=zo(S,null,w),I.return=S,I;case ki:return w=$u(w,S.mode,I),w.return=S,w;case ir:var L=w._init;return m(S,L(w._payload),I)}if(Go(w)||Oo(w))return w=Xr(w,S.mode,I,null),w.return=S,w;Ca(S,w)}return null}function g(S,w,I,L){var z=w!==null?w.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return z!==null?null:l(S,w,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case pa:return I.key===z?u(S,w,I,L):null;case ki:return I.key===z?h(S,w,I,L):null;case ir:return z=I._init,g(S,w,z(I._payload),L)}if(Go(I)||Oo(I))return z!==null?null:f(S,w,I,L,null);Ca(S,I)}return null}function R(S,w,I,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return S=S.get(I)||null,l(w,S,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case pa:return S=S.get(L.key===null?I:L.key)||null,u(w,S,L,z);case ki:return S=S.get(L.key===null?I:L.key)||null,h(w,S,L,z);case ir:var H=L._init;return R(S,w,I,H(L._payload),z)}if(Go(L)||Oo(L))return S=S.get(I)||null,f(w,S,L,z,null);Ca(w,L)}return null}function P(S,w,I,L){for(var z=null,H=null,p=w,v=w=0,_=null;p!==null&&v<I.length;v++){p.index>v?(_=p,p=null):_=p.sibling;var E=g(S,p,I[v],L);if(E===null){p===null&&(p=_);break}t&&p&&E.alternate===null&&e(S,p),w=o(E,w,v),H===null?z=E:H.sibling=E,H=E,p=_}if(v===I.length)return n(S,p),Ne&&zr(S,v),z;if(p===null){for(;v<I.length;v++)p=m(S,I[v],L),p!==null&&(w=o(p,w,v),H===null?z=p:H.sibling=p,H=p);return Ne&&zr(S,v),z}for(p=r(S,p);v<I.length;v++)_=R(p,S,v,I[v],L),_!==null&&(t&&_.alternate!==null&&p.delete(_.key===null?v:_.key),w=o(_,w,v),H===null?z=_:H.sibling=_,H=_);return t&&p.forEach(function(C){return e(S,C)}),Ne&&zr(S,v),z}function x(S,w,I,L){var z=Oo(I);if(typeof z!="function")throw Error(b(150));if(I=z.call(I),I==null)throw Error(b(151));for(var H=z=null,p=w,v=w=0,_=null,E=I.next();p!==null&&!E.done;v++,E=I.next()){p.index>v?(_=p,p=null):_=p.sibling;var C=g(S,p,E.value,L);if(C===null){p===null&&(p=_);break}t&&p&&C.alternate===null&&e(S,p),w=o(C,w,v),H===null?z=C:H.sibling=C,H=C,p=_}if(E.done)return n(S,p),Ne&&zr(S,v),z;if(p===null){for(;!E.done;v++,E=I.next())E=m(S,E.value,L),E!==null&&(w=o(E,w,v),H===null?z=E:H.sibling=E,H=E);return Ne&&zr(S,v),z}for(p=r(S,p);!E.done;v++,E=I.next())E=R(p,S,v,E.value,L),E!==null&&(t&&E.alternate!==null&&p.delete(E.key===null?v:E.key),w=o(E,w,v),H===null?z=E:H.sibling=E,H=E);return t&&p.forEach(function(A){return e(S,A)}),Ne&&zr(S,v),z}function M(S,w,I,L){if(typeof I=="object"&&I!==null&&I.type===Di&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case pa:e:{for(var z=I.key,H=w;H!==null;){if(H.key===z){if(z=I.type,z===Di){if(H.tag===7){n(S,H.sibling),w=i(H,I.props.children),w.return=S,S=w;break e}}else if(H.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ir&&fp(z)===H.type){n(S,H.sibling),w=i(H,I.props),w.ref=zo(S,H,I),w.return=S,S=w;break e}n(S,H);break}else e(S,H);H=H.sibling}I.type===Di?(w=Xr(I.props.children,S.mode,L,I.key),w.return=S,S=w):(L=qa(I.type,I.key,I.props,null,S.mode,L),L.ref=zo(S,w,I),L.return=S,S=L)}return a(S);case ki:e:{for(H=I.key;w!==null;){if(w.key===H)if(w.tag===4&&w.stateNode.containerInfo===I.containerInfo&&w.stateNode.implementation===I.implementation){n(S,w.sibling),w=i(w,I.children||[]),w.return=S,S=w;break e}else{n(S,w);break}else e(S,w);w=w.sibling}w=$u(I,S.mode,L),w.return=S,S=w}return a(S);case ir:return H=I._init,M(S,w,H(I._payload),L)}if(Go(I))return P(S,w,I,L);if(Oo(I))return x(S,w,I,L);Ca(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,w!==null&&w.tag===6?(n(S,w.sibling),w=i(w,I),w.return=S,S=w):(n(S,w),w=Bu(I,S.mode,L),w.return=S,S=w),a(S)):n(S,w)}return M}var to=my(!0),gy=my(!1),ul=Dr(null),cl=null,Ui=null,Bh=null;function $h(){Bh=Ui=cl=null}function Hh(t){var e=ul.current;xe(ul),t._currentValue=e}function Nc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wi(t,e){cl=t,Bh=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function tn(t){var e=t._currentValue;if(Bh!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(cl===null)throw Error(b(308));Ui=t,cl.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var qr=null;function qh(t){qr===null?qr=[t]:qr.push(t)}function yy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hn(t,r)}function Hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var or=!1;function Kh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hn(t,n)}return i=r.interleaved,i===null?(e.next=e,qh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hn(t,n)}function Ua(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dh(t,n)}}function pp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hl(t,e,n,r){var i=t.updateQueue;or=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?o=h:a.next=h,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;a=0,f=h=u=null,l=o;do{var g=l.lane,R=l.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:R,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,x=l;switch(g=e,R=n,x.tag){case 1:if(P=x.payload,typeof P=="function"){m=P.call(R,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=x.payload,g=typeof P=="function"?P.call(R,m,g):P,g==null)break e;m=je({},m,g);break e;case 2:or=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else R={eventTime:R,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=R,u=m):f=f.next=R,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ri|=a,t.lanes=a,t.memoizedState=m}}function mp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var Ks={},Tn=Dr(Ks),As=Dr(Ks),Ps=Dr(Ks);function Kr(t){if(t===Ks)throw Error(b(174));return t}function Wh(t,e){switch(Ce(Ps,e),Ce(As,t),Ce(Tn,Ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dc(e,t)}xe(Tn),Ce(Tn,e)}function no(){xe(Tn),xe(As),xe(Ps)}function _y(t){Kr(Ps.current);var e=Kr(Tn.current),n=dc(e,t.type);e!==n&&(Ce(As,t),Ce(Tn,n))}function Qh(t){As.current===t&&(xe(Tn),xe(As))}var Oe=Dr(0);function dl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ou=[];function Gh(){for(var t=0;t<Ou.length;t++)Ou[t]._workInProgressVersionPrimary=null;Ou.length=0}var ba=Wn.ReactCurrentDispatcher,Fu=Wn.ReactCurrentBatchConfig,ni=0,Fe=null,Je=null,nt=null,fl=!1,as=!1,xs=0,pE=0;function vt(){throw Error(b(321))}function Yh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function Xh(t,e,n,r,i,o){if(ni=o,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ba.current=t===null||t.memoizedState===null?vE:_E,t=n(r,i),as){o=0;do{if(as=!1,xs=0,25<=o)throw Error(b(301));o+=1,nt=Je=null,e.updateQueue=null,ba.current=wE,t=n(r,i)}while(as)}if(ba.current=pl,e=Je!==null&&Je.next!==null,ni=0,nt=Je=Fe=null,fl=!1,e)throw Error(b(300));return t}function Jh(){var t=xs!==0;return xs=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Fe.memoizedState=nt=t:nt=nt.next=t,nt}function nn(){if(Je===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=nt===null?Fe.memoizedState:nt.next;if(e!==null)nt=e,Je=t;else{if(t===null)throw Error(b(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Fe.memoizedState=nt=t:nt=nt.next=t}return nt}function ks(t,e){return typeof e=="function"?e(t):e}function ju(t){var e=nn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,h=o;do{var f=h.lane;if((ni&f)===f)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,a=r):u=u.next=m,Fe.lanes|=f,ri|=f}h=h.next}while(h!==null&&h!==o);u===null?a=r:u.next=l,fn(r,e.memoizedState)||(Mt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Fe.lanes|=o,ri|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uu(t){var e=nn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);fn(o,e.memoizedState)||(Mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function wy(){}function Ey(t,e){var n=Fe,r=nn(),i=e(),o=!fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Mt=!0),r=r.queue,Zh(Iy.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ds(9,Sy.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(b(349));ni&30||Ty(n,e,i)}return i}function Ty(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sy(t,e,n,r){e.value=n,e.getSnapshot=r,Cy(e)&&Ry(t)}function Iy(t,e,n){return n(function(){Cy(e)&&Ry(t)})}function Cy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function Ry(t){var e=Hn(t,1);e!==null&&dn(e,t,1,-1)}function gp(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},e.queue=t,t=t.dispatch=yE.bind(null,Fe,t),[e.memoizedState,t]}function Ds(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ay(){return nn().memoizedState}function za(t,e,n,r){var i=vn();Fe.flags|=t,i.memoizedState=Ds(1|e,n,void 0,r===void 0?null:r)}function Ul(t,e,n,r){var i=nn();r=r===void 0?null:r;var o=void 0;if(Je!==null){var a=Je.memoizedState;if(o=a.destroy,r!==null&&Yh(r,a.deps)){i.memoizedState=Ds(e,n,o,r);return}}Fe.flags|=t,i.memoizedState=Ds(1|e,n,o,r)}function yp(t,e){return za(8390656,8,t,e)}function Zh(t,e){return Ul(2048,8,t,e)}function Py(t,e){return Ul(4,2,t,e)}function xy(t,e){return Ul(4,4,t,e)}function ky(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dy(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4,4,ky.bind(null,e,t),n)}function ed(){}function Ny(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vy(t,e){var n=nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ly(t,e,n){return ni&21?(fn(n,e)||(n=Ug(),Fe.lanes|=n,ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=n)}function mE(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=Fu.transition;Fu.transition={};try{t(!1),e()}finally{we=n,Fu.transition=r}}function My(){return nn().memoizedState}function gE(t,e,n){var r=_r(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Oy(t))Fy(e,n);else if(n=yy(t,e,n,r),n!==null){var i=kt();dn(n,t,r,i),jy(n,e,r)}}function yE(t,e,n){var r=_r(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Oy(t))Fy(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,fn(l,a)){var u=e.interleaved;u===null?(i.next=i,qh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=yy(t,e,i,r),n!==null&&(i=kt(),dn(n,t,r,i),jy(n,e,r))}}function Oy(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function Fy(t,e){as=fl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function jy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dh(t,n)}}var pl={readContext:tn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},vE={readContext:tn,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:yp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,za(4194308,4,ky.bind(null,e,t),n)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gE.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:gp,useDebugValue:ed,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=gp(!1),e=t[0];return t=mE.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=vn();if(Ne){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),rt===null)throw Error(b(349));ni&30||Ty(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,yp(Iy.bind(null,r,o,t),[t]),r.flags|=2048,Ds(9,Sy.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vn(),e=rt.identifierPrefix;if(Ne){var n=jn,r=Fn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_E={readContext:tn,useCallback:Ny,useContext:tn,useEffect:Zh,useImperativeHandle:Dy,useInsertionEffect:Py,useLayoutEffect:xy,useMemo:Vy,useReducer:ju,useRef:Ay,useState:function(){return ju(ks)},useDebugValue:ed,useDeferredValue:function(t){var e=nn();return Ly(e,Je.memoizedState,t)},useTransition:function(){var t=ju(ks)[0],e=nn().memoizedState;return[t,e]},useMutableSource:wy,useSyncExternalStore:Ey,useId:My,unstable_isNewReconciler:!1},wE={readContext:tn,useCallback:Ny,useContext:tn,useEffect:Zh,useImperativeHandle:Dy,useInsertionEffect:Py,useLayoutEffect:xy,useMemo:Vy,useReducer:Uu,useRef:Ay,useState:function(){return Uu(ks)},useDebugValue:ed,useDeferredValue:function(t){var e=nn();return Je===null?e.memoizedState=t:Ly(e,Je.memoizedState,t)},useTransition:function(){var t=Uu(ks)[0],e=nn().memoizedState;return[t,e]},useMutableSource:wy,useSyncExternalStore:Ey,useId:My,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bl={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),i=_r(t),o=bn(r,i);o.payload=e,n!=null&&(o.callback=n),e=yr(t,o,i),e!==null&&(dn(e,t,i,r),Ua(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),i=_r(t),o=bn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=yr(t,o,i),e!==null&&(dn(e,t,i,r),Ua(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=_r(t),i=bn(n,r);i.tag=2,e!=null&&(i.callback=e),e=yr(t,i,r),e!==null&&(dn(e,t,r,n),Ua(e,t,r))}};function vp(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ss(n,r)||!Ss(i,o):!0}function Uy(t,e,n){var r=!1,i=Rr,o=e.contextType;return typeof o=="object"&&o!==null?o=tn(o):(i=Ft(e)?ei:It.current,r=e.contextTypes,o=(r=r!=null)?Zi(t,i):Rr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _p(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bl.enqueueReplaceState(e,e.state,null)}function Lc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Kh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=tn(o):(o=Ft(e)?ei:It.current,i.context=Zi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Vc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bl.enqueueReplaceState(i,i.state,null),hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,e){try{var n="",r=e;do n+=Q_(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function bu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EE=typeof WeakMap=="function"?WeakMap:Map;function by(t,e,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){gl||(gl=!0,qc=r),Mc(t,e)},n}function zy(t,e,n){n=bn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mc(t,e),typeof r!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ME.bind(null,t,e,n),e.then(t,t))}function Ep(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bn(-1,1),e.tag=2,yr(n,e,1))),n.lanes|=1),t)}var TE=Wn.ReactCurrentOwner,Mt=!1;function Pt(t,e,n,r){e.child=t===null?gy(e,null,n,r):to(e,t.child,n,r)}function Sp(t,e,n,r,i){n=n.render;var o=e.ref;return Wi(e,i),r=Xh(t,e,n,r,o,i),n=Jh(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(Ne&&n&&Uh(e),e.flags|=1,Pt(t,e,r,i),e.child)}function Ip(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ld(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,By(t,e,o,r,i)):(t=qa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(a,r)&&t.ref===e.ref)return qn(t,e,i)}return e.flags|=1,t=wr(o,r),t.ref=e.ref,t.return=e,e.child=t}function By(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ss(o,r)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,qn(t,e,i)}return Oc(t,e,n,r,i)}function $y(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(zi,Bt),Bt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(zi,Bt),Bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(zi,Bt),Bt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ce(zi,Bt),Bt|=r;return Pt(t,e,i,n),e.child}function Hy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Oc(t,e,n,r,i){var o=Ft(n)?ei:It.current;return o=Zi(e,o),Wi(e,i),n=Xh(t,e,n,r,o,i),r=Jh(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qn(t,e,i)):(Ne&&r&&Uh(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Cp(t,e,n,r,i){if(Ft(n)){var o=!0;sl(e)}else o=!1;if(Wi(e,i),e.stateNode===null)Ba(t,e),Uy(e,n,r),Lc(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=tn(h):(h=Ft(n)?ei:It.current,h=Zi(e,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==h)&&_p(e,a,r,h),or=!1;var g=e.memoizedState;a.state=g,hl(e,r,a,i),u=e.memoizedState,l!==r||g!==u||Ot.current||or?(typeof f=="function"&&(Vc(e,n,f,r),u=e.memoizedState),(l=or||vp(e,n,l,r,g,u,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,vy(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:an(e.type,l),a.props=h,m=e.pendingProps,g=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=tn(u):(u=Ft(n)?ei:It.current,u=Zi(e,u));var R=n.getDerivedStateFromProps;(f=typeof R=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||g!==u)&&_p(e,a,r,u),or=!1,g=e.memoizedState,a.state=g,hl(e,r,a,i);var P=e.memoizedState;l!==m||g!==P||Ot.current||or?(typeof R=="function"&&(Vc(e,n,R,r),P=e.memoizedState),(h=or||vp(e,n,h,r,g,P,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,P,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,P,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),a.props=r,a.state=P,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Fc(t,e,n,r,o,i)}function Fc(t,e,n,r,i,o){Hy(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&cp(e,n,!1),qn(t,e,o);r=e.stateNode,TE.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=to(e,t.child,null,o),e.child=to(e,null,l,o)):Pt(t,e,l,o),e.memoizedState=r.state,i&&cp(e,n,!0),e.child}function qy(t){var e=t.stateNode;e.pendingContext?up(t,e.pendingContext,e.pendingContext!==e.context):e.context&&up(t,e.context,!1),Wh(t,e.containerInfo)}function Rp(t,e,n,r,i){return eo(),zh(i),e.flags|=256,Pt(t,e,n,r),e.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function Uc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ky(t,e,n){var r=e.pendingProps,i=Oe.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(Oe,i&1),t===null)return Dc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$l(a,r,0,null),t=Xr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Uc(n),e.memoizedState=jc,t):td(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return SE(t,e,a,r,l,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=wr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=wr(l,o):(o=Xr(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Uc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=jc,r}return o=t.child,t=o.sibling,r=wr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function td(t,e){return e=$l({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ra(t,e,n,r){return r!==null&&zh(r),to(e,t.child,null,n),t=td(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SE(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=bu(Error(b(422))),Ra(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=$l({mode:"visible",children:r.children},i,0,null),o=Xr(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&to(e,t.child,null,a),e.child.memoizedState=Uc(a),e.memoizedState=jc,o);if(!(e.mode&1))return Ra(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(b(419)),r=bu(o,r,void 0),Ra(t,e,a,r)}if(l=(a&t.childLanes)!==0,Mt||l){if(r=rt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hn(t,i),dn(r,t,i,-1))}return ad(),r=bu(Error(b(421))),Ra(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=OE.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,$t=gr(i.nextSibling),Ht=e,Ne=!0,cn=null,t!==null&&(Yt[Xt++]=Fn,Yt[Xt++]=jn,Yt[Xt++]=ti,Fn=t.id,jn=t.overflow,ti=e),e=td(e,r.children),e.flags|=4096,e)}function Ap(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nc(t.return,e,n)}function zu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wy(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Pt(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ap(t,n,e);else if(t.tag===19)Ap(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zu(e,!0,n,null,o);break;case"together":zu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ba(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IE(t,e,n){switch(e.tag){case 3:qy(e),eo();break;case 5:_y(e);break;case 1:Ft(e.type)&&sl(e);break;case 4:Wh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(ul,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?Ky(t,e,n):(Ce(Oe,Oe.current&1),t=qn(t,e,n),t!==null?t.sibling:null);Ce(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,$y(t,e,n)}return qn(t,e,n)}var Qy,bc,Gy,Yy;Qy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bc=function(){};Gy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kr(Tn.current);var o=null;switch(n){case"input":i=lc(t,i),r=lc(t,r),o=[];break;case"select":i=je({},i,{value:void 0}),r=je({},r,{value:void 0}),o=[];break;case"textarea":i=hc(t,i),r=hc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=il)}fc(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(gs.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(gs.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Pe("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Yy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bo(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function CE(t,e,n){var r=e.pendingProps;switch(bh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Ft(e.type)&&ol(),_t(e),null;case 3:return r=e.stateNode,no(),xe(Ot),xe(It),Gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(Qc(cn),cn=null))),bc(t,e),_t(e),null;case 5:Qh(e);var i=Kr(Ps.current);if(n=e.type,t!==null&&e.stateNode!=null)Gy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return _t(e),null}if(t=Kr(Tn.current),Ia(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_n]=e,r[Rs]=o,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(i=0;i<Xo.length;i++)Pe(Xo[i],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Of(r,o),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Pe("invalid",r);break;case"textarea":jf(r,o),Pe("invalid",r)}fc(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Sa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Sa(r.textContent,l,t),i=["children",""+l]):gs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Pe("scroll",r)}switch(n){case"input":ma(r),Ff(r,o,!0);break;case"textarea":ma(r),Uf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=il)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ig(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[_n]=e,t[Rs]=r,Qy(t,e,!1,!1),e.stateNode=t;e:{switch(a=pc(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),i=r;break;case"iframe":case"object":case"embed":Pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xo.length;i++)Pe(Xo[i],t);i=r;break;case"source":Pe("error",t),i=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),i=r;break;case"details":Pe("toggle",t),i=r;break;case"input":Of(t,r),i=lc(t,r),Pe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=je({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":jf(t,r),i=hc(t,r),Pe("invalid",t);break;default:i=r}fc(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Ag(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Cg(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ys(t,u):typeof u=="number"&&ys(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(gs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Pe("scroll",t):u!=null&&Ch(t,o,u,a))}switch(n){case"input":ma(t),Ff(t,r,!1);break;case"textarea":ma(t),Uf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$i(t,!!r.multiple,o,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)Yy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Kr(Ps.current),Kr(Tn.current),Ia(e)){if(r=e.stateNode,n=e.memoizedProps,r[_n]=e,(o=r.nodeValue!==n)&&(t=Ht,t!==null))switch(t.tag){case 3:Sa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r}return _t(e),null;case 13:if(xe(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&$t!==null&&e.mode&1&&!(e.flags&128))py(),eo(),e.flags|=98560,o=!1;else if(o=Ia(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(b(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[_n]=e}else eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),o=!1}else cn!==null&&(Qc(cn),cn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?et===0&&(et=3):ad())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return no(),bc(t,e),t===null&&Is(e.stateNode.containerInfo),_t(e),null;case 10:return Hh(e.type._context),_t(e),null;case 17:return Ft(e.type)&&ol(),_t(e),null;case 19:if(xe(Oe),o=e.memoizedState,o===null)return _t(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Bo(o,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=dl(t),a!==null){for(e.flags|=128,Bo(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(Oe,Oe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Be()>io&&(e.flags|=128,r=!0,Bo(o,!1),e.lanes=4194304)}else{if(!r)if(t=dl(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Ne)return _t(e),null}else 2*Be()-o.renderingStartTime>io&&n!==1073741824&&(e.flags|=128,r=!0,Bo(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Be(),e.sibling=null,n=Oe.current,Ce(Oe,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return sd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function RE(t,e){switch(bh(e),e.tag){case 1:return Ft(e.type)&&ol(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return no(),xe(Ot),xe(It),Gh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qh(e),null;case 13:if(xe(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Oe),null;case 4:return no(),null;case 10:return Hh(e.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var Aa=!1,Tt=!1,AE=typeof WeakSet=="function"?WeakSet:Set,G=null;function bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function zc(t,e,n){try{n()}catch(r){be(t,e,r)}}var Pp=!1;function PE(t,e){if(Ic=tl,t=ty(),jh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,f=0,m=t,g=null;t:for(;;){for(var R;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==o||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(R=m.firstChild)!==null;)g=m,m=R;for(;;){if(m===t)break t;if(g===n&&++h===i&&(l=a),g===o&&++f===r&&(u=a),(R=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=R}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cc={focusedElem:t,selectionRange:n},tl=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var x=P.memoizedProps,M=P.memoizedState,S=e.stateNode,w=S.getSnapshotBeforeUpdate(e.elementType===e.type?x:an(e.type,x),M);S.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(L){be(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return P=Pp,Pp=!1,P}function ls(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&zc(e,n,o)}i=i.next}while(i!==r)}}function zl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xy(t){var e=t.alternate;e!==null&&(t.alternate=null,Xy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Rs],delete e[Pc],delete e[cE],delete e[hE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jy(t){return t.tag===5||t.tag===3||t.tag===4}function xp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $c(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=il));else if(r!==4&&(t=t.child,t!==null))for($c(t,e,n),t=t.sibling;t!==null;)$c(t,e,n),t=t.sibling}function Hc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hc(t,e,n),t=t.sibling;t!==null;)Hc(t,e,n),t=t.sibling}var ht=null,ln=!1;function nr(t,e,n){for(n=n.child;n!==null;)Zy(t,e,n),n=n.sibling}function Zy(t,e,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Vl,n)}catch{}switch(n.tag){case 5:Tt||bi(n,e);case 6:var r=ht,i=ln;ht=null,nr(t,e,n),ht=r,ln=i,ht!==null&&(ln?(t=ht,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(ln?(t=ht,n=n.stateNode,t.nodeType===8?Lu(t.parentNode,n):t.nodeType===1&&Lu(t,n),Es(t)):Lu(ht,n.stateNode));break;case 4:r=ht,i=ln,ht=n.stateNode.containerInfo,ln=!0,nr(t,e,n),ht=r,ln=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&zc(n,e,a),i=i.next}while(i!==r)}nr(t,e,n);break;case 1:if(!Tt&&(bi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){be(n,e,l)}nr(t,e,n);break;case 21:nr(t,e,n);break;case 22:n.mode&1?(Tt=(r=Tt)||n.memoizedState!==null,nr(t,e,n),Tt=r):nr(t,e,n);break;default:nr(t,e,n)}}function kp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new AE),e.forEach(function(r){var i=FE.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:ht=l.stateNode,ln=!1;break e;case 3:ht=l.stateNode.containerInfo,ln=!0;break e;case 4:ht=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(ht===null)throw Error(b(160));Zy(o,a,i),ht=null,ln=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){be(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ev(e,t),e=e.sibling}function ev(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),yn(t),r&4){try{ls(3,t,t.return),zl(3,t)}catch(x){be(t,t.return,x)}try{ls(5,t,t.return)}catch(x){be(t,t.return,x)}}break;case 1:sn(e,t),yn(t),r&512&&n!==null&&bi(n,n.return);break;case 5:if(sn(e,t),yn(t),r&512&&n!==null&&bi(n,n.return),t.flags&32){var i=t.stateNode;try{ys(i,"")}catch(x){be(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Tg(i,o),pc(l,a);var h=pc(l,o);for(a=0;a<u.length;a+=2){var f=u[a],m=u[a+1];f==="style"?Ag(i,m):f==="dangerouslySetInnerHTML"?Cg(i,m):f==="children"?ys(i,m):Ch(i,f,m,h)}switch(l){case"input":uc(i,o);break;case"textarea":Sg(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?$i(i,!!o.multiple,R,!1):g!==!!o.multiple&&(o.defaultValue!=null?$i(i,!!o.multiple,o.defaultValue,!0):$i(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rs]=o}catch(x){be(t,t.return,x)}}break;case 6:if(sn(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){be(t,t.return,x)}}break;case 3:if(sn(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Es(e.containerInfo)}catch(x){be(t,t.return,x)}break;case 4:sn(e,t),yn(t);break;case 13:sn(e,t),yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(id=Be())),r&4&&kp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Tt=(h=Tt)||f,sn(e,t),Tt=h):sn(e,t),yn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(m=G=f;G!==null;){switch(g=G,R=g.child,g.tag){case 0:case 11:case 14:case 15:ls(4,g,g.return);break;case 1:bi(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(x){be(r,n,x)}}break;case 5:bi(g,g.return);break;case 22:if(g.memoizedState!==null){Np(m);continue}}R!==null?(R.return=g,G=R):Np(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Rg("display",a))}catch(x){be(t,t.return,x)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(x){be(t,t.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:sn(e,t),yn(t),r&4&&kp(t);break;case 21:break;default:sn(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jy(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ys(i,""),r.flags&=-33);var o=xp(t);Hc(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=xp(t);$c(t,l,a);break;default:throw Error(b(161))}}catch(u){be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xE(t,e,n){G=t,tv(t)}function tv(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Aa;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Tt;l=Aa;var h=Tt;if(Aa=a,(Tt=u)&&!h)for(G=i;G!==null;)a=G,u=a.child,a.tag===22&&a.memoizedState!==null?Vp(i):u!==null?(u.return=a,G=u):Vp(i);for(;o!==null;)G=o,tv(o),o=o.sibling;G=i,Aa=l,Tt=h}Dp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):Dp(t)}}function Dp(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||zl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Tt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&mp(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mp(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Es(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Tt||e.flags&512&&Bc(e)}catch(g){be(e,e.return,g)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function Np(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function Vp(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zl(4,e)}catch(u){be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){be(e,i,u)}}var o=e.return;try{Bc(e)}catch(u){be(e,o,u)}break;case 5:var a=e.return;try{Bc(e)}catch(u){be(e,a,u)}}}catch(u){be(e,e.return,u)}if(e===t){G=null;break}var l=e.sibling;if(l!==null){l.return=e.return,G=l;break}G=e.return}}var kE=Math.ceil,ml=Wn.ReactCurrentDispatcher,nd=Wn.ReactCurrentOwner,en=Wn.ReactCurrentBatchConfig,me=0,rt=null,Qe=null,ft=0,Bt=0,zi=Dr(0),et=0,Ns=null,ri=0,Bl=0,rd=0,us=null,Lt=null,id=0,io=1/0,Mn=null,gl=!1,qc=null,vr=null,Pa=!1,cr=null,yl=0,cs=0,Kc=null,$a=-1,Ha=0;function kt(){return me&6?Be():$a!==-1?$a:$a=Be()}function _r(t){return t.mode&1?me&2&&ft!==0?ft&-ft:fE.transition!==null?(Ha===0&&(Ha=Ug()),Ha):(t=we,t!==0||(t=window.event,t=t===void 0?16:Kg(t.type)),t):1}function dn(t,e,n,r){if(50<cs)throw cs=0,Kc=null,Error(b(185));$s(t,n,r),(!(me&2)||t!==rt)&&(t===rt&&(!(me&2)&&(Bl|=n),et===4&&lr(t,ft)),jt(t,r),n===1&&me===0&&!(e.mode&1)&&(io=Be()+500,jl&&Nr()))}function jt(t,e){var n=t.callbackNode;fw(t,e);var r=el(t,t===rt?ft:0);if(r===0)n!==null&&Bf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Bf(n),e===1)t.tag===0?dE(Lp.bind(null,t)):hy(Lp.bind(null,t)),lE(function(){!(me&6)&&Nr()}),n=null;else{switch(bg(r)){case 1:n=kh;break;case 4:n=Fg;break;case 16:n=Za;break;case 536870912:n=jg;break;default:n=Za}n=uv(n,nv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nv(t,e){if($a=-1,Ha=0,me&6)throw Error(b(327));var n=t.callbackNode;if(Qi()&&t.callbackNode!==n)return null;var r=el(t,t===rt?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vl(t,r);else{e=r;var i=me;me|=2;var o=iv();(rt!==t||ft!==e)&&(Mn=null,io=Be()+500,Yr(t,e));do try{VE();break}catch(l){rv(t,l)}while(!0);$h(),ml.current=o,me=i,Qe!==null?e=0:(rt=null,ft=0,e=et)}if(e!==0){if(e===2&&(i=_c(t),i!==0&&(r=i,e=Wc(t,i))),e===1)throw n=Ns,Yr(t,0),lr(t,r),jt(t,Be()),n;if(e===6)lr(t,r);else{if(i=t.current.alternate,!(r&30)&&!DE(i)&&(e=vl(t,r),e===2&&(o=_c(t),o!==0&&(r=o,e=Wc(t,o))),e===1))throw n=Ns,Yr(t,0),lr(t,r),jt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Br(t,Lt,Mn);break;case 3:if(lr(t,r),(r&130023424)===r&&(e=id+500-Be(),10<e)){if(el(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ac(Br.bind(null,t,Lt,Mn),e);break}Br(t,Lt,Mn);break;case 4:if(lr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-hn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kE(r/1960))-r,10<r){t.timeoutHandle=Ac(Br.bind(null,t,Lt,Mn),r);break}Br(t,Lt,Mn);break;case 5:Br(t,Lt,Mn);break;default:throw Error(b(329))}}}return jt(t,Be()),t.callbackNode===n?nv.bind(null,t):null}function Wc(t,e){var n=us;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=vl(t,e),t!==2&&(e=Lt,Lt=n,e!==null&&Qc(e)),t}function Qc(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function DE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function lr(t,e){for(e&=~rd,e&=~Bl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),r=1<<n;t[n]=-1,e&=~r}}function Lp(t){if(me&6)throw Error(b(327));Qi();var e=el(t,0);if(!(e&1))return jt(t,Be()),null;var n=vl(t,e);if(t.tag!==0&&n===2){var r=_c(t);r!==0&&(e=r,n=Wc(t,r))}if(n===1)throw n=Ns,Yr(t,0),lr(t,e),jt(t,Be()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Br(t,Lt,Mn),jt(t,Be()),null}function od(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(io=Be()+500,jl&&Nr())}}function ii(t){cr!==null&&cr.tag===0&&!(me&6)&&Qi();var e=me;me|=1;var n=en.transition,r=we;try{if(en.transition=null,we=1,t)return t()}finally{we=r,en.transition=n,me=e,!(me&6)&&Nr()}}function sd(){Bt=zi.current,xe(zi)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aE(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(bh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:no(),xe(Ot),xe(It),Gh();break;case 5:Qh(r);break;case 4:no();break;case 13:xe(Oe);break;case 19:xe(Oe);break;case 10:Hh(r.type._context);break;case 22:case 23:sd()}n=n.return}if(rt=t,Qe=t=wr(t.current,null),ft=Bt=e,et=0,Ns=null,rd=Bl=ri=0,Lt=us=null,qr!==null){for(e=0;e<qr.length;e++)if(n=qr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}qr=null}return t}function rv(t,e){do{var n=Qe;try{if($h(),ba.current=pl,fl){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fl=!1}if(ni=0,nt=Je=Fe=null,as=!1,xs=0,nd.current=null,n===null||n.return===null){et=1,Ns=e,Qe=null;break}e:{var o=t,a=n.return,l=n,u=e;if(e=ft,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var R=Ep(a);if(R!==null){R.flags&=-257,Tp(R,a,l,o,e),R.mode&1&&wp(o,h,e),e=R,u=h;var P=e.updateQueue;if(P===null){var x=new Set;x.add(u),e.updateQueue=x}else P.add(u);break e}else{if(!(e&1)){wp(o,h,e),ad();break e}u=Error(b(426))}}else if(Ne&&l.mode&1){var M=Ep(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Tp(M,a,l,o,e),zh(ro(u,l));break e}}o=u=ro(u,l),et!==4&&(et=2),us===null?us=[o]:us.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=by(o,u,e);pp(o,S);break e;case 1:l=u;var w=o.type,I=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(vr===null||!vr.has(I)))){o.flags|=65536,e&=-e,o.lanes|=e;var L=zy(o,l,e);pp(o,L);break e}}o=o.return}while(o!==null)}sv(n)}catch(z){e=z,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function iv(){var t=ml.current;return ml.current=pl,t===null?pl:t}function ad(){(et===0||et===3||et===2)&&(et=4),rt===null||!(ri&268435455)&&!(Bl&268435455)||lr(rt,ft)}function vl(t,e){var n=me;me|=2;var r=iv();(rt!==t||ft!==e)&&(Mn=null,Yr(t,e));do try{NE();break}catch(i){rv(t,i)}while(!0);if($h(),me=n,ml.current=r,Qe!==null)throw Error(b(261));return rt=null,ft=0,et}function NE(){for(;Qe!==null;)ov(Qe)}function VE(){for(;Qe!==null&&!iw();)ov(Qe)}function ov(t){var e=lv(t.alternate,t,Bt);t.memoizedProps=t.pendingProps,e===null?sv(t):Qe=e,nd.current=null}function sv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RE(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Qe=null;return}}else if(n=CE(n,e,Bt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);et===0&&(et=5)}function Br(t,e,n){var r=we,i=en.transition;try{en.transition=null,we=1,LE(t,e,n,r)}finally{en.transition=i,we=r}return null}function LE(t,e,n,r){do Qi();while(cr!==null);if(me&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(pw(t,o),t===rt&&(Qe=rt=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pa||(Pa=!0,uv(Za,function(){return Qi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=en.transition,en.transition=null;var a=we;we=1;var l=me;me|=4,nd.current=null,PE(t,n),ev(n,t),eE(Cc),tl=!!Ic,Cc=Ic=null,t.current=n,xE(n),ow(),me=l,we=a,en.transition=o}else t.current=n;if(Pa&&(Pa=!1,cr=t,yl=i),o=t.pendingLanes,o===0&&(vr=null),lw(n.stateNode),jt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gl)throw gl=!1,t=qc,qc=null,t;return yl&1&&t.tag!==0&&Qi(),o=t.pendingLanes,o&1?t===Kc?cs++:(cs=0,Kc=t):cs=0,Nr(),null}function Qi(){if(cr!==null){var t=bg(yl),e=en.transition,n=we;try{if(en.transition=null,we=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,yl=0,me&6)throw Error(b(331));var i=me;for(me|=4,G=t.current;G!==null;){var o=G,a=o.child;if(G.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(G=h;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:ls(8,f,o)}var m=f.child;if(m!==null)m.return=f,G=m;else for(;G!==null;){f=G;var g=f.sibling,R=f.return;if(Xy(f),f===h){G=null;break}if(g!==null){g.return=R,G=g;break}G=R}}}var P=o.alternate;if(P!==null){var x=P.child;if(x!==null){P.child=null;do{var M=x.sibling;x.sibling=null,x=M}while(x!==null)}}G=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,G=a;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ls(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,G=S;break e}G=o.return}}var w=t.current;for(G=w;G!==null;){a=G;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,G=I;else e:for(a=w;G!==null;){if(l=G,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zl(9,l)}}catch(z){be(l,l.return,z)}if(l===a){G=null;break e}var L=l.sibling;if(L!==null){L.return=l.return,G=L;break e}G=l.return}}if(me=i,Nr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Vl,t)}catch{}r=!0}return r}finally{we=n,en.transition=e}}return!1}function Mp(t,e,n){e=ro(n,e),e=by(t,e,1),t=yr(t,e,1),e=kt(),t!==null&&($s(t,1,e),jt(t,e))}function be(t,e,n){if(t.tag===3)Mp(t,t,n);else for(;e!==null;){if(e.tag===3){Mp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vr===null||!vr.has(r))){t=ro(n,t),t=zy(e,t,1),e=yr(e,t,1),t=kt(),e!==null&&($s(e,1,t),jt(e,t));break}}e=e.return}}function ME(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ft&n)===n&&(et===4||et===3&&(ft&130023424)===ft&&500>Be()-id?Yr(t,0):rd|=n),jt(t,e)}function av(t,e){e===0&&(t.mode&1?(e=va,va<<=1,!(va&130023424)&&(va=4194304)):e=1);var n=kt();t=Hn(t,e),t!==null&&($s(t,e,n),jt(t,n))}function OE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),av(t,n)}function FE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),av(t,n)}var lv;lv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mt=!1,IE(t,e,n);Mt=!!(t.flags&131072)}else Mt=!1,Ne&&e.flags&1048576&&dy(e,ll,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ba(t,e),t=e.pendingProps;var i=Zi(e,It.current);Wi(e,n),i=Xh(null,e,r,t,i,n);var o=Jh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(o=!0,sl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kh(e),i.updater=bl,e.stateNode=i,i._reactInternals=e,Lc(e,r,t,n),e=Fc(null,e,r,!0,o,n)):(e.tag=0,Ne&&o&&Uh(e),Pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ba(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=UE(r),t=an(r,t),i){case 0:e=Oc(null,e,r,t,n);break e;case 1:e=Cp(null,e,r,t,n);break e;case 11:e=Sp(null,e,r,t,n);break e;case 14:e=Ip(null,e,r,an(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Oc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Cp(t,e,r,i,n);case 3:e:{if(qy(e),t===null)throw Error(b(387));r=e.pendingProps,o=e.memoizedState,i=o.element,vy(t,e),hl(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ro(Error(b(423)),e),e=Rp(t,e,r,n,i);break e}else if(r!==i){i=ro(Error(b(424)),e),e=Rp(t,e,r,n,i);break e}else for($t=gr(e.stateNode.containerInfo.firstChild),Ht=e,Ne=!0,cn=null,n=gy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(eo(),r===i){e=qn(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return _y(e),t===null&&Dc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,Rc(r,i)?a=null:o!==null&&Rc(r,o)&&(e.flags|=32),Hy(t,e),Pt(t,e,a,n),e.child;case 6:return t===null&&Dc(e),null;case 13:return Ky(t,e,n);case 4:return Wh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=to(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Sp(t,e,r,i,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ce(ul,r._currentValue),r._currentValue=a,o!==null)if(fn(o.value,a)){if(o.children===i.children&&!Ot.current){e=qn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=bn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?u.next=u:(u.next=f.next,f.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Nc(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(b(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Nc(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wi(e,n),i=tn(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,i=an(r,e.pendingProps),i=an(r.type,i),Ip(t,e,r,i,n);case 15:return By(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Ba(t,e),e.tag=1,Ft(r)?(t=!0,sl(e)):t=!1,Wi(e,n),Uy(e,r,i),Lc(e,r,i,n),Fc(null,e,r,!0,t,n);case 19:return Wy(t,e,n);case 22:return $y(t,e,n)}throw Error(b(156,e.tag))};function uv(t,e){return Og(t,e)}function jE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,e,n,r){return new jE(t,e,n,r)}function ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UE(t){if(typeof t=="function")return ld(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ah)return 11;if(t===Ph)return 14}return 2}function wr(t,e){var n=t.alternate;return n===null?(n=Zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qa(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")ld(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Di:return Xr(n.children,i,o,e);case Rh:a=8,i|=8;break;case ic:return t=Zt(12,n,e,i|2),t.elementType=ic,t.lanes=o,t;case oc:return t=Zt(13,n,e,i),t.elementType=oc,t.lanes=o,t;case sc:return t=Zt(19,n,e,i),t.elementType=sc,t.lanes=o,t;case _g:return $l(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yg:a=10;break e;case vg:a=9;break e;case Ah:a=11;break e;case Ph:a=14;break e;case ir:a=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Zt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xr(t,e,n,r){return t=Zt(7,t,r,e),t.lanes=n,t}function $l(t,e,n,r){return t=Zt(22,t,r,e),t.elementType=_g,t.lanes=n,t.stateNode={isHidden:!1},t}function Bu(t,e,n){return t=Zt(6,t,null,e),t.lanes=n,t}function $u(t,e,n){return e=Zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bE(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ud(t,e,n,r,i,o,a,l,u){return t=new bE(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(o),t}function zE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ki,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cv(t){if(!t)return Rr;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Ft(n))return cy(t,n,e)}return e}function hv(t,e,n,r,i,o,a,l,u){return t=ud(n,r,!0,t,i,o,a,l,u),t.context=cv(null),n=t.current,r=kt(),i=_r(n),o=bn(r,i),o.callback=e??null,yr(n,o,i),t.current.lanes=i,$s(t,i,r),jt(t,r),t}function Hl(t,e,n,r){var i=e.current,o=kt(),a=_r(i);return n=cv(n),e.context===null?e.context=n:e.pendingContext=n,e=bn(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yr(i,e,a),t!==null&&(dn(t,i,a,o),Ua(t,i,a)),a}function _l(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Op(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cd(t,e){Op(t,e),(t=t.alternate)&&Op(t,e)}function BE(){return null}var dv=typeof reportError=="function"?reportError:function(t){console.error(t)};function hd(t){this._internalRoot=t}ql.prototype.render=hd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Hl(t,e,null,null)};ql.prototype.unmount=hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){Hl(null,t,null,null)}),e[$n]=null}};function ql(t){this._internalRoot=t}ql.prototype.unstable_scheduleHydration=function(t){if(t){var e=$g();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ar.length&&e!==0&&e<ar[n].priority;n++);ar.splice(n,0,t),n===0&&qg(t)}};function dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function $E(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=_l(a);o.call(h)}}var a=hv(e,r,t,0,null,!1,!1,"",Fp);return t._reactRootContainer=a,t[$n]=a.current,Is(t.nodeType===8?t.parentNode:t),ii(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=_l(u);l.call(h)}}var u=ud(t,0,!1,null,null,!1,!1,"",Fp);return t._reactRootContainer=u,t[$n]=u.current,Is(t.nodeType===8?t.parentNode:t),ii(function(){Hl(e,u,n,r)}),u}function Wl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=_l(a);l.call(u)}}Hl(e,a,t,i)}else a=$E(n,e,t,i,r);return _l(a)}zg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yo(e.pendingLanes);n!==0&&(Dh(e,n|1),jt(e,Be()),!(me&6)&&(io=Be()+500,Nr()))}break;case 13:ii(function(){var r=Hn(t,1);if(r!==null){var i=kt();dn(r,t,1,i)}}),cd(t,1)}};Nh=function(t){if(t.tag===13){var e=Hn(t,134217728);if(e!==null){var n=kt();dn(e,t,134217728,n)}cd(t,134217728)}};Bg=function(t){if(t.tag===13){var e=_r(t),n=Hn(t,e);if(n!==null){var r=kt();dn(n,t,e,r)}cd(t,e)}};$g=function(){return we};Hg=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};gc=function(t,e,n){switch(e){case"input":if(uc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fl(r);if(!i)throw Error(b(90));Eg(r),uc(r,i)}}}break;case"textarea":Sg(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};kg=od;Dg=ii;var HE={usingClientEntryPoint:!1,Events:[qs,Mi,Fl,Pg,xg,od]},$o={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qE={bundleType:$o.bundleType,version:$o.version,rendererPackageName:$o.rendererPackageName,rendererConfig:$o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lg(t),t===null?null:t.stateNode},findFiberByHostInstance:$o.findFiberByHostInstance||BE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{Vl=xa.inject(qE),En=xa}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HE;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(e))throw Error(b(200));return zE(t,e,null,n)};Kt.createRoot=function(t,e){if(!dd(t))throw Error(b(299));var n=!1,r="",i=dv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ud(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,Is(t.nodeType===8?t.parentNode:t),new hd(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Lg(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return ii(t)};Kt.hydrate=function(t,e,n){if(!Kl(e))throw Error(b(200));return Wl(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!dd(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=dv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=hv(e,null,t,1,n??null,i,!1,o,a),t[$n]=e.current,Is(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ql(e)};Kt.render=function(t,e,n){if(!Kl(e))throw Error(b(200));return Wl(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Kl(t))throw Error(b(40));return t._reactRootContainer?(ii(function(){Wl(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};Kt.unstable_batchedUpdates=od;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kl(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Wl(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function fv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fv)}catch(t){console.error(t)}}fv(),fg.exports=Kt;var fd=fg.exports;const KE=tg(fd),WE=eg({__proto__:null,default:KE},[fd]);var jp=fd;nc.createRoot=jp.createRoot,nc.hydrateRoot=jp.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Me(){return Me=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Me.apply(this,arguments)}var Ke;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ke||(Ke={}));const Up="popstate";function QE(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:l}=r.location;return Vs("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:oi(i)}return YE(e,n,null,t)}function ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GE(){return Math.random().toString(36).substr(2,8)}function bp(t,e){return{usr:t.state,key:t.key,idx:e}}function Vs(t,e,n,r){return n===void 0&&(n=null),Me({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vr(e):e,{state:n,key:e&&e.key||r||GE()})}function oi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function YE(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Ke.Pop,u=null,h=f();h==null&&(h=0,a.replaceState(Me({},a.state,{idx:h}),""));function f(){return(a.state||{idx:null}).idx}function m(){l=Ke.Pop;let M=f(),S=M==null?null:M-h;h=M,u&&u({action:l,location:x.location,delta:S})}function g(M,S){l=Ke.Push;let w=Vs(x.location,M,S);h=f()+1;let I=bp(w,h),L=x.createHref(w);try{a.pushState(I,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(L)}o&&u&&u({action:l,location:x.location,delta:1})}function R(M,S){l=Ke.Replace;let w=Vs(x.location,M,S);h=f();let I=bp(w,h),L=x.createHref(w);a.replaceState(I,"",L),o&&u&&u({action:l,location:x.location,delta:0})}function P(M){let S=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof M=="string"?M:oi(M);return w=w.replace(/ $/,"%20"),ce(S,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,S)}let x={get action(){return l},get location(){return t(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Up,m),u=M,()=>{i.removeEventListener(Up,m),u=null}},createHref(M){return e(i,M)},createURL:P,encodeLocation(M){let S=P(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:R,go(M){return a.go(M)}};return x}var De;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(De||(De={}));const XE=new Set(["lazy","caseSensitive","path","id","index","children"]);function JE(t){return t.index===!0}function Gc(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let a=[...n,o],l=typeof i.id=="string"?i.id:a.join("-");if(ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),ce(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),JE(i)){let u=Me({},i,e(i),{id:l});return r[l]=u,u}else{let u=Me({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Gc(i.children,e,a,r)),u}})}function Bi(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Vr(e):e,i=go(r.pathname||"/",n);if(i==null)return null;let o=pv(t);e1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=d1(i);a=u1(o[l],u)}return a}function ZE(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function pv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=zn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(ce(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),pv(o.children,e,f,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:a1(h,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of mv(o.path))i(o,a,u)}),e}function mv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=mv(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function e1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:l1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const t1=/^:[\w-]+$/,n1=3,r1=2,i1=1,o1=10,s1=-2,zp=t=>t==="*";function a1(t,e){let n=t.split("/"),r=n.length;return n.some(zp)&&(r+=s1),e&&(r+=r1),n.filter(i=>!zp(i)).reduce((i,o)=>i+(t1.test(o)?n1:o===""?i1:o1),r)}function l1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u1(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=c1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h);if(!f)return null;Object.assign(r,f.params);let m=l.route;o.push({params:r,pathname:zn([i,f.pathname]),pathnameBase:m1(zn([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=zn([i,f.pathnameBase]))}return o}function c1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=h1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:g,isOptional:R}=f;if(g==="*"){let x=l[m]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const P=l[m];return R&&!P?h[g]=void 0:h[g]=(P||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:t}}function h1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),oo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function go(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function f1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Vr(t):t;return{pathname:n?n.startsWith("/")?n:p1(n,e):e,search:g1(r),hash:y1(i)}}function p1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pd(t,e){let n=gv(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function md(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Vr(t):(i=Me({},t),ce(!i.pathname||!i.pathname.includes("?"),Hu("?","pathname","search",i)),ce(!i.pathname||!i.pathname.includes("#"),Hu("#","pathname","hash",i)),ce(!i.search||!i.search.includes("#"),Hu("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=f1(i,l),h=a&&a!=="/"&&a.endsWith("/"),f=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),m1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class gd{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yv=["post","put","patch","delete"],v1=new Set(yv),_1=["get",...yv],w1=new Set(_1),E1=new Set([301,302,303,307,308]),T1=new Set([307,308]),qu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},S1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ho={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},vd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),vv="remix-router-transitions";function C1(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=N=>({hasErrorBoundary:k(N)})}else i=I1;let o={},a=Gc(t.routes,i,void 0,o),l,u=t.basename||"/",h=t.unstable_dataStrategy||x1,f=Me({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),m=null,g=new Set,R=null,P=null,x=null,M=t.hydrationData!=null,S=Bi(a,t.history.location,u),w=null;if(S==null){let k=Gt(404,{pathname:t.history.location.pathname}),{matches:N,route:O}=Xp(a);S=N,w={[O.id]:k}}let I,L=S.some(k=>k.route.lazy),z=S.some(k=>k.route.loader);if(L)I=!1;else if(!z)I=!0;else if(f.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null,O=B=>B.route.loader?typeof B.route.loader=="function"&&B.route.loader.hydrate===!0?!1:k&&k[B.route.id]!==void 0||N&&N[B.route.id]!==void 0:!0;if(N){let B=S.findIndex(Q=>N[Q.route.id]!==void 0);I=S.slice(0,B+1).every(O)}else I=S.every(O)}else I=t.hydrationData!=null;let H,p={historyAction:t.history.action,location:t.history.location,matches:S,initialized:I,navigation:qu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||w,fetchers:new Map,blockers:new Map},v=Ke.Pop,_=!1,E,C=!1,A=new Map,T=null,Te=!1,it=!1,pn=[],Vt=[],$=new Map,te=0,re=-1,ve=new Map,le=new Set,Ee=new Map,Rt=new Map,Ye=new Set,ot=new Map,st=new Map,Eo=!1;function au(){if(m=t.history.listen(k=>{let{action:N,location:O,delta:B}=k;if(Eo){Eo=!1;return}oo(st.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Q=_i({currentLocation:p.location,nextLocation:O,historyAction:N});if(Q&&B!=null){Eo=!0,t.history.go(B*-1),vi(Q,{state:"blocked",location:O,proceed(){vi(Q,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(B)},reset(){let X=new Map(p.blockers);X.set(Q,Ho),at({blockers:X})}});return}return mn(N,O)}),n){z1(e,A);let k=()=>B1(e,A);e.addEventListener("pagehide",k),T=()=>e.removeEventListener("pagehide",k)}return p.initialized||mn(Ke.Pop,p.location,{initialHydration:!0}),H}function fi(){m&&m(),T&&T(),g.clear(),E&&E.abort(),p.fetchers.forEach((k,N)=>Fr(N)),p.blockers.forEach((k,N)=>ta(N))}function pi(k){return g.add(k),()=>g.delete(k)}function at(k,N){N===void 0&&(N={}),p=Me({},p,k);let O=[],B=[];f.v7_fetcherPersist&&p.fetchers.forEach((Q,X)=>{Q.state==="idle"&&(Ye.has(X)?B.push(X):O.push(X))}),[...g].forEach(Q=>Q(p,{deletedFetchers:B,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),f.v7_fetcherPersist&&(O.forEach(Q=>p.fetchers.delete(Q)),B.forEach(Q=>Fr(Q)))}function An(k,N,O){var B,Q;let{flushSync:X}=O===void 0?{}:O,J=p.actionData!=null&&p.navigation.formMethod!=null&&un(p.navigation.formMethod)&&p.navigation.state==="loading"&&((B=k.state)==null?void 0:B._isRedirect)!==!0,W;N.actionData?Object.keys(N.actionData).length>0?W=N.actionData:W=null:J?W=p.actionData:W=null;let ie=N.loaderData?Gp(p.loaderData,N.loaderData,N.matches||[],N.errors):p.loaderData,oe=p.blockers;oe.size>0&&(oe=new Map(oe),oe.forEach((ne,Ie)=>oe.set(Ie,Ho)));let Xe=_===!0||p.navigation.formMethod!=null&&un(p.navigation.formMethod)&&((Q=k.state)==null?void 0:Q._isRedirect)!==!0;l&&(a=l,l=void 0),Te||v===Ke.Pop||(v===Ke.Push?t.history.push(k,k.state):v===Ke.Replace&&t.history.replace(k,k.state));let ke;if(v===Ke.Pop){let ne=A.get(p.location.pathname);ne&&ne.has(k.pathname)?ke={currentLocation:p.location,nextLocation:k}:A.has(k.pathname)&&(ke={currentLocation:k,nextLocation:p.location})}else if(C){let ne=A.get(p.location.pathname);ne?ne.add(k.pathname):(ne=new Set([k.pathname]),A.set(p.location.pathname,ne)),ke={currentLocation:p.location,nextLocation:k}}at(Me({},N,{actionData:W,loaderData:ie,historyAction:v,location:k,initialized:!0,navigation:qu,revalidation:"idle",restoreScrollPosition:Ei(k,N.matches||p.matches),preventScrollReset:Xe,blockers:oe}),{viewTransitionOpts:ke,flushSync:X===!0}),v=Ke.Pop,_=!1,C=!1,Te=!1,it=!1,pn=[],Vt=[]}async function mi(k,N){if(typeof k=="number"){t.history.go(k);return}let O=Yc(p.location,p.matches,u,f.v7_prependBasename,k,f.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:B,submission:Q,error:X}=Bp(f.v7_normalizeFormMethod,!1,O,N),J=p.location,W=Vs(p.location,B,N&&N.state);W=Me({},W,t.history.encodeLocation(W));let ie=N&&N.replace!=null?N.replace:void 0,oe=Ke.Push;ie===!0?oe=Ke.Replace:ie===!1||Q!=null&&un(Q.formMethod)&&Q.formAction===p.location.pathname+p.location.search&&(oe=Ke.Replace);let Xe=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,ke=(N&&N.unstable_flushSync)===!0,ne=_i({currentLocation:J,nextLocation:W,historyAction:oe});if(ne){vi(ne,{state:"blocked",location:W,proceed(){vi(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),mi(k,N)},reset(){let Ie=new Map(p.blockers);Ie.set(ne,Ho),at({blockers:Ie})}});return}return await mn(oe,W,{submission:Q,pendingError:X,preventScrollReset:Xe,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:ke})}function To(){if(yi(),at({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){mn(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}mn(v||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function mn(k,N,O){E&&E.abort(),E=null,v=k,Te=(O&&O.startUninterruptedRevalidation)===!0,Ao(p.location,p.matches),_=(O&&O.preventScrollReset)===!0,C=(O&&O.enableViewTransition)===!0;let B=l||a,Q=O&&O.overrideNavigation,X=Bi(B,N,u),J=(O&&O.flushSync)===!0;if(!X){let ne=Gt(404,{pathname:N.pathname}),{matches:Ie,route:Le}=Xp(B);wi(),An(N,{matches:Ie,loaderData:{},errors:{[Le.id]:ne}},{flushSync:J});return}if(p.initialized&&!it&&M1(p.location,N)&&!(O&&O.submission&&un(O.submission.formMethod))){An(N,{matches:X},{flushSync:J});return}E=new AbortController;let W=Ri(t.history,N,E.signal,O&&O.submission),ie;if(O&&O.pendingError)ie=[hs(X).route.id,{type:De.error,error:O.pendingError}];else if(O&&O.submission&&un(O.submission.formMethod)){let ne=await lu(W,N,O.submission,X,{replace:O.replace,flushSync:J});if(ne.shortCircuited)return;ie=ne.pendingActionResult,Q=Ku(N,O.submission),J=!1,W=Ri(t.history,W.url,W.signal)}let{shortCircuited:oe,loaderData:Xe,errors:ke}=await uu(W,N,X,Q,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,J,ie);oe||(E=null,An(N,Me({matches:X},Yp(ie),{loaderData:Xe,errors:ke})))}async function lu(k,N,O,B,Q){Q===void 0&&(Q={}),yi();let X=U1(N,O);at({navigation:X},{flushSync:Q.flushSync===!0});let J,W=Jc(B,N);if(!W.route.action&&!W.route.lazy)J={type:De.error,error:Gt(405,{method:k.method,pathname:N.pathname,routeId:W.route.id})};else if(J=(await Pn("action",k,[W],B))[0],k.signal.aborted)return{shortCircuited:!0};if(Qr(J)){let ie;return Q&&Q.replace!=null?ie=Q.replace:ie=Kp(J.response.headers.get("Location"),new URL(k.url),u)===p.location.pathname+p.location.search,await Mr(k,J,{submission:O,replace:ie}),{shortCircuited:!0}}if(Wr(J))throw Gt(400,{type:"defer-action"});if(Jt(J)){let ie=hs(B,W.route.id);return(Q&&Q.replace)!==!0&&(v=Ke.Push),{pendingActionResult:[ie.route.id,J]}}return{pendingActionResult:[W.route.id,J]}}async function uu(k,N,O,B,Q,X,J,W,ie,oe){let Xe=B||Ku(N,Q),ke=Q||X||em(Xe),ne=l||a,[Ie,Le]=$p(t.history,p,O,ke,N,f.v7_partialHydration&&W===!0,f.unstable_skipActionErrorRevalidation,it,pn,Vt,Ye,Ee,le,ne,u,oe);if(wi(ue=>!(O&&O.some(lt=>lt.route.id===ue))||Ie&&Ie.some(lt=>lt.route.id===ue)),re=++te,Ie.length===0&&Le.length===0){let ue=Io();return An(N,Me({matches:O,loaderData:{},errors:oe&&Jt(oe[1])?{[oe[0]]:oe[1].error}:null},Yp(oe),ue?{fetchers:new Map(p.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(!Te&&(!f.v7_partialHydration||!W)){Le.forEach(lt=>{let ut=p.fetchers.get(lt.key),He=qo(void 0,ut?ut.data:void 0);p.fetchers.set(lt.key,He)});let ue;oe&&!Jt(oe[1])?ue={[oe[0]]:oe[1].data}:p.actionData&&(Object.keys(p.actionData).length===0?ue=null:ue=p.actionData),at(Me({navigation:Xe},ue!==void 0?{actionData:ue}:{},Le.length>0?{fetchers:new Map(p.fetchers)}:{}),{flushSync:ie})}Le.forEach(ue=>{$.has(ue.key)&&gn(ue.key),ue.controller&&$.set(ue.key,ue.controller)});let Yn=()=>Le.forEach(ue=>gn(ue.key));E&&E.signal.addEventListener("abort",Yn);let{loaderResults:Qt,fetcherResults:rn}=await gi(p.matches,O,Ie,Le,k);if(k.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",Yn),Le.forEach(ue=>$.delete(ue.key));let At=Jp([...Qt,...rn]);if(At){if(At.idx>=Ie.length){let ue=Le[At.idx-Ie.length].key;le.add(ue)}return await Mr(k,At.result,{replace:J}),{shortCircuited:!0}}let{loaderData:kn,errors:bt}=Qp(p,O,Ie,Qt,oe,Le,rn,ot);ot.forEach((ue,lt)=>{ue.subscribe(ut=>{(ut||ue.done)&&ot.delete(lt)})}),f.v7_partialHydration&&W&&p.errors&&Object.entries(p.errors).filter(ue=>{let[lt]=ue;return!Ie.some(ut=>ut.route.id===lt)}).forEach(ue=>{let[lt,ut]=ue;bt=Object.assign(bt||{},{[lt]:ut})});let Xn=Io(),Jn=Co(re),jr=Xn||Jn||Le.length>0;return Me({loaderData:kn,errors:bt},jr?{fetchers:new Map(p.fetchers)}:{})}function Js(k,N,O,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(k)&&gn(k);let Q=(B&&B.unstable_flushSync)===!0,X=l||a,J=Yc(p.location,p.matches,u,f.v7_prependBasename,O,f.v7_relativeSplatPath,N,B==null?void 0:B.relative),W=Bi(X,J,u);if(!W){ze(k,N,Gt(404,{pathname:J}),{flushSync:Q});return}let{path:ie,submission:oe,error:Xe}=Bp(f.v7_normalizeFormMethod,!0,J,B);if(Xe){ze(k,N,Xe,{flushSync:Q});return}let ke=Jc(W,ie);if(_=(B&&B.preventScrollReset)===!0,oe&&un(oe.formMethod)){So(k,N,ie,ke,W,Q,oe);return}Ee.set(k,{routeId:N,path:ie}),Zs(k,N,ie,ke,W,Q,oe)}async function So(k,N,O,B,Q,X,J){if(yi(),Ee.delete(k),!B.route.action&&!B.route.lazy){let He=Gt(405,{method:J.formMethod,pathname:O,routeId:N});ze(k,N,He,{flushSync:X});return}let W=p.fetchers.get(k);Re(k,b1(J,W),{flushSync:X});let ie=new AbortController,oe=Ri(t.history,O,ie.signal,J);$.set(k,ie);let Xe=te,ne=(await Pn("action",oe,[B],Q))[0];if(oe.signal.aborted){$.get(k)===ie&&$.delete(k);return}if(f.v7_fetcherPersist&&Ye.has(k)){if(Qr(ne)||Jt(ne)){Re(k,rr(void 0));return}}else{if(Qr(ne))if($.delete(k),re>Xe){Re(k,rr(void 0));return}else return le.add(k),Re(k,qo(J)),Mr(oe,ne,{fetcherSubmission:J});if(Jt(ne)){ze(k,N,ne.error);return}}if(Wr(ne))throw Gt(400,{type:"defer-action"});let Ie=p.navigation.location||p.location,Le=Ri(t.history,Ie,ie.signal),Yn=l||a,Qt=p.navigation.state!=="idle"?Bi(Yn,p.navigation.location,u):p.matches;ce(Qt,"Didn't find any matches after fetcher action");let rn=++te;ve.set(k,rn);let At=qo(J,ne.data);p.fetchers.set(k,At);let[kn,bt]=$p(t.history,p,Qt,J,Ie,!1,f.unstable_skipActionErrorRevalidation,it,pn,Vt,Ye,Ee,le,Yn,u,[B.route.id,ne]);bt.filter(He=>He.key!==k).forEach(He=>{let Dn=He.key,Zn=p.fetchers.get(Dn),Nn=qo(void 0,Zn?Zn.data:void 0);p.fetchers.set(Dn,Nn),$.has(Dn)&&gn(Dn),He.controller&&$.set(Dn,He.controller)}),at({fetchers:new Map(p.fetchers)});let Xn=()=>bt.forEach(He=>gn(He.key));ie.signal.addEventListener("abort",Xn);let{loaderResults:Jn,fetcherResults:jr}=await gi(p.matches,Qt,kn,bt,Le);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",Xn),ve.delete(k),$.delete(k),bt.forEach(He=>$.delete(He.key));let ue=Jp([...Jn,...jr]);if(ue){if(ue.idx>=kn.length){let He=bt[ue.idx-kn.length].key;le.add(He)}return Mr(Le,ue.result)}let{loaderData:lt,errors:ut}=Qp(p,p.matches,kn,Jn,void 0,bt,jr,ot);if(p.fetchers.has(k)){let He=rr(ne.data);p.fetchers.set(k,He)}Co(rn),p.navigation.state==="loading"&&rn>re?(ce(v,"Expected pending action"),E&&E.abort(),An(p.navigation.location,{matches:Qt,loaderData:lt,errors:ut,fetchers:new Map(p.fetchers)})):(at({errors:ut,loaderData:Gp(p.loaderData,lt,Qt,ut),fetchers:new Map(p.fetchers)}),it=!1)}async function Zs(k,N,O,B,Q,X,J){let W=p.fetchers.get(k);Re(k,qo(J,W?W.data:void 0),{flushSync:X});let ie=new AbortController,oe=Ri(t.history,O,ie.signal);$.set(k,ie);let Xe=te,ne=(await Pn("loader",oe,[B],Q))[0];if(Wr(ne)&&(ne=await Tv(ne,oe.signal,!0)||ne),$.get(k)===ie&&$.delete(k),!oe.signal.aborted){if(Ye.has(k)){Re(k,rr(void 0));return}if(Qr(ne))if(re>Xe){Re(k,rr(void 0));return}else{le.add(k),await Mr(oe,ne);return}if(Jt(ne)){ze(k,N,ne.error);return}ce(!Wr(ne),"Unhandled fetcher deferred data"),Re(k,rr(ne.data))}}async function Mr(k,N,O){let{submission:B,fetcherSubmission:Q,replace:X}=O===void 0?{}:O;N.response.headers.has("X-Remix-Revalidate")&&(it=!0);let J=N.response.headers.get("Location");ce(J,"Expected a Location header on the redirect Response"),J=Kp(J,new URL(k.url),u);let W=Vs(p.location,J,{_isRedirect:!0});if(n){let Ie=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Ie=!0;else if(vd.test(J)){const Le=t.history.createURL(J);Ie=Le.origin!==e.location.origin||go(Le.pathname,u)==null}if(Ie){X?e.location.replace(J):e.location.assign(J);return}}E=null;let ie=X===!0?Ke.Replace:Ke.Push,{formMethod:oe,formAction:Xe,formEncType:ke}=p.navigation;!B&&!Q&&oe&&Xe&&ke&&(B=em(p.navigation));let ne=B||Q;if(T1.has(N.response.status)&&ne&&un(ne.formMethod))await mn(ie,W,{submission:Me({},ne,{formAction:J}),preventScrollReset:_});else{let Ie=Ku(W,B);await mn(ie,W,{overrideNavigation:Ie,fetcherSubmission:Q,preventScrollReset:_})}}async function Pn(k,N,O,B){try{let Q=await k1(h,k,N,O,B,o,i);return await Promise.all(Q.map((X,J)=>{if(O1(X)){let W=X.result;return{type:De.redirect,response:V1(W,N,O[J].route.id,B,u,f.v7_relativeSplatPath)}}return N1(X)}))}catch(Q){return O.map(()=>({type:De.error,error:Q}))}}async function gi(k,N,O,B,Q){let[X,...J]=await Promise.all([O.length?Pn("loader",Q,O,N):[],...B.map(W=>{if(W.matches&&W.match&&W.controller){let ie=Ri(t.history,W.path,W.controller.signal);return Pn("loader",ie,[W.match],W.matches).then(oe=>oe[0])}else return Promise.resolve({type:De.error,error:Gt(404,{pathname:W.path})})})]);return await Promise.all([Zp(k,O,X,X.map(()=>Q.signal),!1,p.loaderData),Zp(k,B.map(W=>W.match),J,B.map(W=>W.controller?W.controller.signal:null),!0)]),{loaderResults:X,fetcherResults:J}}function yi(){it=!0,pn.push(...wi()),Ee.forEach((k,N)=>{$.has(N)&&(Vt.push(N),gn(N))})}function Re(k,N,O){O===void 0&&(O={}),p.fetchers.set(k,N),at({fetchers:new Map(p.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function ze(k,N,O,B){B===void 0&&(B={});let Q=hs(p.matches,N);Fr(k),at({errors:{[Q.route.id]:O},fetchers:new Map(p.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Or(k){return f.v7_fetcherPersist&&(Rt.set(k,(Rt.get(k)||0)+1),Ye.has(k)&&Ye.delete(k)),p.fetchers.get(k)||S1}function Fr(k){let N=p.fetchers.get(k);$.has(k)&&!(N&&N.state==="loading"&&ve.has(k))&&gn(k),Ee.delete(k),ve.delete(k),le.delete(k),Ye.delete(k),p.fetchers.delete(k)}function ea(k){if(f.v7_fetcherPersist){let N=(Rt.get(k)||0)-1;N<=0?(Rt.delete(k),Ye.add(k)):Rt.set(k,N)}else Fr(k);at({fetchers:new Map(p.fetchers)})}function gn(k){let N=$.get(k);ce(N,"Expected fetch controller: "+k),N.abort(),$.delete(k)}function Qn(k){for(let N of k){let O=Or(N),B=rr(O.data);p.fetchers.set(N,B)}}function Io(){let k=[],N=!1;for(let O of le){let B=p.fetchers.get(O);ce(B,"Expected fetcher: "+O),B.state==="loading"&&(le.delete(O),k.push(O),N=!0)}return Qn(k),N}function Co(k){let N=[];for(let[O,B]of ve)if(B<k){let Q=p.fetchers.get(O);ce(Q,"Expected fetcher: "+O),Q.state==="loading"&&(gn(O),ve.delete(O),N.push(O))}return Qn(N),N.length>0}function Ro(k,N){let O=p.blockers.get(k)||Ho;return st.get(k)!==N&&st.set(k,N),O}function ta(k){p.blockers.delete(k),st.delete(k)}function vi(k,N){let O=p.blockers.get(k)||Ho;ce(O.state==="unblocked"&&N.state==="blocked"||O.state==="blocked"&&N.state==="blocked"||O.state==="blocked"&&N.state==="proceeding"||O.state==="blocked"&&N.state==="unblocked"||O.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+N.state);let B=new Map(p.blockers);B.set(k,N),at({blockers:B})}function _i(k){let{currentLocation:N,nextLocation:O,historyAction:B}=k;if(st.size===0)return;st.size>1&&oo(!1,"A router only supports one blocker at a time");let Q=Array.from(st.entries()),[X,J]=Q[Q.length-1],W=p.blockers.get(X);if(!(W&&W.state==="proceeding")&&J({currentLocation:N,nextLocation:O,historyAction:B}))return X}function wi(k){let N=[];return ot.forEach((O,B)=>{(!k||k(B))&&(O.cancel(),N.push(B),ot.delete(B))}),N}function na(k,N,O){if(R=k,x=N,P=O||null,!M&&p.navigation===qu){M=!0;let B=Ei(p.location,p.matches);B!=null&&at({restoreScrollPosition:B})}return()=>{R=null,x=null,P=null}}function Gn(k,N){return P&&P(k,N.map(B=>ZE(B,p.loaderData)))||k.key}function Ao(k,N){if(R&&x){let O=Gn(k,N);R[O]=x()}}function Ei(k,N){if(R){let O=Gn(k,N),B=R[O];if(typeof B=="number")return B}return null}function xn(k){o={},l=Gc(k,i,void 0,o)}return H={get basename(){return u},get future(){return f},get state(){return p},get routes(){return a},get window(){return e},initialize:au,subscribe:pi,enableScrollRestoration:na,navigate:mi,fetch:Js,revalidate:To,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:Or,deleteFetcher:ea,dispose:fi,getBlocker:Ro,deleteBlocker:ta,_internalFetchControllers:$,_internalActiveDeferreds:ot,_internalSetRoutes:xn},H}function R1(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Yc(t,e,n,r,i,o,a,l){let u,h;if(a){u=[];for(let m of e)if(u.push(m),m.route.id===a){h=m;break}}else u=e,h=e[e.length-1];let f=md(i||".",pd(u,o),go(t.pathname,n)||t.pathname,l==="path");return i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!_d(f.search)&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:zn([n,f.pathname])),oi(f)}function Bp(t,e,n,r){if(!r||!R1(r))return{path:n};if(r.formMethod&&!j1(r.formMethod))return{path:n,error:Gt(405,{method:r.formMethod})};let i=()=>({path:n,error:Gt(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=t?o.toUpperCase():o.toLowerCase(),l=wv(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!un(a))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((R,P)=>{let[x,M]=P;return""+R+x+"="+M+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!un(a))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}ce(typeof FormData=="function","FormData is not available in this environment");let u,h;if(r.formData)u=Xc(r.formData),h=r.formData;else if(r.body instanceof FormData)u=Xc(r.body),h=r.body;else if(r.body instanceof URLSearchParams)u=r.body,h=Wp(u);else if(r.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(r.body),h=Wp(u)}catch{return i()}let f={formMethod:a,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(un(f.formMethod))return{path:n,submission:f};let m=Vr(n);return e&&m.search&&_d(m.search)&&u.append("index",""),m.search="?"+u,{path:oi(m),submission:f}}function A1(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function $p(t,e,n,r,i,o,a,l,u,h,f,m,g,R,P,x){let M=x?Jt(x[1])?x[1].error:x[1].data:void 0,S=t.createURL(e.location),w=t.createURL(i),I=x&&Jt(x[1])?x[0]:void 0,L=I?A1(n,I):n,z=x?x[1].statusCode:void 0,H=a&&z&&z>=400,p=L.filter((_,E)=>{let{route:C}=_;if(C.lazy)return!0;if(C.loader==null)return!1;if(o)return typeof C.loader!="function"||C.loader.hydrate?!0:e.loaderData[C.id]===void 0&&(!e.errors||e.errors[C.id]===void 0);if(P1(e.loaderData,e.matches[E],_)||u.some(Te=>Te===_.route.id))return!0;let A=e.matches[E],T=_;return Hp(_,Me({currentUrl:S,currentParams:A.params,nextUrl:w,nextParams:T.params},r,{actionResult:M,unstable_actionStatus:z,defaultShouldRevalidate:H?!1:l||S.pathname+S.search===w.pathname+w.search||S.search!==w.search||_v(A,T)}))}),v=[];return m.forEach((_,E)=>{if(o||!n.some(it=>it.route.id===_.routeId)||f.has(E))return;let C=Bi(R,_.path,P);if(!C){v.push({key:E,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(E),T=Jc(C,_.path),Te=!1;g.has(E)?Te=!1:h.includes(E)?Te=!0:A&&A.state!=="idle"&&A.data===void 0?Te=l:Te=Hp(T,Me({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:M,unstable_actionStatus:z,defaultShouldRevalidate:H?!1:l})),Te&&v.push({key:E,routeId:_.routeId,path:_.path,matches:C,match:T,controller:new AbortController})}),[p,v]}function P1(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function _v(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Hp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function qp(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ce(i,"No route found in manifest");let o={};for(let a in r){let u=i[a]!==void 0&&a!=="hasErrorBoundary";oo(!u,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!XE.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,Me({},e(i),{lazy:void 0}))}function x1(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function k1(t,e,n,r,i,o,a,l){let u=r.reduce((m,g)=>m.add(g.route.id),new Set),h=new Set,f=await t({matches:i.map(m=>{let g=u.has(m.route.id);return Me({},m,{shouldLoad:g,resolve:P=>(h.add(m.route.id),g?D1(e,n,m,o,a,P,l):Promise.resolve({type:De.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(m=>ce(h.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),f.filter((m,g)=>u.has(i[g].route.id))}async function D1(t,e,n,r,i,o,a){let l,u,h=f=>{let m,g=new Promise((x,M)=>m=M);u=()=>m(),e.signal.addEventListener("abort",u);let R=x=>typeof f!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):f({request:e,params:n.params,context:a},...x!==void 0?[x]:[]),P;return o?P=o(x=>R(x)):P=(async()=>{try{return{type:"data",result:await R()}}catch(x){return{type:"error",result:x}}})(),Promise.race([P,g])};try{let f=n.route[t];if(n.route.lazy)if(f){let m,[g]=await Promise.all([h(f).catch(R=>{m=R}),qp(n.route,i,r)]);if(m!==void 0)throw m;l=g}else if(await qp(n.route,i,r),f=n.route[t],f)l=await h(f);else if(t==="action"){let m=new URL(e.url),g=m.pathname+m.search;throw Gt(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:De.data,result:void 0};else if(f)l=await h(f);else{let m=new URL(e.url),g=m.pathname+m.search;throw Gt(404,{pathname:g})}ce(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(f){return{type:De.error,result:f}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function N1(t){let{result:e,type:n,status:r}=t;if(Ev(e)){let a;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?a=null:a=await e.json():a=await e.text()}catch(l){return{type:De.error,error:l}}return n===De.error?{type:De.error,error:new gd(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:De.data,data:a,statusCode:e.status,headers:e.headers}}if(n===De.error)return{type:De.error,error:e,statusCode:yd(e)?e.status:r};if(F1(e)){var i,o;return{type:De.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}return{type:De.data,data:e,statusCode:r}}function V1(t,e,n,r,i,o){let a=t.headers.get("Location");if(ce(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!vd.test(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);a=Yc(new URL(e.url),l,i,!0,a,o),t.headers.set("Location",a)}return t}function Kp(t,e,n){if(vd.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=go(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Ri(t,e,n,r){let i=t.createURL(wv(e)).toString(),o={signal:n};if(r&&un(r.formMethod)){let{formMethod:a,formEncType:l}=r;o.method=a.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Xc(r.formData):o.body=r.formData}return new Request(i,o)}function Xc(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Wp(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function L1(t,e,n,r,i,o){let a={},l=null,u,h=!1,f={},m=r&&Jt(r[1])?r[1].error:void 0;return n.forEach((g,R)=>{let P=e[R].route.id;if(ce(!Qr(g),"Cannot handle redirect results in processLoaderData"),Jt(g)){let x=g.error;m!==void 0&&(x=m,m=void 0),l=l||{};{let M=hs(t,P);l[M.route.id]==null&&(l[M.route.id]=x)}a[P]=void 0,h||(h=!0,u=yd(g.error)?g.error.status:500),g.headers&&(f[P]=g.headers)}else Wr(g)?(i.set(P,g.deferredData),a[P]=g.deferredData.data,g.statusCode!=null&&g.statusCode!==200&&!h&&(u=g.statusCode),g.headers&&(f[P]=g.headers)):(a[P]=g.data,g.statusCode&&g.statusCode!==200&&!h&&(u=g.statusCode),g.headers&&(f[P]=g.headers))}),m!==void 0&&r&&(l={[r[0]]:m},a[r[0]]=void 0),{loaderData:a,errors:l,statusCode:u||200,loaderHeaders:f}}function Qp(t,e,n,r,i,o,a,l){let{loaderData:u,errors:h}=L1(e,n,r,i,l);for(let f=0;f<o.length;f++){let{key:m,match:g,controller:R}=o[f];ce(a!==void 0&&a[f]!==void 0,"Did not find corresponding fetcher result");let P=a[f];if(!(R&&R.signal.aborted))if(Jt(P)){let x=hs(t.matches,g==null?void 0:g.route.id);h&&h[x.route.id]||(h=Me({},h,{[x.route.id]:P.error})),t.fetchers.delete(m)}else if(Qr(P))ce(!1,"Unhandled fetcher revalidation redirect");else if(Wr(P))ce(!1,"Unhandled fetcher deferred data");else{let x=rr(P.data);t.fetchers.set(m,x)}}return{loaderData:u,errors:h}}function Gp(t,e,n,r){let i=Me({},e);for(let o of n){let a=o.route.id;if(e.hasOwnProperty(a)?e[a]!==void 0&&(i[a]=e[a]):t[a]!==void 0&&o.route.loader&&(i[a]=t[a]),r&&r.hasOwnProperty(a))break}return i}function Yp(t){return t?Jt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function hs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Xp(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Gt(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new gd(t||500,a,new Error(l),!0)}function Jp(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Qr(n))return{result:n,idx:e}}}function wv(t){let e=typeof t=="string"?Vr(t):t;return oi(Me({},e,{hash:""}))}function M1(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function O1(t){return Ev(t.result)&&E1.has(t.result.status)}function Wr(t){return t.type===De.deferred}function Jt(t){return t.type===De.error}function Qr(t){return(t&&t.type)===De.redirect}function F1(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Ev(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function j1(t){return w1.has(t.toLowerCase())}function un(t){return v1.has(t.toLowerCase())}async function Zp(t,e,n,r,i,o){for(let a=0;a<n.length;a++){let l=n[a],u=e[a];if(!u)continue;let h=t.find(m=>m.route.id===u.route.id),f=h!=null&&!_v(h,u)&&(o&&o[u.route.id])!==void 0;if(Wr(l)&&(i||f)){let m=r[a];ce(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await Tv(l,m,i).then(g=>{g&&(n[a]=g||n[a])})}}}async function Tv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:De.data,data:t.deferredData.unwrappedData}}catch(i){return{type:De.error,error:i}}return{type:De.data,data:t.deferredData.data}}}function _d(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Jc(t,e){let n=typeof e=="string"?Vr(e).search:e.search;if(t[t.length-1].route.index&&_d(n||""))return t[t.length-1];let r=gv(t);return r[r.length-1]}function em(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:a}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Ku(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function U1(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function qo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function b1(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function rr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function z1(t,e){try{let n=t.sessionStorage.getItem(vv);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function B1(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(vv,JSON.stringify(n))}catch(r){oo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}const Ql=j.createContext(null),Sv=j.createContext(null),di=j.createContext(null),wd=j.createContext(null),Lr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Iv=j.createContext(null);function $1(t,e){let{relative:n}=e===void 0?{}:e;Ws()||ce(!1);let{basename:r,navigator:i}=j.useContext(di),{hash:o,pathname:a,search:l}=Rv(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:zn([r,a])),i.createHref({pathname:u,search:l,hash:o})}function Ws(){return j.useContext(wd)!=null}function Gl(){return Ws()||ce(!1),j.useContext(wd).location}function Cv(t){j.useContext(di).static||j.useLayoutEffect(t)}function Ed(){let{isDataRoute:t}=j.useContext(Lr);return t?nT():H1()}function H1(){Ws()||ce(!1);let t=j.useContext(Ql),{basename:e,future:n,navigator:r}=j.useContext(di),{matches:i}=j.useContext(Lr),{pathname:o}=Gl(),a=JSON.stringify(pd(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return Cv(()=>{l.current=!0}),j.useCallback(function(h,f){if(f===void 0&&(f={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=md(h,JSON.parse(a),o,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:zn([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,a,o,t])}function q1(){let{matches:t}=j.useContext(Lr),e=t[t.length-1];return e?e.params:{}}function Rv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(di),{matches:i}=j.useContext(Lr),{pathname:o}=Gl(),a=JSON.stringify(pd(i,r.v7_relativeSplatPath));return j.useMemo(()=>md(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function K1(t,e,n,r){Ws()||ce(!1);let{navigator:i}=j.useContext(di),{matches:o}=j.useContext(Lr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=Gl(),f;f=h;let m=f.pathname||"/",g=m;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=Bi(t,{pathname:g});return X1(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:zn([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:zn([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r)}function W1(){let t=tT(),e=yd(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const Q1=j.createElement(W1,null);class G1 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Lr.Provider,{value:this.props.routeContext},j.createElement(Iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Y1(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Ql);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Lr.Provider,{value:e},r)}function X1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||ce(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:R}=n,P=m.route.loader&&g[m.route.id]===void 0&&(!R||R[m.route.id]===void 0);if(m.route.lazy||P){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,m,g)=>{let R,P=!1,x=null,M=null;n&&(R=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||Q1,u&&(h<0&&g===0?(P=!0,M=null):h===g&&(P=!0,M=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),w=()=>{let I;return R?I=x:P?I=M:m.route.Component?I=j.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=f,j.createElement(Y1,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?j.createElement(G1,{location:n.location,revalidation:n.revalidation,component:x,error:R,children:w(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):w()},null)}var Av=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Av||{}),El=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(El||{});function J1(t){let e=j.useContext(Ql);return e||ce(!1),e}function Z1(t){let e=j.useContext(Sv);return e||ce(!1),e}function eT(t){let e=j.useContext(Lr);return e||ce(!1),e}function Pv(t){let e=eT(),n=e.matches[e.matches.length-1];return n.route.id||ce(!1),n.route.id}function tT(){var t;let e=j.useContext(Iv),n=Z1(El.UseRouteError),r=Pv(El.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nT(){let{router:t}=J1(Av.UseNavigateStable),e=Pv(El.UseNavigateStable),n=j.useRef(!1);return Cv(()=>{n.current=!0}),j.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wl({fromRouteId:e},o)))},[t,e])}function rT(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ke.Pop,navigator:o,static:a=!1,future:l}=t;Ws()&&ce(!1);let u=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:u,navigator:o,static:a,future:wl({v7_relativeSplatPath:!1},l)}),[u,l,o,a]);typeof r=="string"&&(r=Vr(r));let{pathname:f="/",search:m="",hash:g="",state:R=null,key:P="default"}=r,x=j.useMemo(()=>{let M=go(f,u);return M==null?null:{location:{pathname:M,search:m,hash:g,state:R,key:P},navigationType:i}},[u,f,m,g,R,P,i]);return x==null?null:j.createElement(di.Provider,{value:h},j.createElement(wd.Provider,{children:n,value:x}))}new Promise(()=>{});function iT(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:j.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:j.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:j.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(this,arguments)}function oT(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aT(t,e){return t.button===0&&(!e||e==="_self")&&!sT(t)}const lT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uT="6";try{window.__reactRouterVersion=uT}catch{}function cT(t,e){return C1({basename:void 0,future:Ls({},void 0,{v7_prependBasename:!0}),history:QE({window:void 0}),hydrationData:hT(),routes:t,mapRouteProperties:iT,unstable_dataStrategy:void 0,window:void 0}).initialize()}function hT(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ls({},e,{errors:dT(e.errors)})),e}function dT(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new gd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const fT=j.createContext({isTransitioning:!1}),pT=j.createContext(new Map),mT="startTransition",tm=M_[mT],gT="flushSync",nm=WE[gT];function yT(t){tm?tm(t):t()}function Ko(t){nm?nm(t):t()}let vT=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function _T(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=j.useState(n.state),[a,l]=j.useState(),[u,h]=j.useState({isTransitioning:!1}),[f,m]=j.useState(),[g,R]=j.useState(),[P,x]=j.useState(),M=j.useRef(new Map),{v7_startTransition:S}=r||{},w=j.useCallback(p=>{S?yT(p):p()},[S]),I=j.useCallback((p,v)=>{let{deletedFetchers:_,unstable_flushSync:E,unstable_viewTransitionOpts:C}=v;_.forEach(T=>M.current.delete(T)),p.fetchers.forEach((T,Te)=>{T.data!==void 0&&M.current.set(Te,T.data)});let A=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!C||A){E?Ko(()=>o(p)):w(()=>o(p));return}if(E){Ko(()=>{g&&(f&&f.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let T=n.window.document.startViewTransition(()=>{Ko(()=>o(p))});T.finished.finally(()=>{Ko(()=>{m(void 0),R(void 0),l(void 0),h({isTransitioning:!1})})}),Ko(()=>R(T));return}g?(f&&f.resolve(),g.skipTransition(),x({state:p,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(l(p),h({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,g,f,M,w]);j.useLayoutEffect(()=>n.subscribe(I),[n,I]),j.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new vT)},[u]),j.useEffect(()=>{if(f&&a&&n.window){let p=a,v=f.promise,_=n.window.document.startViewTransition(async()=>{w(()=>o(p)),await v});_.finished.finally(()=>{m(void 0),R(void 0),l(void 0),h({isTransitioning:!1})}),R(_)}},[w,a,f,n.window]),j.useEffect(()=>{f&&a&&i.location.key===a.location.key&&f.resolve()},[f,g,i.location,a]),j.useEffect(()=>{!u.isTransitioning&&P&&(l(P.state),h({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),x(void 0))},[u.isTransitioning,P]),j.useEffect(()=>{},[]);let L=j.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:p=>n.navigate(p),push:(p,v,_)=>n.navigate(p,{state:v,preventScrollReset:_==null?void 0:_.preventScrollReset}),replace:(p,v,_)=>n.navigate(p,{replace:!0,state:v,preventScrollReset:_==null?void 0:_.preventScrollReset})}),[n]),z=n.basename||"/",H=j.useMemo(()=>({router:n,navigator:L,static:!1,basename:z}),[n,L,z]);return j.createElement(j.Fragment,null,j.createElement(Ql.Provider,{value:H},j.createElement(Sv.Provider,{value:i},j.createElement(pT.Provider,{value:M.current},j.createElement(fT.Provider,{value:u},j.createElement(rT,{basename:z,location:i.location,navigationType:i.historyAction,navigator:L,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?j.createElement(wT,{routes:n.routes,future:n.future,state:i}):e))))),null)}function wT(t){let{routes:e,future:n,state:r}=t;return K1(e,void 0,r,n)}const ET=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sr=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:f,unstable_viewTransition:m}=e,g=oT(e,lT),{basename:R}=j.useContext(di),P,x=!1;if(typeof h=="string"&&TT.test(h)&&(P=h,ET))try{let I=new URL(window.location.href),L=h.startsWith("//")?new URL(I.protocol+h):new URL(h),z=go(L.pathname,R);L.origin===I.origin&&z!=null?h=z+L.search+L.hash:x=!0}catch{}let M=$1(h,{relative:i}),S=ST(h,{replace:a,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:m});function w(I){r&&r(I),I.defaultPrevented||S(I)}return j.createElement("a",Ls({},g,{href:P||M,onClick:x||o?r:w,ref:n,target:u}))});var rm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rm||(rm={}));var im;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(im||(im={}));function ST(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,u=Ed(),h=Gl(),f=Rv(t,{relative:a});return j.useCallback(m=>{if(aT(m,n)){m.preventDefault();let g=r!==void 0?r:oi(h)===oi(f);u(t,{replace:g,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[h,u,f,r,i,n,t,o,a,l])}const Td=()=>F.jsx("div",{className:"flex items-center justify-center w-screen h-screen loader",children:F.jsxs("div",{className:"book-wrapper",children:[F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 126 75",className:"book",children:[F.jsx("rect",{strokeWidth:"5",stroke:"#e05452",rx:"7.5",height:"70",width:"121",y:"2.5",x:"2.5"}),F.jsx("line",{strokeWidth:"5",stroke:"#e05452",y2:"75",x2:"63.5",x1:"63.5"}),F.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#c18949",d:"M25 20H50"}),F.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#c18949",d:"M101 20H76"}),F.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#c18949",d:"M16 30L50 30"}),F.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#c18949",d:"M110 30L76 30"})]}),F.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff74",viewBox:"0 0 65 75",className:"book-page",children:[F.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#c18949",d:"M40 20H15"}),F.jsx("path",{strokeLinecap:"round",strokeWidth:"4",stroke:"#c18949",d:"M49 30L15 30"}),F.jsx("path",{strokeWidth:"5",stroke:"#e05452",d:"M2.5 2.5H55C59.1421 2.5 62.5 5.85786 62.5 10V65C62.5 69.1421 59.1421 72.5 55 72.5H2.5V2.5Z"})]})]})});var xv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},om=Un.createContext&&Un.createContext(xv),IT=["attr","size","title"];function CT(t,e){if(t==null)return{};var n=RT(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RT(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}function sm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sm(Object(n),!0).forEach(function(r){AT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AT(t,e,n){return e=PT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PT(t){var e=xT(t,"string");return typeof e=="symbol"?e:e+""}function xT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kv(t){return t&&t.map((e,n)=>Un.createElement(e.tag,Sl({key:n},e.attr),kv(e.child)))}function Sd(t){return e=>Un.createElement(kT,Tl({attr:Sl({},t.attr)},e),kv(t.child))}function kT(t){var e=n=>{var{attr:r,size:i,title:o}=t,a=CT(t,IT),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),Un.createElement("svg",Tl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:Sl(Sl({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&Un.createElement("title",null,o),t.children)};return om!==void 0?Un.createElement(om.Consumer,null,n=>e(n)):e(xv)}function DT(t){return Sd({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Menu_Burger"},child:[{tag:"path",attr:{d:"M3.563,4.063c-0.276,-0 -0.5,-0.224 -0.5,-0.5c-0,-0.276 0.224,-0.5 0.5,-0.5l16.874,-0.001c0.276,-0 0.5,0.224 0.5,0.5c0,0.276 -0.224,0.5 -0.5,0.5l-16.874,0.001Z"},child:[]},{tag:"path",attr:{d:"M3.563,12.501c-0.276,-0 -0.5,-0.224 -0.5,-0.5c-0,-0.276 0.224,-0.5 0.5,-0.5l16.874,-0.002c0.276,0 0.5,0.224 0.5,0.5c0,0.276 -0.224,0.5 -0.5,0.5l-16.874,0.002Z"},child:[]},{tag:"path",attr:{d:"M3.563,20.939c-0.276,-0 -0.5,-0.224 -0.5,-0.5c-0,-0.276 0.224,-0.5 0.5,-0.5l16.874,-0.002c0.276,0 0.5,0.224 0.5,0.5c0,0.276 -0.224,0.5 -0.5,0.5l-16.874,0.002Z"},child:[]}]}]})(t)}function NT(t){return Sd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"},child:[]}]})(t)}function VT(t){return Sd({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const Id=()=>{const[t,e]=j.useState(!1);return F.jsx("div",{className:"bg-[rgb(9,88,160)] w-screen text-white",children:t?F.jsxs("div",{className:"flex flex-col items-center justify-center h-screen gap-5",children:[F.jsx("div",{className:"fixed right-5 top-5",children:F.jsx(VT,{size:50,onClick:()=>e(!t)})}),F.jsxs("div",{className:"flex flex-col items-center justify-center gap-5",children:[F.jsx(sr,{to:"/",className:"text-[20px] my-3",children:"Inicio"}),F.jsx(sr,{to:"/books",className:"text-[20px] my-3",children:"Libros"}),F.jsx(sr,{to:"/movies",className:"text-[20px] my-3",children:"Películas"})]})]}):F.jsxs("div",{className:"h-[100px] flex flex-row justify-between items-center px-5",children:[F.jsx("div",{children:F.jsx("h2",{className:"text-xl font-bold",children:"Centro Documental"})}),F.jsxs("div",{className:"flex-row items-center justify-center hidden gap-5 md:flex",children:[F.jsx(sr,{to:"/",className:"text-[20px] my-3",children:"Inicio"}),F.jsx(sr,{to:"/books",className:"text-[20px] my-3",children:"Libros"}),F.jsx(sr,{to:"/movies",className:"text-[20px] my-3",children:"Películas"})]}),F.jsx(DT,{className:"md:hidden",size:50,onClick:()=>e(!t)})]})})};var am={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},Nv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,f=o>>2,m=(o&3)<<4|l>>4;let g=(l&15)<<2|h>>6,R=h&63;u||(R=64,a||(g=64)),r.push(n[f],n[m],n[g],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||m==null)throw new MT;const g=o<<2|l>>4;if(r.push(g),h!==64){const R=l<<4&240|h>>2;if(r.push(R),m!==64){const P=h<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OT=function(t){const e=Dv(t);return Nv.encodeByteArray(e,!0)},Il=function(t){return OT(t).replace(/\./g,"")},FT=function(t){try{return Nv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>jT().__FIREBASE_DEFAULTS__,bT=()=>{if(typeof process>"u"||typeof am>"u")return;const t=am.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FT(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return UT()||bT()||zT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BT=t=>{var e,n;return(n=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$T=t=>{const e=BT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vv=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Il(JSON.stringify(n)),Il(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WT(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QT(){return!WT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="FirebaseError";class yo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XT,Object.setPrototypeOf(this,yo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lv.prototype.create)}}class Lv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?JT(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new yo(i,l,r)}}function JT(t,e){return t.replace(ZT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZT=/\{\$([^}]+)}/g;function Zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(lm(o)&&lm(a)){if(!Zc(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){return t&&t._delegate?t._delegate:t}class Ms{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nS(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(t){return t===$r?void 0:t}function nS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const iS={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},oS=fe.INFO,sS={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},aS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ov{constructor(e){this.name=e,this._logLevel=oS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const lS=(t,e)=>e.some(n=>t instanceof n);let um,cm;function uS(){return um||(um=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cS(){return cm||(cm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fv=new WeakMap,eh=new WeakMap,jv=new WeakMap,Wu=new WeakMap,Rd=new WeakMap;function hS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(Er(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Fv.set(n,t)}).catch(()=>{}),Rd.set(e,t),e}function dS(t){if(eh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});eh.set(t,e)}let th={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fS(t){th=t(th)}function pS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qu(this),e,...n);return jv.set(r,e.sort?e.sort():[e]),Er(r)}:cS().includes(t)?function(...e){return t.apply(Qu(this),e),Er(Fv.get(this))}:function(...e){return Er(t.apply(Qu(this),e))}}function mS(t){return typeof t=="function"?pS(t):(t instanceof IDBTransaction&&dS(t),lS(t,uS())?new Proxy(t,th):t)}function Er(t){if(t instanceof IDBRequest)return hS(t);if(Wu.has(t))return Wu.get(t);const e=mS(t);return e!==t&&(Wu.set(t,e),Rd.set(e,t)),e}const Qu=t=>Rd.get(t);function gS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=Er(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Er(a.result),u.oldVersion,u.newVersion,Er(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const yS=["get","getKey","getAll","getAllKeys","count"],vS=["put","add","delete","clear"],Gu=new Map;function hm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gu.get(e))return Gu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yS.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return Gu.set(e,o),o}fS(t=>({...t,get:(e,n,r)=>hm(e,n)||t.get(e,n,r),has:(e,n)=>!!hm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const nh="@firebase/app",dm="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new Ov("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",SS="@firebase/analytics",IS="@firebase/app-check-compat",CS="@firebase/app-check",RS="@firebase/auth",AS="@firebase/auth-compat",PS="@firebase/database",xS="@firebase/database-compat",kS="@firebase/functions",DS="@firebase/functions-compat",NS="@firebase/installations",VS="@firebase/installations-compat",LS="@firebase/messaging",MS="@firebase/messaging-compat",OS="@firebase/performance",FS="@firebase/performance-compat",jS="@firebase/remote-config",US="@firebase/remote-config-compat",bS="@firebase/storage",zS="@firebase/storage-compat",BS="@firebase/firestore",$S="@firebase/vertexai-preview",HS="@firebase/firestore-compat",qS="firebase",KS="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="[DEFAULT]",WS={[nh]:"fire-core",[ES]:"fire-core-compat",[SS]:"fire-analytics",[TS]:"fire-analytics-compat",[CS]:"fire-app-check",[IS]:"fire-app-check-compat",[RS]:"fire-auth",[AS]:"fire-auth-compat",[PS]:"fire-rtdb",[xS]:"fire-rtdb-compat",[kS]:"fire-fn",[DS]:"fire-fn-compat",[NS]:"fire-iid",[VS]:"fire-iid-compat",[LS]:"fire-fcm",[MS]:"fire-fcm-compat",[OS]:"fire-perf",[FS]:"fire-perf-compat",[jS]:"fire-rc",[US]:"fire-rc-compat",[bS]:"fire-gcs",[zS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[$S]:"fire-vertex","fire-js":"fire-js",[qS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Map,QS=new Map,ih=new Map;function fm(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rl(t){const e=t.name;if(ih.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;ih.set(e,t);for(const n of Cl.values())fm(n,t);for(const n of QS.values())fm(n,t);return!0}function GS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Lv("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=KS;function Uv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:rh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=Vv()),!n)throw Tr.create("no-options");const o=Cl.get(i);if(o){if(Zc(n,o.options)&&Zc(r,o.config))return o;throw Tr.create("duplicate-app",{appName:i})}const a=new rS(i);for(const u of ih.values())a.addComponent(u);const l=new XS(n,r,a);return Cl.set(i,l),l}function ZS(t=rh){const e=Cl.get(t);if(!e&&t===rh&&Vv())return Uv();if(!e)throw Tr.create("no-app",{appName:t});return e}function Gi(t,e,n){var r;let i=(r=WS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(l.join(" "));return}Rl(new Ms(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebase-heartbeat-database",tI=1,Os="firebase-heartbeat-store";let Yu=null;function bv(){return Yu||(Yu=gS(eI,tI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Os)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),Yu}async function nI(t){try{const n=(await bv()).transaction(Os),r=await n.objectStore(Os).get(zv(t));return await n.done,r}catch(e){if(e instanceof yo)si.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function pm(t,e){try{const r=(await bv()).transaction(Os,"readwrite");await r.objectStore(Os).put(e,zv(t)),await r.done}catch(n){if(n instanceof yo)si.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function zv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=1024,iI=30*24*60*60*1e3;class oI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=mm();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=iI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mm(),{heartbeatsToSend:r,unsentEntries:i}=sI(this._heartbeatsCache.heartbeats),o=Il(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function mm(){return new Date().toISOString().substring(0,10)}function sI(t,e=rI){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),gm(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gm(t){return Il(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){Rl(new Ms("platform-logger",e=>new _S(e),"PRIVATE")),Rl(new Ms("heartbeat",e=>new oI(e),"PRIVATE")),Gi(nh,dm,t),Gi(nh,dm,"esm2017"),Gi("fire-js","")}lI("");var ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,Bv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(p,v){function _(){}_.prototype=v.prototype,p.D=v.prototype,p.prototype=new _,p.prototype.constructor=p,p.C=function(E,C,A){for(var T=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)T[Te-2]=arguments[Te];return v.prototype[C].apply(E,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(p,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)E[C]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(C=0;16>C;++C)E[C]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=p.g[0],_=p.g[1],C=p.g[2];var A=p.g[3],T=v+(A^_&(C^A))+E[0]+3614090360&4294967295;v=_+(T<<7&4294967295|T>>>25),T=A+(C^v&(_^C))+E[1]+3905402710&4294967295,A=v+(T<<12&4294967295|T>>>20),T=C+(_^A&(v^_))+E[2]+606105819&4294967295,C=A+(T<<17&4294967295|T>>>15),T=_+(v^C&(A^v))+E[3]+3250441966&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(A^_&(C^A))+E[4]+4118548399&4294967295,v=_+(T<<7&4294967295|T>>>25),T=A+(C^v&(_^C))+E[5]+1200080426&4294967295,A=v+(T<<12&4294967295|T>>>20),T=C+(_^A&(v^_))+E[6]+2821735955&4294967295,C=A+(T<<17&4294967295|T>>>15),T=_+(v^C&(A^v))+E[7]+4249261313&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(A^_&(C^A))+E[8]+1770035416&4294967295,v=_+(T<<7&4294967295|T>>>25),T=A+(C^v&(_^C))+E[9]+2336552879&4294967295,A=v+(T<<12&4294967295|T>>>20),T=C+(_^A&(v^_))+E[10]+4294925233&4294967295,C=A+(T<<17&4294967295|T>>>15),T=_+(v^C&(A^v))+E[11]+2304563134&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(A^_&(C^A))+E[12]+1804603682&4294967295,v=_+(T<<7&4294967295|T>>>25),T=A+(C^v&(_^C))+E[13]+4254626195&4294967295,A=v+(T<<12&4294967295|T>>>20),T=C+(_^A&(v^_))+E[14]+2792965006&4294967295,C=A+(T<<17&4294967295|T>>>15),T=_+(v^C&(A^v))+E[15]+1236535329&4294967295,_=C+(T<<22&4294967295|T>>>10),T=v+(C^A&(_^C))+E[1]+4129170786&4294967295,v=_+(T<<5&4294967295|T>>>27),T=A+(_^C&(v^_))+E[6]+3225465664&4294967295,A=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(A^v))+E[11]+643717713&4294967295,C=A+(T<<14&4294967295|T>>>18),T=_+(A^v&(C^A))+E[0]+3921069994&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(C^A&(_^C))+E[5]+3593408605&4294967295,v=_+(T<<5&4294967295|T>>>27),T=A+(_^C&(v^_))+E[10]+38016083&4294967295,A=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(A^v))+E[15]+3634488961&4294967295,C=A+(T<<14&4294967295|T>>>18),T=_+(A^v&(C^A))+E[4]+3889429448&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(C^A&(_^C))+E[9]+568446438&4294967295,v=_+(T<<5&4294967295|T>>>27),T=A+(_^C&(v^_))+E[14]+3275163606&4294967295,A=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(A^v))+E[3]+4107603335&4294967295,C=A+(T<<14&4294967295|T>>>18),T=_+(A^v&(C^A))+E[8]+1163531501&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(C^A&(_^C))+E[13]+2850285829&4294967295,v=_+(T<<5&4294967295|T>>>27),T=A+(_^C&(v^_))+E[2]+4243563512&4294967295,A=v+(T<<9&4294967295|T>>>23),T=C+(v^_&(A^v))+E[7]+1735328473&4294967295,C=A+(T<<14&4294967295|T>>>18),T=_+(A^v&(C^A))+E[12]+2368359562&4294967295,_=C+(T<<20&4294967295|T>>>12),T=v+(_^C^A)+E[5]+4294588738&4294967295,v=_+(T<<4&4294967295|T>>>28),T=A+(v^_^C)+E[8]+2272392833&4294967295,A=v+(T<<11&4294967295|T>>>21),T=C+(A^v^_)+E[11]+1839030562&4294967295,C=A+(T<<16&4294967295|T>>>16),T=_+(C^A^v)+E[14]+4259657740&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(_^C^A)+E[1]+2763975236&4294967295,v=_+(T<<4&4294967295|T>>>28),T=A+(v^_^C)+E[4]+1272893353&4294967295,A=v+(T<<11&4294967295|T>>>21),T=C+(A^v^_)+E[7]+4139469664&4294967295,C=A+(T<<16&4294967295|T>>>16),T=_+(C^A^v)+E[10]+3200236656&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(_^C^A)+E[13]+681279174&4294967295,v=_+(T<<4&4294967295|T>>>28),T=A+(v^_^C)+E[0]+3936430074&4294967295,A=v+(T<<11&4294967295|T>>>21),T=C+(A^v^_)+E[3]+3572445317&4294967295,C=A+(T<<16&4294967295|T>>>16),T=_+(C^A^v)+E[6]+76029189&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(_^C^A)+E[9]+3654602809&4294967295,v=_+(T<<4&4294967295|T>>>28),T=A+(v^_^C)+E[12]+3873151461&4294967295,A=v+(T<<11&4294967295|T>>>21),T=C+(A^v^_)+E[15]+530742520&4294967295,C=A+(T<<16&4294967295|T>>>16),T=_+(C^A^v)+E[2]+3299628645&4294967295,_=C+(T<<23&4294967295|T>>>9),T=v+(C^(_|~A))+E[0]+4096336452&4294967295,v=_+(T<<6&4294967295|T>>>26),T=A+(_^(v|~C))+E[7]+1126891415&4294967295,A=v+(T<<10&4294967295|T>>>22),T=C+(v^(A|~_))+E[14]+2878612391&4294967295,C=A+(T<<15&4294967295|T>>>17),T=_+(A^(C|~v))+E[5]+4237533241&4294967295,_=C+(T<<21&4294967295|T>>>11),T=v+(C^(_|~A))+E[12]+1700485571&4294967295,v=_+(T<<6&4294967295|T>>>26),T=A+(_^(v|~C))+E[3]+2399980690&4294967295,A=v+(T<<10&4294967295|T>>>22),T=C+(v^(A|~_))+E[10]+4293915773&4294967295,C=A+(T<<15&4294967295|T>>>17),T=_+(A^(C|~v))+E[1]+2240044497&4294967295,_=C+(T<<21&4294967295|T>>>11),T=v+(C^(_|~A))+E[8]+1873313359&4294967295,v=_+(T<<6&4294967295|T>>>26),T=A+(_^(v|~C))+E[15]+4264355552&4294967295,A=v+(T<<10&4294967295|T>>>22),T=C+(v^(A|~_))+E[6]+2734768916&4294967295,C=A+(T<<15&4294967295|T>>>17),T=_+(A^(C|~v))+E[13]+1309151649&4294967295,_=C+(T<<21&4294967295|T>>>11),T=v+(C^(_|~A))+E[4]+4149444226&4294967295,v=_+(T<<6&4294967295|T>>>26),T=A+(_^(v|~C))+E[11]+3174756917&4294967295,A=v+(T<<10&4294967295|T>>>22),T=C+(v^(A|~_))+E[2]+718787259&4294967295,C=A+(T<<15&4294967295|T>>>17),T=_+(A^(C|~v))+E[9]+3951481745&4294967295,p.g[0]=p.g[0]+v&4294967295,p.g[1]=p.g[1]+(C+(T<<21&4294967295|T>>>11))&4294967295,p.g[2]=p.g[2]+C&4294967295,p.g[3]=p.g[3]+A&4294967295}r.prototype.u=function(p,v){v===void 0&&(v=p.length);for(var _=v-this.blockSize,E=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=_;)i(this,p,A),A+=this.blockSize;if(typeof p=="string"){for(;A<v;)if(E[C++]=p.charCodeAt(A++),C==this.blockSize){i(this,E),C=0;break}}else for(;A<v;)if(E[C++]=p[A++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var p=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);p[0]=128;for(var v=1;v<p.length-8;++v)p[v]=0;var _=8*this.o;for(v=p.length-8;v<p.length;++v)p[v]=_&255,_/=256;for(this.u(p),p=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)p[_++]=this.g[v]>>>E&255;return p};function o(p,v){var _=l;return Object.prototype.hasOwnProperty.call(_,p)?_[p]:_[p]=v(p)}function a(p,v){this.h=v;for(var _=[],E=!0,C=p.length-1;0<=C;C--){var A=p[C]|0;E&&A==v||(_[C]=A,E=!1)}this.g=_}var l={};function u(p){return-128<=p&&128>p?o(p,function(v){return new a([v|0],0>v?-1:0)}):new a([p|0],0>p?-1:0)}function h(p){if(isNaN(p)||!isFinite(p))return m;if(0>p)return M(h(-p));for(var v=[],_=1,E=0;p>=_;E++)v[E]=p/_|0,_*=4294967296;return new a(v,0)}function f(p,v){if(p.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(p.charAt(0)=="-")return M(f(p.substring(1),v));if(0<=p.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=h(Math.pow(v,8)),E=m,C=0;C<p.length;C+=8){var A=Math.min(8,p.length-C),T=parseInt(p.substring(C,C+A),v);8>A?(A=h(Math.pow(v,A)),E=E.j(A).add(h(T))):(E=E.j(_),E=E.add(h(T)))}return E}var m=u(0),g=u(1),R=u(16777216);t=a.prototype,t.m=function(){if(x(this))return-M(this).m();for(var p=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);p+=(0<=E?E:4294967296+E)*v,v*=4294967296}return p},t.toString=function(p){if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(P(this))return"0";if(x(this))return"-"+M(this).toString(p);for(var v=h(Math.pow(p,6)),_=this,E="";;){var C=L(_,v).g;_=S(_,C.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(p);if(_=C,P(_))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(p){return 0>p?0:p<this.g.length?this.g[p]:this.h};function P(p){if(p.h!=0)return!1;for(var v=0;v<p.g.length;v++)if(p.g[v]!=0)return!1;return!0}function x(p){return p.h==-1}t.l=function(p){return p=S(this,p),x(p)?-1:P(p)?0:1};function M(p){for(var v=p.g.length,_=[],E=0;E<v;E++)_[E]=~p.g[E];return new a(_,~p.h).add(g)}t.abs=function(){return x(this)?M(this):this},t.add=function(p){for(var v=Math.max(this.g.length,p.g.length),_=[],E=0,C=0;C<=v;C++){var A=E+(this.i(C)&65535)+(p.i(C)&65535),T=(A>>>16)+(this.i(C)>>>16)+(p.i(C)>>>16);E=T>>>16,A&=65535,T&=65535,_[C]=T<<16|A}return new a(_,_[_.length-1]&-2147483648?-1:0)};function S(p,v){return p.add(M(v))}t.j=function(p){if(P(this)||P(p))return m;if(x(this))return x(p)?M(this).j(M(p)):M(M(this).j(p));if(x(p))return M(this.j(M(p)));if(0>this.l(R)&&0>p.l(R))return h(this.m()*p.m());for(var v=this.g.length+p.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<p.g.length;C++){var A=this.i(E)>>>16,T=this.i(E)&65535,Te=p.i(C)>>>16,it=p.i(C)&65535;_[2*E+2*C]+=T*it,w(_,2*E+2*C),_[2*E+2*C+1]+=A*it,w(_,2*E+2*C+1),_[2*E+2*C+1]+=T*Te,w(_,2*E+2*C+1),_[2*E+2*C+2]+=A*Te,w(_,2*E+2*C+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new a(_,0)};function w(p,v){for(;(p[v]&65535)!=p[v];)p[v+1]+=p[v]>>>16,p[v]&=65535,v++}function I(p,v){this.g=p,this.h=v}function L(p,v){if(P(v))throw Error("division by zero");if(P(p))return new I(m,m);if(x(p))return v=L(M(p),v),new I(M(v.g),M(v.h));if(x(v))return v=L(p,M(v)),new I(M(v.g),v.h);if(30<p.g.length){if(x(p)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var _=g,E=v;0>=E.l(p);)_=z(_),E=z(E);var C=H(_,1),A=H(E,1);for(E=H(E,2),_=H(_,2);!P(E);){var T=A.add(E);0>=T.l(p)&&(C=C.add(_),A=T),E=H(E,1),_=H(_,1)}return v=S(p,C.j(v)),new I(C,v)}for(C=m;0<=p.l(v);){for(_=Math.max(1,Math.floor(p.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=h(_),T=A.j(v);x(T)||0<T.l(p);)_-=E,A=h(_),T=A.j(v);P(A)&&(A=g),C=C.add(A),p=S(p,T)}return new I(C,p)}t.A=function(p){return L(this,p).h},t.and=function(p){for(var v=Math.max(this.g.length,p.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&p.i(E);return new a(_,this.h&p.h)},t.or=function(p){for(var v=Math.max(this.g.length,p.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|p.i(E);return new a(_,this.h|p.h)},t.xor=function(p){for(var v=Math.max(this.g.length,p.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^p.i(E);return new a(_,this.h^p.h)};function z(p){for(var v=p.g.length+1,_=[],E=0;E<v;E++)_[E]=p.i(E)<<1|p.i(E-1)>>>31;return new a(_,p.h)}function H(p,v){var _=v>>5;v%=32;for(var E=p.g.length-_,C=[],A=0;A<E;A++)C[A]=0<v?p.i(A+_)>>>v|p.i(A+_+1)<<32-v:p.i(A+_);return new a(C,p.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Bv=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,Jr=a}).apply(typeof ym<"u"?ym:typeof self<"u"?self:typeof window<"u"?window:{});var ka=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $v,Hv,Jo,qv,Ka,oh,Kv,Wv,Qv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,d){return s==Array.prototype||s==Object.prototype||(s[c]=d.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof ka=="object"&&ka];for(var c=0;c<s.length;++c){var d=s[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(s,c){if(c)e:{var d=r;s=s.split(".");for(var y=0;y<s.length-1;y++){var D=s[y];if(!(D in d))break e;d=d[D]}s=s[s.length-1],y=d[s],c=c(y),c!=y&&c!=null&&e(d,s,{configurable:!0,writable:!0,value:c})}}function o(s,c){s instanceof String&&(s+="");var d=0,y=!1,D={next:function(){if(!y&&d<s.length){var V=d++;return{value:c(V,s[V]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(s){return s||function(){return o(this,function(c,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(s){var c=typeof s;return c=c!="object"?c:s?Array.isArray(s)?"array":c:"null",c=="array"||c=="object"&&typeof s.length=="number"}function h(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function f(s,c,d){return s.call.apply(s.bind,arguments)}function m(s,c,d){if(!s)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),s.apply(c,D)}}return function(){return s.apply(c,arguments)}}function g(s,c,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function R(s,c){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),s.apply(this,y)}}function P(s,c){function d(){}d.prototype=c.prototype,s.aa=c.prototype,s.prototype=new d,s.prototype.constructor=s,s.Qb=function(y,D,V){for(var q=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)q[Se-2]=arguments[Se];return c.prototype[D].apply(y,q)}}function x(s){const c=s.length;if(0<c){const d=Array(c);for(let y=0;y<c;y++)d[y]=s[y];return d}return[]}function M(s,c){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const D=s.length||0,V=y.length||0;s.length=D+V;for(let q=0;q<V;q++)s[D+q]=y[q]}else s.push(y)}}class S{constructor(c,d){this.i=c,this.j=d,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function w(s){return/^[\s\xa0]*$/.test(s)}function I(){var s=l.navigator;return s&&(s=s.userAgent)?s:""}function L(s){return L[" "](s),s}L[" "]=function(){};var z=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function H(s,c,d){for(const y in s)c.call(d,s[y],y,s)}function p(s,c){for(const d in s)c.call(void 0,s[d],d,s)}function v(s){const c={};for(const d in s)c[d]=s[d];return c}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(s,c){let d,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(d in y)s[d]=y[d];for(let V=0;V<_.length;V++)d=_[V],Object.prototype.hasOwnProperty.call(y,d)&&(s[d]=y[d])}}function C(s){var c=1;s=s.split(":");const d=[];for(;0<c&&s.length;)d.push(s.shift()),c--;return s.length&&d.push(s.join(":")),d}function A(s){l.setTimeout(()=>{throw s},0)}function T(){var s=te;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class Te{constructor(){this.h=this.g=null}add(c,d){const y=it.get();y.set(c,d),this.h?this.h.next=y:this.g=y,this.h=y}}var it=new S(()=>new pn,s=>s.reset());class pn{constructor(){this.next=this.g=this.h=null}set(c,d){this.h=c,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,$=!1,te=new Te,re=()=>{const s=l.Promise.resolve(void 0);Vt=()=>{s.then(ve)}};var ve=()=>{for(var s;s=T();){try{s.h.call(s.g)}catch(d){A(d)}var c=it;c.j(s),100>c.h&&(c.h++,s.next=c.g,c.g=s)}$=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Rt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const d=()=>{};l.addEventListener("test",d,c),l.removeEventListener("test",d,c)}catch{}return s}();function Ye(s,c){if(Ee.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var d=this.type=s.type,y=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(z){e:{try{L(c.nodeName);var D=!0;break e}catch{}D=!1}D||(c=null)}}else d=="mouseover"?c=s.fromElement:d=="mouseout"&&(c=s.toElement);this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:ot[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Ye.aa.h.call(this)}}P(Ye,Ee);var ot={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),Eo=0;function au(s,c,d,y,D){this.listener=s,this.proxy=null,this.src=c,this.type=d,this.capture=!!y,this.ha=D,this.key=++Eo,this.da=this.fa=!1}function fi(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function pi(s){this.src=s,this.g={},this.h=0}pi.prototype.add=function(s,c,d,y,D){var V=s.toString();s=this.g[V],s||(s=this.g[V]=[],this.h++);var q=An(s,c,y,D);return-1<q?(c=s[q],d||(c.fa=!1)):(c=new au(c,this.src,V,!!y,D),c.fa=d,s.push(c)),c};function at(s,c){var d=c.type;if(d in s.g){var y=s.g[d],D=Array.prototype.indexOf.call(y,c,void 0),V;(V=0<=D)&&Array.prototype.splice.call(y,D,1),V&&(fi(c),s.g[d].length==0&&(delete s.g[d],s.h--))}}function An(s,c,d,y){for(var D=0;D<s.length;++D){var V=s[D];if(!V.da&&V.listener==c&&V.capture==!!d&&V.ha==y)return D}return-1}var mi="closure_lm_"+(1e6*Math.random()|0),To={};function mn(s,c,d,y,D){if(Array.isArray(c)){for(var V=0;V<c.length;V++)mn(s,c[V],d,y,D);return null}return d=yi(d),s&&s[st]?s.K(c,d,h(y)?!!y.capture:!!y,D):lu(s,c,d,!1,y,D)}function lu(s,c,d,y,D,V){if(!c)throw Error("Invalid event type");var q=h(D)?!!D.capture:!!D,Se=Pn(s);if(Se||(s[mi]=Se=new pi(s)),d=Se.add(c,d,y,q,V),d.proxy)return d;if(y=uu(),d.proxy=y,y.src=s,y.listener=d,s.addEventListener)Rt||(D=q),D===void 0&&(D=!1),s.addEventListener(c.toString(),y,D);else if(s.attachEvent)s.attachEvent(Zs(c.toString()),y);else if(s.addListener&&s.removeListener)s.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function uu(){function s(d){return c.call(s.src,s.listener,d)}const c=Mr;return s}function Js(s,c,d,y,D){if(Array.isArray(c))for(var V=0;V<c.length;V++)Js(s,c[V],d,y,D);else y=h(y)?!!y.capture:!!y,d=yi(d),s&&s[st]?(s=s.i,c=String(c).toString(),c in s.g&&(V=s.g[c],d=An(V,d,y,D),-1<d&&(fi(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete s.g[c],s.h--)))):s&&(s=Pn(s))&&(c=s.g[c.toString()],s=-1,c&&(s=An(c,d,y,D)),(d=-1<s?c[s]:null)&&So(d))}function So(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[st])at(c.i,s);else{var d=s.type,y=s.proxy;c.removeEventListener?c.removeEventListener(d,y,s.capture):c.detachEvent?c.detachEvent(Zs(d),y):c.addListener&&c.removeListener&&c.removeListener(y),(d=Pn(c))?(at(d,s),d.h==0&&(d.src=null,c[mi]=null)):fi(s)}}}function Zs(s){return s in To?To[s]:To[s]="on"+s}function Mr(s,c){if(s.da)s=!0;else{c=new Ye(c,this);var d=s.listener,y=s.ha||s.src;s.fa&&So(s),s=d.call(y,c)}return s}function Pn(s){return s=s[mi],s instanceof pi?s:null}var gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function yi(s){return typeof s=="function"?s:(s[gi]||(s[gi]=function(c){return s.handleEvent(c)}),s[gi])}function Re(){le.call(this),this.i=new pi(this),this.M=this,this.F=null}P(Re,le),Re.prototype[st]=!0,Re.prototype.removeEventListener=function(s,c,d,y){Js(this,s,c,d,y)};function ze(s,c){var d,y=s.F;if(y)for(d=[];y;y=y.F)d.push(y);if(s=s.M,y=c.type||c,typeof c=="string")c=new Ee(c,s);else if(c instanceof Ee)c.target=c.target||s;else{var D=c;c=new Ee(y,s),E(c,D)}if(D=!0,d)for(var V=d.length-1;0<=V;V--){var q=c.g=d[V];D=Or(q,y,!0,c)&&D}if(q=c.g=s,D=Or(q,y,!0,c)&&D,D=Or(q,y,!1,c)&&D,d)for(V=0;V<d.length;V++)q=c.g=d[V],D=Or(q,y,!1,c)&&D}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var s=this.i,c;for(c in s.g){for(var d=s.g[c],y=0;y<d.length;y++)fi(d[y]);delete s.g[c],s.h--}}this.F=null},Re.prototype.K=function(s,c,d,y){return this.i.add(String(s),c,!1,d,y)},Re.prototype.L=function(s,c,d,y){return this.i.add(String(s),c,!0,d,y)};function Or(s,c,d,y){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();for(var D=!0,V=0;V<c.length;++V){var q=c[V];if(q&&!q.da&&q.capture==d){var Se=q.listener,ct=q.ha||q.src;q.fa&&at(s.i,q),D=Se.call(ct,y)!==!1&&D}}return D&&!y.defaultPrevented}function Fr(s,c,d){if(typeof s=="function")d&&(s=g(s,d));else if(s&&typeof s.handleEvent=="function")s=g(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(s,c||0)}function ea(s){s.g=Fr(()=>{s.g=null,s.i&&(s.i=!1,ea(s))},s.l);const c=s.h;s.h=null,s.m.apply(null,c)}class gn extends le{constructor(c,d){super(),this.m=c,this.l=d,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:ea(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qn(s){le.call(this),this.h=s,this.g={}}P(Qn,le);var Io=[];function Co(s){H(s.g,function(c,d){this.g.hasOwnProperty(d)&&So(c)},s),s.g={}}Qn.prototype.N=function(){Qn.aa.N.call(this),Co(this)},Qn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ro=l.JSON.stringify,ta=l.JSON.parse,vi=class{stringify(s){return l.JSON.stringify(s,void 0)}parse(s){return l.JSON.parse(s,void 0)}};function _i(){}_i.prototype.h=null;function wi(s){return s.h||(s.h=s.i())}function na(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ao(){Ee.call(this,"d")}P(Ao,Ee);function Ei(){Ee.call(this,"c")}P(Ei,Ee);var xn={},k=null;function N(){return k=k||new Re}xn.La="serverreachability";function O(s){Ee.call(this,xn.La,s)}P(O,Ee);function B(s){const c=N();ze(c,new O(c))}xn.STAT_EVENT="statevent";function Q(s,c){Ee.call(this,xn.STAT_EVENT,s),this.stat=c}P(Q,Ee);function X(s){const c=N();ze(c,new Q(c,s))}xn.Ma="timingevent";function J(s,c){Ee.call(this,xn.Ma,s),this.size=c}P(J,Ee);function W(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){s()},c)}function ie(){this.g=!0}ie.prototype.xa=function(){this.g=!1};function oe(s,c,d,y,D,V){s.info(function(){if(s.g)if(V)for(var q="",Se=V.split("&"),ct=0;ct<Se.length;ct++){var ye=Se[ct].split("=");if(1<ye.length){var gt=ye[0];ye=ye[1];var yt=gt.split("_");q=2<=yt.length&&yt[1]=="type"?q+(gt+"="+ye+"&"):q+(gt+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+c+`
`+d+`
`+q})}function Xe(s,c,d,y,D,V,q){s.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+c+`
`+d+`
`+V+" "+q})}function ke(s,c,d,y){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+Ie(s,d)+(y?" "+y:"")})}function ne(s,c){s.info(function(){return"TIMEOUT: "+c})}ie.prototype.info=function(){};function Ie(s,c){if(!s.g)return c;if(!c)return null;try{var d=JSON.parse(c);if(d){for(s=0;s<d.length;s++)if(Array.isArray(d[s])){var y=d[s];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<D.length;q++)D[q]=""}}}}return Ro(d)}catch{return c}}var Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qt;function rn(){}P(rn,_i),rn.prototype.g=function(){return new XMLHttpRequest},rn.prototype.i=function(){return{}},Qt=new rn;function At(s,c,d,y){this.j=s,this.i=c,this.l=d,this.R=y||1,this.U=new Qn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kn}function kn(){this.i=null,this.g="",this.h=!1}var bt={},Xn={};function Jn(s,c,d){s.L=1,s.v=oa(Vn(c)),s.m=d,s.P=!0,jr(s,null)}function jr(s,c){s.F=Date.now(),ut(s),s.A=Vn(s.v);var d=s.A,y=s.R;Array.isArray(y)||(y=[String(y)]),lf(d.i,"t",y),s.C=0,d=s.j.J,s.h=new kn,s.g=Rf(s.j,d?c:null,!s.m),0<s.O&&(s.M=new gn(g(s.Y,s,s.g),s.O)),c=s.U,d=s.g,y=s.ca;var D="readystatechange";Array.isArray(D)||(D&&(Io[0]=D.toString()),D=Io);for(var V=0;V<D.length;V++){var q=mn(d,D[V],y||c.handleEvent,!1,c.h||c);if(!q)break;c.g[q.key]=q}c=s.H?v(s.H):{},s.m?(s.u||(s.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,c)):(s.u="GET",s.g.ea(s.A,s.u,null,c)),B(),oe(s.i,s.u,s.A,s.l,s.R,s.m)}At.prototype.ca=function(s){s=s.target;const c=this.M;c&&Ln(s)==3?c.j():this.Y(s)},At.prototype.Y=function(s){try{if(s==this.g)e:{const yt=Ln(this.g);var c=this.g.Ba();const Ii=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||mf(this.g)))){this.J||yt!=4||c==7||(c==8||0>=Ii?B(3):B(2)),Dn(this);var d=this.g.Z();this.X=d;t:if(ue(this)){var y=mf(this.g);s="";var D=y.length,V=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),Zn(this);var q="";break t}this.h.i=new l.TextDecoder}for(c=0;c<D;c++)this.h.h=!0,s+=this.h.i.decode(y[c],{stream:!(V&&c==D-1)});y.length=0,this.h.g+=s,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=d==200,Xe(this.i,this.u,this.A,this.l,this.R,yt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ct=this.g;if((Se=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Se)){var ye=Se;break t}}ye=null}if(d=ye)ke(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cu(this,d);else{this.o=!1,this.s=3,X(12),Nn(this),Zn(this);break e}}if(this.P){d=!0;let on;for(;!this.J&&this.C<q.length;)if(on=lt(this,q),on==Xn){yt==4&&(this.s=4,X(14),d=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(on==bt){this.s=4,X(15),ke(this.i,this.l,q,"[Invalid Chunk]"),d=!1;break}else ke(this.i,this.l,on,null),cu(this,on);if(ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||q.length!=0||this.h.h||(this.s=1,X(16),d=!1),this.o=this.o&&d,!d)ke(this.i,this.l,q,"[Invalid Chunked Response]"),Nn(this),Zn(this);else if(0<q.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),gu(gt),gt.M=!0,X(11))}}else ke(this.i,this.l,q,null),cu(this,q);yt==4&&Nn(this),this.o&&!this.J&&(yt==4?Tf(this.j,this):(this.o=!1,ut(this)))}else v_(this.g),d==400&&0<q.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),Nn(this),Zn(this)}}}catch{}finally{}};function ue(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function lt(s,c){var d=s.C,y=c.indexOf(`
`,d);return y==-1?Xn:(d=Number(c.substring(d,y)),isNaN(d)?bt:(y+=1,y+d>c.length?Xn:(c=c.slice(y,y+d),s.C=y+d,c)))}At.prototype.cancel=function(){this.J=!0,Nn(this)};function ut(s){s.S=Date.now()+s.I,He(s,s.I)}function He(s,c){if(s.B!=null)throw Error("WatchDog timer not null");s.B=W(g(s.ba,s),c)}function Dn(s){s.B&&(l.clearTimeout(s.B),s.B=null)}At.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(ne(this.i,this.A),this.L!=2&&(B(),X(17)),Nn(this),this.s=2,Zn(this)):He(this,this.S-s)};function Zn(s){s.j.G==0||s.J||Tf(s.j,s)}function Nn(s){Dn(s);var c=s.M;c&&typeof c.ma=="function"&&c.ma(),s.M=null,Co(s.U),s.g&&(c=s.g,s.g=null,c.abort(),c.ma())}function cu(s,c){try{var d=s.j;if(d.G!=0&&(d.g==s||hu(d.h,s))){if(!s.K&&hu(d.h,s)&&d.G==3){try{var y=d.Da.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<s.F)ca(d),la(d);else break e;mu(d),X(18)}}else d.za=D[1],0<d.za-d.T&&37500>D[2]&&d.F&&d.v==0&&!d.C&&(d.C=W(g(d.Za,d),6e3));if(1>=Jd(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else br(d,11)}else if((s.K||d.g==s)&&ca(d),!w(c))for(D=d.Da.g.parse(c),c=0;c<D.length;c++){let ye=D[c];if(d.T=ye[0],ye=ye[1],d.G==2)if(ye[0]=="c"){d.K=ye[1],d.ia=ye[2];const gt=ye[3];gt!=null&&(d.la=gt,d.j.info("VER="+d.la));const yt=ye[4];yt!=null&&(d.Aa=yt,d.j.info("SVER="+d.Aa));const Ii=ye[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(y=1.5*Ii,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const on=s.g;if(on){const da=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var V=y.h;V.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(du(V,V.h),V.h=null))}if(y.D){const yu=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;yu&&(y.ya=yu,Ae(y.I,y.D,yu))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-s.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var q=s;if(y.qa=Cf(y,y.J?y.ia:null,y.W),q.K){Zd(y.h,q);var Se=q,ct=y.L;ct&&(Se.I=ct),Se.B&&(Dn(Se),ut(Se)),y.g=q}else wf(y);0<d.i.length&&ua(d)}else ye[0]!="stop"&&ye[0]!="close"||br(d,7);else d.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?br(d,7):pu(d):ye[0]!="noop"&&d.l&&d.l.ta(ye),d.v=0)}}B(4)}catch{}}var n_=class{constructor(s,c){this.g=s,this.map=c}};function Yd(s){this.l=s||10,l.PerformanceNavigationTiming?(s=l.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xd(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Jd(s){return s.h?1:s.g?s.g.size:0}function hu(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function du(s,c){s.g?s.g.add(c):s.h=c}function Zd(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}Yd.prototype.cancel=function(){if(this.i=ef(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function ef(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let c=s.i;for(const d of s.g.values())c=c.concat(d.D);return c}return x(s.i)}function r_(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var c=[],d=s.length,y=0;y<d;y++)c.push(s[y]);return c}c=[],d=0;for(y in s)c[d++]=s[y];return c}function i_(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var c=[];s=s.length;for(var d=0;d<s;d++)c.push(d);return c}c=[],d=0;for(const y in s)c[d++]=y;return c}}}function tf(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,c,void 0);else for(var d=i_(s),y=r_(s),D=y.length,V=0;V<D;V++)c.call(void 0,y[V],d&&d[V],s)}var nf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function o_(s,c){if(s){s=s.split("&");for(var d=0;d<s.length;d++){var y=s[d].indexOf("="),D=null;if(0<=y){var V=s[d].substring(0,y);D=s[d].substring(y+1)}else V=s[d];c(V,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ur(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Ur){this.h=s.h,ra(this,s.j),this.o=s.o,this.g=s.g,ia(this,s.s),this.l=s.l;var c=s.i,d=new ko;d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),rf(this,d),this.m=s.m}else s&&(c=String(s).match(nf))?(this.h=!1,ra(this,c[1]||"",!0),this.o=Po(c[2]||""),this.g=Po(c[3]||"",!0),ia(this,c[4]),this.l=Po(c[5]||"",!0),rf(this,c[6]||"",!0),this.m=Po(c[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Ur.prototype.toString=function(){var s=[],c=this.j;c&&s.push(xo(c,of,!0),":");var d=this.g;return(d||c=="file")&&(s.push("//"),(c=this.o)&&s.push(xo(c,of,!0),"@"),s.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&s.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&s.push("/"),s.push(xo(d,d.charAt(0)=="/"?l_:a_,!0))),(d=this.i.toString())&&s.push("?",d),(d=this.m)&&s.push("#",xo(d,c_)),s.join("")};function Vn(s){return new Ur(s)}function ra(s,c,d){s.j=d?Po(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function ia(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.s=c}else s.s=null}function rf(s,c,d){c instanceof ko?(s.i=c,h_(s.i,s.h)):(d||(c=xo(c,u_)),s.i=new ko(c,s.h))}function Ae(s,c,d){s.i.set(c,d)}function oa(s){return Ae(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Po(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function xo(s,c,d){return typeof s=="string"?(s=encodeURI(s).replace(c,s_),d&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function s_(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var of=/[#\/\?@]/g,a_=/[#\?:]/g,l_=/[#\?]/g,u_=/[#\?@]/g,c_=/#/g;function ko(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function er(s){s.g||(s.g=new Map,s.h=0,s.i&&o_(s.i,function(c,d){s.add(decodeURIComponent(c.replace(/\+/g," ")),d)}))}t=ko.prototype,t.add=function(s,c){er(this),this.i=null,s=Ti(this,s);var d=this.g.get(s);return d||this.g.set(s,d=[]),d.push(c),this.h+=1,this};function sf(s,c){er(s),c=Ti(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function af(s,c){return er(s),c=Ti(s,c),s.g.has(c)}t.forEach=function(s,c){er(this),this.g.forEach(function(d,y){d.forEach(function(D){s.call(c,D,y,this)},this)},this)},t.na=function(){er(this);const s=Array.from(this.g.values()),c=Array.from(this.g.keys()),d=[];for(let y=0;y<c.length;y++){const D=s[y];for(let V=0;V<D.length;V++)d.push(c[y])}return d},t.V=function(s){er(this);let c=[];if(typeof s=="string")af(this,s)&&(c=c.concat(this.g.get(Ti(this,s))));else{s=Array.from(this.g.values());for(let d=0;d<s.length;d++)c=c.concat(s[d])}return c},t.set=function(s,c){return er(this),this.i=null,s=Ti(this,s),af(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},t.get=function(s,c){return s?(s=this.V(s),0<s.length?String(s[0]):c):c};function lf(s,c,d){sf(s,c),0<d.length&&(s.i=null,s.g.set(Ti(s,c),x(d)),s.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],c=Array.from(this.g.keys());for(var d=0;d<c.length;d++){var y=c[d];const V=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var D=V;q[y]!==""&&(D+="="+encodeURIComponent(String(q[y]))),s.push(D)}}return this.i=s.join("&")};function Ti(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function h_(s,c){c&&!s.j&&(er(s),s.i=null,s.g.forEach(function(d,y){var D=y.toLowerCase();y!=D&&(sf(this,y),lf(this,D,d))},s)),s.j=c}function d_(s,c){const d=new ie;if(l.Image){const y=new Image;y.onload=R(tr,d,"TestLoadImage: loaded",!0,c,y),y.onerror=R(tr,d,"TestLoadImage: error",!1,c,y),y.onabort=R(tr,d,"TestLoadImage: abort",!1,c,y),y.ontimeout=R(tr,d,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=s}else c(!1)}function f_(s,c){const d=new ie,y=new AbortController,D=setTimeout(()=>{y.abort(),tr(d,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:y.signal}).then(V=>{clearTimeout(D),V.ok?tr(d,"TestPingServer: ok",!0,c):tr(d,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),tr(d,"TestPingServer: error",!1,c)})}function tr(s,c,d,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(d)}catch{}}function p_(){this.g=new vi}function m_(s,c,d){const y=d||"";try{tf(s,function(D,V){let q=D;h(D)&&(q=Ro(D)),c.push(y+V+"="+encodeURIComponent(q))})}catch(D){throw c.push(y+"type="+encodeURIComponent("_badmap")),D}}function Do(s){this.l=s.Ub||null,this.j=s.eb||!1}P(Do,_i),Do.prototype.g=function(){return new sa(this.l,this.j)},Do.prototype.i=function(s){return function(){return s}}({});function sa(s,c){Re.call(this),this.D=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(sa,Re),t=sa.prototype,t.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=c,this.readyState=1,Vo(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(c.body=s),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,Vo(this)),this.g&&(this.readyState=3,Vo(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uf(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function uf(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?No(this):Vo(this),this.readyState==3&&uf(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,No(this))},t.Qa=function(s){this.g&&(this.response=s,No(this))},t.ga=function(){this.g&&No(this)};function No(s){s.readyState=4,s.l=null,s.j=null,s.v=null,Vo(s)}t.setRequestHeader=function(s,c){this.u.append(s,c)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],c=this.h.entries();for(var d=c.next();!d.done;)d=d.value,s.push(d[0]+": "+d[1]),d=c.next();return s.join(`\r
`)};function Vo(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function cf(s){let c="";return H(s,function(d,y){c+=y,c+=":",c+=d,c+=`\r
`}),c}function fu(s,c,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=cf(d),typeof s=="string"?d!=null&&encodeURIComponent(String(d)):Ae(s,c,d))}function Ue(s){Re.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ue,Re);var g_=/^https?$/i,y_=["POST","PUT"];t=Ue.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,c,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qt.g(),this.v=this.o?wi(this.o):wi(Qt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(V){hf(this,V);return}if(s=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)d.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())d.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),D=l.FormData&&s instanceof l.FormData,!(0<=Array.prototype.indexOf.call(y_,c,void 0))||y||D||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of d)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pf(this),this.u=!0,this.g.send(s),this.u=!1}catch(V){hf(this,V)}};function hf(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.m=5,df(s),aa(s)}function df(s){s.A||(s.A=!0,ze(s,"complete"),ze(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,ze(this,"complete"),ze(this,"abort"),aa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),aa(this,!0)),Ue.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ff(this):this.bb())},t.bb=function(){ff(this)};function ff(s){if(s.h&&typeof a<"u"&&(!s.v[1]||Ln(s)!=4||s.Z()!=2)){if(s.u&&Ln(s)==4)Fr(s.Ea,0,s);else if(ze(s,"readystatechange"),Ln(s)==4){s.h=!1;try{const q=s.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var y;if(y=q===0){var D=String(s.D).match(nf)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),y=!g_.test(D?D.toLowerCase():"")}d=y}if(d)ze(s,"complete"),ze(s,"success");else{s.m=6;try{var V=2<Ln(s)?s.g.statusText:""}catch{V=""}s.l=V+" ["+s.Z()+"]",df(s)}}finally{aa(s)}}}}function aa(s,c){if(s.g){pf(s);const d=s.g,y=s.v[0]?()=>{}:null;s.g=null,s.v=null,c||ze(s,"ready");try{d.onreadystatechange=y}catch{}}}function pf(s){s.I&&(l.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Ln(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),ta(c)}};function mf(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function v_(s){const c={};s=(s.g&&2<=Ln(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<s.length;y++){if(w(s[y]))continue;var d=C(s[y]);const D=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=c[D]||[];c[D]=V,V.push(d)}p(c,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Lo(s,c,d){return d&&d.internalChannelParams&&d.internalChannelParams[s]||c}function gf(s){this.Aa=0,this.i=[],this.j=new ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Lo("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Lo("baseRetryDelayMs",5e3,s),this.cb=Lo("retryDelaySeedMs",1e4,s),this.Wa=Lo("forwardChannelMaxRetries",2,s),this.wa=Lo("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Yd(s&&s.concurrentRequestLimit),this.Da=new p_,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gf.prototype,t.la=8,t.G=1,t.connect=function(s,c,d,y){X(0),this.W=s,this.H=c||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=Cf(this,null,this.W),ua(this)};function pu(s){if(yf(s),s.G==3){var c=s.U++,d=Vn(s.I);if(Ae(d,"SID",s.K),Ae(d,"RID",c),Ae(d,"TYPE","terminate"),Mo(s,d),c=new At(s,s.j,c),c.L=2,c.v=oa(Vn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=c.v,d=!0),d||(c.g=Rf(c.j,null),c.g.ea(c.v)),c.F=Date.now(),ut(c)}If(s)}function la(s){s.g&&(gu(s),s.g.cancel(),s.g=null)}function yf(s){la(s),s.u&&(l.clearTimeout(s.u),s.u=null),ca(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&l.clearTimeout(s.s),s.s=null)}function ua(s){if(!Xd(s.h)&&!s.s){s.s=!0;var c=s.Ga;Vt||re(),$||(Vt(),$=!0),te.add(c,s),s.B=0}}function __(s,c){return Jd(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=c.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=W(g(s.Ga,s,c),Sf(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const D=new At(this,this.j,s);let V=this.o;if(this.S&&(V?(V=v(V),E(V,this.S)):V=this.S),this.m!==null||this.O||(D.H=V,V=null),this.P)e:{for(var c=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,4096<c){c=d;break e}if(c===4096||d===this.i.length-1){c=d+1;break e}}c=1e3}else c=1e3;c=_f(this,D,c),d=Vn(this.I),Ae(d,"RID",s),Ae(d,"CVER",22),this.D&&Ae(d,"X-HTTP-Session-Id",this.D),Mo(this,d),V&&(this.O?c="headers="+encodeURIComponent(String(cf(V)))+"&"+c:this.m&&fu(d,this.m,V)),du(this.h,D),this.Ua&&Ae(d,"TYPE","init"),this.P?(Ae(d,"$req",c),Ae(d,"SID","null"),D.T=!0,Jn(D,d,null)):Jn(D,d,c),this.G=2}}else this.G==3&&(s?vf(this,s):this.i.length==0||Xd(this.h)||vf(this))};function vf(s,c){var d;c?d=c.l:d=s.U++;const y=Vn(s.I);Ae(y,"SID",s.K),Ae(y,"RID",d),Ae(y,"AID",s.T),Mo(s,y),s.m&&s.o&&fu(y,s.m,s.o),d=new At(s,s.j,d,s.B+1),s.m===null&&(d.H=s.o),c&&(s.i=c.D.concat(s.i)),c=_f(s,d,1e3),d.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),du(s.h,d),Jn(d,y,c)}function Mo(s,c){s.H&&H(s.H,function(d,y){Ae(c,y,d)}),s.l&&tf({},function(d,y){Ae(c,y,d)})}function _f(s,c,d){d=Math.min(s.i.length,d);var y=s.l?g(s.l.Na,s.l,s):null;e:{var D=s.i;let V=-1;for(;;){const q=["count="+d];V==-1?0<d?(V=D[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let Se=!0;for(let ct=0;ct<d;ct++){let ye=D[ct].g;const gt=D[ct].map;if(ye-=V,0>ye)V=Math.max(0,D[ct].g-100),Se=!1;else try{m_(gt,q,"req"+ye+"_")}catch{y&&y(gt)}}if(Se){y=q.join("&");break e}}}return s=s.i.splice(0,d),c.D=s,y}function wf(s){if(!s.g&&!s.u){s.Y=1;var c=s.Fa;Vt||re(),$||(Vt(),$=!0),te.add(c,s),s.v=0}}function mu(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=W(g(s.Fa,s),Sf(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,Ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=W(g(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),la(this),Ef(this))};function gu(s){s.A!=null&&(l.clearTimeout(s.A),s.A=null)}function Ef(s){s.g=new At(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var c=Vn(s.qa);Ae(c,"RID","rpc"),Ae(c,"SID",s.K),Ae(c,"AID",s.T),Ae(c,"CI",s.F?"0":"1"),!s.F&&s.ja&&Ae(c,"TO",s.ja),Ae(c,"TYPE","xmlhttp"),Mo(s,c),s.m&&s.o&&fu(c,s.m,s.o),s.L&&(s.g.I=s.L);var d=s.g;s=s.ia,d.L=1,d.v=oa(Vn(c)),d.m=null,d.P=!0,jr(d,s)}t.Za=function(){this.C!=null&&(this.C=null,la(this),mu(this),X(19))};function ca(s){s.C!=null&&(l.clearTimeout(s.C),s.C=null)}function Tf(s,c){var d=null;if(s.g==c){ca(s),gu(s),s.g=null;var y=2}else if(hu(s.h,c))d=c.D,Zd(s.h,c),y=1;else return;if(s.G!=0){if(c.o)if(y==1){d=c.m?c.m.length:0,c=Date.now()-c.F;var D=s.B;y=N(),ze(y,new J(y,d)),ua(s)}else wf(s);else if(D=c.s,D==3||D==0&&0<c.X||!(y==1&&__(s,c)||y==2&&mu(s)))switch(d&&0<d.length&&(c=s.h,c.i=c.i.concat(d)),D){case 1:br(s,5);break;case 4:br(s,10);break;case 3:br(s,6);break;default:br(s,2)}}}function Sf(s,c){let d=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(d*=2),d*c}function br(s,c){if(s.j.info("Error code "+c),c==2){var d=g(s.fb,s),y=s.Xa;const D=!y;y=new Ur(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ra(y,"https"),oa(y),D?d_(y.toString(),d):f_(y.toString(),d)}else X(2);s.G=0,s.l&&s.l.sa(c),If(s),yf(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function If(s){if(s.G=0,s.ka=[],s.l){const c=ef(s.h);(c.length!=0||s.i.length!=0)&&(M(s.ka,c),M(s.ka,s.i),s.h.i.length=0,x(s.i),s.i.length=0),s.l.ra()}}function Cf(s,c,d){var y=d instanceof Ur?Vn(d):new Ur(d);if(y.g!="")c&&(y.g=c+"."+y.g),ia(y,y.s);else{var D=l.location;y=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;var V=new Ur(null);y&&ra(V,y),c&&(V.g=c),D&&ia(V,D),d&&(V.l=d),y=V}return d=s.D,c=s.ya,d&&c&&Ae(y,d,c),Ae(y,"VER",s.la),Mo(s,y),y}function Rf(s,c,d){if(c&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Ca&&!s.pa?new Ue(new Do({eb:d})):new Ue(s.pa),c.Ha(s.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Af(){}t=Af.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ha(){}ha.prototype.g=function(s,c){return new zt(s,c)};function zt(s,c){Re.call(this),this.g=new gf(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(s?s["X-WebChannel-Client-Profile"]=c.va:s={"X-WebChannel-Client-Profile":c.va}),this.g.S=s,(s=c&&c.Sb)&&!w(s)&&(this.g.m=s),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!w(c)&&(this.g.D=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new Si(this)}P(zt,Re),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){pu(this.g)},zt.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var d={};d.__data__=s,s=d}else this.u&&(d={},d.__data__=Ro(s),s=d);c.i.push(new n_(c.Ya++,s)),c.G==3&&ua(c)},zt.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,zt.aa.N.call(this)};function Pf(s){Ao.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){e:{for(const d in c){s=d;break e}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}P(Pf,Ao);function xf(){Ei.call(this),this.status=1}P(xf,Ei);function Si(s){this.g=s}P(Si,Af),Si.prototype.ua=function(){ze(this.g,"a")},Si.prototype.ta=function(s){ze(this.g,new Pf(s))},Si.prototype.sa=function(s){ze(this.g,new xf)},Si.prototype.ra=function(){ze(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,Qv=function(){return new ha},Wv=function(){return N()},Kv=xn,oh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,Ka=Le,Yn.COMPLETE="complete",qv=Yn,na.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Jo=na,Hv=Do,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,$v=Ue}).apply(typeof ka<"u"?ka:typeof self<"u"?self:typeof window<"u"?window:{});const vm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Ov("@firebase/firestore");function Wo(){return ai.logLevel}function Y(t,...e){if(ai.logLevel<=fe.DEBUG){const n=e.map(Ad);ai.debug(`Firestore (${vo}): ${t}`,...n)}}function Kn(t,...e){if(ai.logLevel<=fe.ERROR){const n=e.map(Ad);ai.error(`Firestore (${vo}): ${t}`,...n)}}function so(t,...e){if(ai.logLevel<=fe.WARN){const n=e.map(Ad);ai.warn(`Firestore (${vo}): ${t}`,...n)}}function Ad(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function Ge(t,e){t||ae()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends yo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class cI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hI{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new Gv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Et(e)}}class dI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new pI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function ao(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Ut(0,0))}static max(){return new se(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends Fs{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const yI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Fs{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return yI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Z(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ve.fromString(e))}static fromName(e){return new ee(Ve.fromString(e).popFirst(5))}static empty(){return new ee(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ve(e.slice()))}}function vI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Ar(i,ee.empty(),e)}function _I(t){return new Ar(t.readTime,t.key,-1)}class Ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ar(se.min(),ee.empty(),-1)}static max(){return new Ar(se.max(),ee.empty(),-1)}}function wI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==EI)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(f=>{a[h]=f,++l,l===o&&r(a)},f=>i(f))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function SI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xd.oe=-1;function Yl(t){return t==null}function sh(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function II(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new $e(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new $e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Da(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Da(this.root,e,this.comparator,!1)}getReverseIterator(){return new Da(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Da(this.root,e,this.comparator,!0)}}class Da{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=o??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new dt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wm(this.data.getIterator())}getIteratorFrom(e){return new wm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class wm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new hr([])}unionWith(e){let n=new pt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xv("Invalid base64 string: "+o):o}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const CI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=CI.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function li(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dd(t){const e=t.mapValue.fields.__previous_value__;return kd(e)?Dd(e):e}function js(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class Us{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kd(t)?4:AI(t)?9007199254740991:10:ae()}function Cn(t,e){if(t===e)return!0;const n=ui(t);if(n!==ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return js(t).isEqual(js(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Pr(i.timestampValue),l=Pr(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=We(i.doubleValue),l=We(o.doubleValue);return a===l?sh(a)===sh(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ao(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(_m(a)!==_m(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Cn(a[u],l[u])))return!1;return!0}(t,e);default:return ae()}}function bs(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function lo(t,e){if(t===e)return 0;const n=ui(t),r=ui(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=We(o.integerValue||o.doubleValue),u=We(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Em(t.timestampValue,e.timestampValue);case 4:return Em(js(t),js(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(o,a){const l=li(o),u=li(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=_e(l[h],u[h]);if(f!==0)return f}return _e(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=_e(We(o.latitude),We(a.latitude));return l!==0?l:_e(We(o.longitude),We(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const l=o.values||[],u=a.values||[];for(let h=0;h<l.length&&h<u.length;++h){const f=lo(l[h],u[h]);if(f)return f}return _e(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===Na.mapValue&&a===Na.mapValue)return 0;if(o===Na.mapValue)return 1;if(a===Na.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=a.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=_e(u[m],f[m]);if(g!==0)return g;const R=lo(l[u[m]],h[f[m]]);if(R!==0)return R}return _e(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ae()}}function Em(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Pr(t),r=Pr(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function uo(t){return ah(t)}function ah(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ah(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${ah(n.fields[a])}`;return i+"}"}(t.mapValue):ae()}function lh(t){return!!t&&"integerValue"in t}function Nd(t){return!!t&&"arrayValue"in t}function Tm(t){return!!t&&"nullValue"in t}function Sm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xu(t){return!!t&&"mapValue"in t}function ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=ds(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Xu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xl(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wn(ds(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new St(e,0,se.min(),se.min(),se.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new St(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new St(e,2,n,se.min(),se.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,se.min(),se.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.position=e,this.inclusive=n}}function Im(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(a.referenceValue),n.key):r=lo(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n="asc"){this.field=e,this.dir=n}}function PI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{}class Ze extends Jv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new kI(e,n,r):n==="array-contains"?new VI(e,r):n==="in"?new LI(e,r):n==="not-in"?new MI(e,r):n==="array-contains-any"?new OI(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DI(e,r):new NI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&ui(this.value)===ui(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends Jv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Rn(e,n)}matches(e){return Zv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Zv(t){return t.op==="and"}function e0(t){return xI(t)&&Zv(t)}function xI(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function uh(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+uo(t.value);if(e0(t))return t.filters.map(e=>uh(e)).join(",");{const e=t.filters.map(n=>uh(n)).join(",");return`${t.op}(${e})`}}function t0(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&t0(a,i.filters[l]),!0):!1}(t,e):void ae()}function n0(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(n0).join(" ,")+"}"}(t):"Filter"}class kI extends Ze{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class DI extends Ze{constructor(e,n){super(e,"in",n),this.keys=r0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NI extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=r0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class VI extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nd(n)&&bs(n.arrayValue,this.value)}}class LI extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bs(this.value.arrayValue,n)}}class MI extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(bs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!bs(this.value.arrayValue,n)}}class OI extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function Rm(t,e=null,n=[],r=[],i=null,o=null,a=null){return new FI(t,e,n,r,i,o,a)}function Vd(t){const e=ge(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>uo(r)).join(",")),e.ue=n}return e.ue}function Ld(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!t0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cm(t.startAt,e.startAt)&&Cm(t.endAt,e.endAt)}function ch(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jI(t,e,n,r,i,o,a,l){return new Jl(t,e,n,r,i,o,a,l)}function Md(t){return new Jl(t)}function Am(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UI(t){return t.collectionGroup!==null}function fs(t){const e=ge(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pt(xt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Pl(o,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new Pl(xt.keyField(),r))}return e.ce}function Sn(t){const e=ge(t);return e.le||(e.le=bI(e,fs(t))),e.le}function bI(t,e){if(t.limitType==="F")return Rm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Pl(i.field,o)});const n=t.endAt?new Al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Al(t.startAt.position,t.startAt.inclusive):null;return Rm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hh(t,e,n){return new Jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zl(t,e){return Ld(Sn(t),Sn(e))&&t.limitType===e.limitType}function i0(t){return`${Vd(Sn(t))}|lt:${t.limitType}`}function Ai(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>n0(i)).join(", ")}]`),Yl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>uo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>uo(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function eu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of fs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const h=Im(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,fs(r),i)||r.endAt&&!function(a,l,u){const h=Im(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,fs(r),i))}(t,e)}function zI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function o0(t){return(e,n)=>{let r=!1;for(const i of fs(t)){const o=BI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function BI(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,a,l){const u=a.data.field(o),h=l.data.field(o);return u!==null&&h!==null?lo(u,h):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xl(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return II(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=new $e(ee.comparator);function xr(){return $I}const s0=new $e(ee.comparator);function Zo(...t){let e=s0;for(const n of t)e=e.insert(n.key,n);return e}function HI(t){let e=s0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return ps()}function a0(){return ps()}function ps(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const qI=new pt(ee.comparator);function pe(...t){let e=qI;for(const n of t)e=e.add(n);return e}const KI=new pt(_e);function WI(){return KI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function GI(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(){this._=void 0}}function YI(t,e,n){return t instanceof dh?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&kd(o)&&(o=Dd(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof xl?l0(t,e):t instanceof kl?u0(t,e):function(i,o){const a=JI(i,o),l=Pm(a)+Pm(i.Pe);return lh(a)&&lh(i.Pe)?GI(l):QI(i.serializer,l)}(t,e)}function XI(t,e,n){return t instanceof xl?l0(t,e):t instanceof kl?u0(t,e):n}function JI(t,e){return t instanceof fh?function(r){return lh(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class dh extends tu{}class xl extends tu{constructor(e){super(),this.elements=e}}function l0(t,e){const n=c0(e);for(const r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends tu{constructor(e){super(),this.elements=e}}function u0(t,e){let n=c0(e);for(const r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}class fh extends tu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Pm(t){return We(t.integerValue||t.doubleValue)}function c0(t){return Nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZI(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xl&&i instanceof xl||r instanceof kl&&i instanceof kl?ao(r.elements,i.elements,Cn):r instanceof fh&&i instanceof fh?Cn(r.Pe,i.Pe):r instanceof dh&&i instanceof dh}(t.transform,e.transform)}class Zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zr}static exists(e){return new Zr(void 0,e)}static updateTime(e){return new Zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function h0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tC(t.key,Zr.none()):new Fd(t.key,t.data,Zr.none());{const n=t.data,r=wn.empty();let i=new pt(xt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new nu(t.key,r,new hr(i.toArray()),Zr.none())}}function eC(t,e,n){t instanceof Fd?function(i,o,a){const l=i.value.clone(),u=km(i.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof nu?function(i,o,a){if(!Wa(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=km(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(d0(i)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ms(t,e,n,r){return t instanceof Fd?function(o,a,l,u){if(!Wa(o.precondition,a))return l;const h=o.value.clone(),f=Dm(o.fieldTransforms,u,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof nu?function(o,a,l,u){if(!Wa(o.precondition,a))return l;const h=Dm(o.fieldTransforms,u,a),f=a.data;return f.setAll(d0(o)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,a,l){return Wa(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function xm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ao(r,i,(o,a)=>ZI(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Fd extends Od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nu extends Od{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function km(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,XI(a,l,n[i]))}return r}function Dm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,YI(o,a,e))}return r}class tC extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eC(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=a0();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const u=h0(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,r)=>xm(n,r))&&ao(this.baseMutations,e.baseMutations,(n,r)=>xm(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,de;function f0(t){if(t===void 0)return Kn("GRPC error has no .code"),K.UNKNOWN;switch(t){case qe.OK:return K.OK;case qe.CANCELLED:return K.CANCELLED;case qe.UNKNOWN:return K.UNKNOWN;case qe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case qe.INTERNAL:return K.INTERNAL;case qe.UNAVAILABLE:return K.UNAVAILABLE;case qe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case qe.NOT_FOUND:return K.NOT_FOUND;case qe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case qe.ABORTED:return K.ABORTED;case qe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case qe.DATA_LOSS:return K.DATA_LOSS;default:return ae()}}(de=qe||(qe={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=new Jr([4294967295,4294967295],0);function Nm(t){const e=oC().encode(t),n=new Bv;return n.update(e),new Uint8Array(n.digest())}function Vm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([n,r],0),new Jr([i,o],0)]}class jd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new es(`Invalid padding: ${n}`);if(r<0)throw new es(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new es(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new es(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jr.fromNumber(r)));return i.compare(sC)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Nm(e),[r,i]=Vm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new jd(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=Nm(e),[r,i]=Vm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class es extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ru(se.min(),i,new $e(_e),xr(),pe())}}class Gs{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gs(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class p0{constructor(e,n){this.targetId=e,this.me=n}}class m0{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Lm{constructor(){this.fe=0,this.ge=Om(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Gs(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=Om()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class aC{constructor(e){this.Le=e,this.Be=new Map,this.ke=xr(),this.qe=Mm(),this.Qe=new $e(_e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(ch(o))if(r===0){const a=new ee(o.path);this.Ue(n,a,St.newNoDocument(a,se.min()))}else Ge(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=li(r).toUint8Array()}catch(u){if(u instanceof Xv)return so("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new jd(a,i,o)}catch(u){return so(u instanceof es?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Je(a);if(l){if(o.current&&ch(l.target)){const u=new ee(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,St.newNoDocument(u,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=pe();this.qe.forEach((o,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new ru(e,n,this.Qe,this.ke,r);return this.ke=xr(),this.qe=Mm(),this.Qe=new $e(_e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Lm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(_e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Lm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Mm(){return new $e(ee.comparator)}function Om(){return new $e(ee.comparator)}const lC={asc:"ASCENDING",desc:"DESCENDING"},uC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cC={and:"AND",or:"OR"};class hC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ph(t,e){return t.useProto3Json||Yl(e)?e:{value:e}}function dC(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Yi(t){return Ge(!!t),se.fromTimestamp(function(n){const r=Pr(n);return new Ut(r.seconds,r.nanos)}(t))}function pC(t,e){return mh(t,e).canonicalString()}function mh(t,e){const n=function(i){return new Ve(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function g0(t){const e=Ve.fromString(t);return Ge(E0(e)),e}function Ju(t,e){const n=g0(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(v0(n))}function y0(t,e){return pC(t.databaseId,e)}function mC(t){const e=g0(t);return e.length===4?Ve.emptyPath():v0(e)}function Fm(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function v0(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gC(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,f){return h.useProto3Json?(Ge(f===void 0||typeof f=="string"),Ct.fromBase64String(f||"")):(Ge(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?K.UNKNOWN:f0(h.code);return new Z(f,h.message||"")}(a);n=new m0(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ju(t,r.document.name),o=Yi(r.document.updateTime),a=r.document.createTime?Yi(r.document.createTime):se.min(),l=new wn({mapValue:{fields:r.document.fields}}),u=St.newFoundDocument(i,o,a,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Qa(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ju(t,r.document),o=r.readTime?Yi(r.readTime):se.min(),a=St.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Qa([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ju(t,r.document),o=r.removedTargetIds||[];n=new Qa([],o,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new iC(i,o),l=r.targetId;n=new p0(l,a)}}return n}function yC(t,e){return{documents:[y0(t,e.path)]}}function vC(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=y0(t,i);const o=function(h){if(h.length!==0)return w0(Rn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:Pi(g.field),direction:EC(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=ph(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function _C(t){let e=mC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(m){const g=_0(m);return g instanceof Rn&&e0(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(P){return new Pl(xi(P.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Yl(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,R=m.values||[];return new Al(R,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,R=m.values||[];return new Al(R,g)}(n.endAt)),jI(e,i,a,o,l,"F",u,h)}function wC(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xi(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xi(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xi(n.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xi(n.unaryFilter.field);return Ze.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(xi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>_0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function EC(t){return lC[t]}function TC(t){return uC[t]}function SC(t){return cC[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function xi(t){return xt.fromServerFormat(t.fieldPath)}function w0(t){return t instanceof Ze?function(n){if(n.op==="=="){if(Sm(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NAN"}};if(Tm(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sm(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NAN"}};if(Tm(n.value))return{unaryFilter:{field:Pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(n.field),op:TC(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(i=>w0(i));return r.length===1?r[0]:{compositeFilter:{op:SC(n.op),filters:r}}}(t):ae()}function E0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,r,i,o=se.min(),a=se.min(),l=Ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.ct=e}}function CC(t){const e=_C({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this._n=new AC}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ar.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class AC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new co(0)}static Ln(){return new co(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ms(r.mutation,i,hr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=Gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Zo();return o.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=xr();const a=ps(),l=function(){return ps()}();return n.forEach((u,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof nu)?o=o.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),ms(f.mutation,h,f.mutation.getFieldMask(),Ut.now())):a.set(h.key,hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,f)=>a.set(h,f)),n.forEach((h,f)=>{var m;return l.set(h,new xC(f,(m=a.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ps();let i=new $e((a,l)=>a-l),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let f=r.get(u)||hr.empty();f=l.applyToLocalView(h,f),r.set(u,f);const m=(i.get(l.batchId)||pe()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,m=a0();f.forEach(g=>{if(!o.has(g)){const R=h0(n.get(g),r.get(g));R!==null&&m.set(g,R),o=o.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(Gr());let l=-1,u=o;return a.next(h=>U.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,pe())).next(f=>({batchId:l,changes:HI(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Zo();return this.indexManager.getCollectionParents(e,o).next(l=>U.forEach(l,u=>{const h=function(m,g){return new Jl(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(f=>{f.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,St.newInvalidDocument(f)))});let l=Zo();return a.forEach((u,h)=>{const f=o.get(u);f!==void 0&&ms(f.mutation,h,hr.empty(),Ut.now()),eu(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Yi(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:CC(i.bundledQuery),readTime:Yi(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.overlays=new $e(ee.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Gr(),o=n.length+1,a=new ee(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new $e((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=o.get(h.largestBatchId);f===null&&(f=Gr(),o=o.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Gr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return U.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new rC(n,r));let o=this.hr.get(n);o===void 0&&(o=pe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this.Pr=new pt(tt.Ir),this.Tr=new pt(tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new Ve([])),r=new tt(n,e),i=new tt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new Ve([])),r=new tt(n,e),i=new tt(n,e+1);let o=pe();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||_e(e.pr,n.pr)}static Er(e,n){return _e(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new pt(tt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new nC(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.wr=this.wr.add(new tt(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],a=>{const l=this.Sr(a.pr);o.push(l)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(_e);return n.forEach(i=>{const o=new tt(i,0),a=new tt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{r=r.add(l.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const a=new tt(new ee(o),0);let l=new pt(_e);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},a),U.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const o=new tt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new tt(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.vr=e,this.docs=function(){return new $e(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():St.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xr();const a=n.path,l=new ee(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||wI(_I(f),r)<=0||(i.has(f.key)||eu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MC(this)}getSize(e){return U.resolve(this.size)}}class MC extends PC{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.persistence=e,this.Mr=new _o(n=>Vd(n),Ld),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ud,this.targetCount=0,this.Lr=co.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new co(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n){this.Br={},this.overlays={},this.kr=new xd(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new OC(this),this.indexManager=new RC,this.remoteDocumentCache=function(i){return new LC(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new IC(n),this.$r=new DC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new VC(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new jC(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class jC extends TI{constructor(e){super(),this.currentSequenceNumber=e}}class bd{constructor(e){this.persistence=e,this.zr=new Ud,this.jr=null}static Hr(e){return new bd(e)}get Jr(){if(this.jr)return this.jr;throw ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=pe(),i=pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new zd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return QT()?8:SI(KT())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new UC;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Wo()<=fe.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ai(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Wo()<=fe.DEBUG&&Y("QueryEngine","Query:",Ai(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Wo()<=fe.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ai(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):U.resolve())}ji(e,n){if(Am(n))return U.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hh(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=pe(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,a,u.readTime)?this.ji(e,hh(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return Am(n)||i.isEqual(se.min())?U.resolve(null):this.zi.getDocuments(e,r).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,r,i)?U.resolve(null):(Wo()<=fe.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ai(n)),this.es(e,a,n,vI(i,-1)).next(l=>l))})}Zi(e,n){let r=new pt(o0(e));return n.forEach((i,o)=>{eu(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Wo()<=fe.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ai(n)),this.zi.getDocumentsMatchingQuery(e,n,Ar.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new $e(_e),this.rs=new _o(o=>Vd(o),Ld),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kC(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function BC(t,e,n,r){return new zC(t,e,n,r)}async function T0(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let u=pe();for(const h of i){a.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of o){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})}function S0(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $C(t,e){const n=ge(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,m)));let R=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?R=R.withResumeToken(Ct.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):f.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(f.resumeToken,r)),i=i.insert(m,R),function(x,M,S){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,R,f)&&l.push(n.Qr.updateTargetData(o,R))});let u=xr(),h=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(HC(o,a,e.documentUpdates).next(f=>{u=f.cs,h=f.ls})),!r.isEqual(se.min())){const f=n.Qr.getLastRemoteSnapshotVersion(o).next(m=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return U.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.ns=i,o))}function HC(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=xr();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:a,ls:i}})}function qC(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new dr(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function gh(t,e,n){const r=ge(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Qs(a))throw a;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function jm(t,e,n){const r=ge(t);let i=se.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,f){const m=ge(u),g=m.rs.get(f);return g!==void 0?U.resolve(m.ns.get(g)):m.Qr.getTargetData(h,f)}(r,a,Sn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:se.min(),n?o:pe())).next(l=>(KC(r,zI(e),l),{documents:l,hs:o})))}function KC(t,e,n){let r=t.ss.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Um{constructor(){this.activeTargetIds=WI()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WC{constructor(){this.no=new Um,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Um,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va=null;function Zu(){return Va===null?Va=function(){return 268435456+Math.round(2147483648*Math.random())}():Va++,"0x"+Va.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class XC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,a){const l=Zu(),u=this.vo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,o,a),this.Mo(n,u,h,i).then(f=>(Y("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw so("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,o,a,l){return this.Co(n,r,i,o,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}vo(n,r){const i=GC[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=Zu();return new Promise((a,l)=>{const u=new $v;u.setWithCredentials(!0),u.listenOnce(qv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ka.NO_ERROR:const f=u.getResponseJson();Y(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Ka.TIMEOUT:Y(wt,`RPC '${e}' ${o} timed out`),l(new Z(K.DEADLINE_EXCEEDED,"Request time out"));break;case Ka.HTTP_ERROR:const m=u.getStatus();if(Y(wt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const R=g==null?void 0:g.error;if(R&&R.status&&R.message){const P=function(M){const S=M.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(S)>=0?S:K.UNKNOWN}(R.status);l(new Z(P,R.message))}else l(new Z(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(K.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{Y(wt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);Y(wt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=Zu(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Qv(),l=Wv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new Hv({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");Y(wt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=a.createWebChannel(f,u);let g=!1,R=!1;const P=new YC({lo:M=>{R?Y(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(Y(wt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Y(wt,`RPC '${e}' stream ${i} sending:`,M),m.send(M))},ho:()=>m.close()}),x=(M,S,w)=>{M.listen(S,I=>{try{w(I)}catch(L){setTimeout(()=>{throw L},0)}})};return x(m,Jo.EventType.OPEN,()=>{R||(Y(wt,`RPC '${e}' stream ${i} transport opened.`),P.mo())}),x(m,Jo.EventType.CLOSE,()=>{R||(R=!0,Y(wt,`RPC '${e}' stream ${i} transport closed`),P.po())}),x(m,Jo.EventType.ERROR,M=>{R||(R=!0,so(wt,`RPC '${e}' stream ${i} transport errored:`,M),P.po(new Z(K.UNAVAILABLE,"The operation could not be completed")))}),x(m,Jo.EventType.MESSAGE,M=>{var S;if(!R){const w=M.data[0];Ge(!!w);const I=w,L=I.error||((S=I[0])===null||S===void 0?void 0:S.error);if(L){Y(wt,`RPC '${e}' stream ${i} received error:`,L);const z=L.status;let H=function(_){const E=qe[_];if(E!==void 0)return f0(E)}(z),p=L.message;H===void 0&&(H=K.INTERNAL,p="Unknown error status: "+z+" with message "+L.message),R=!0,P.po(new Z(H,p)),m.close()}else Y(wt,`RPC '${e}' stream ${i} received:`,w),P.yo(w)}}),x(l,Kv.STAT_EVENT,M=>{M.stat===oh.PROXY?Y(wt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===oh.NOPROXY&&Y(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}}function ec(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){return new hC(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i,o,a,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new C0(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Z(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZC extends JC{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=gC(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?se.min():a.readTime?Yi(a.readTime):se.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(o,a){let l;const u=a.target;if(l=ch(u)?{documents:yC(o,u)}:{query:vC(o,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=fC(o,a.resumeToken);const h=ph(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(se.min())>0){l.readTime=dC(o,a.snapshotVersion.toTimestamp());const h=ph(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=wC(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Z(K.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,mh(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(K.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.xo(e,mh(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(K.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class tR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Kn(n),this.y_=!1):Y("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(async()=>{Xs(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=ge(u);h.M_.add(4),await Ys(h),h.N_.set("Unknown"),h.M_.delete(4),await iu(h)}(this))})}),this.N_=new tR(r,i)}}async function iu(t){if(Xs(t))for(const e of t.x_)await e(!0)}async function Ys(t){for(const e of t.x_)await e(!1)}function R0(t,e){const n=ge(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),qd(n)?Hd(n):wo(n).Xo()&&$d(n,e))}function Bd(t,e){const n=ge(t),r=wo(n);n.F_.delete(e),r.Xo()&&A0(n,e),n.F_.size===0&&(r.Xo()?r.n_():Xs(n)&&n.N_.set("Unknown"))}function $d(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).P_(e)}function A0(t,e){t.L_.xe(e),wo(t).I_(e)}function Hd(t){t.L_=new aC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.N_.w_()}function qd(t){return Xs(t)&&!wo(t).Zo()&&t.F_.size>0}function Xs(t){return ge(t).M_.size===0}function P0(t){t.L_=void 0}async function rR(t){t.N_.set("Online")}async function iR(t){t.F_.forEach((e,n)=>{$d(t,e)})}async function oR(t,e){P0(t),qd(t)?(t.N_.D_(e),Hd(t)):t.N_.set("Unknown")}async function sR(t,e,n){if(t.N_.set("Online"),e instanceof m0&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zm(t,r)}else if(e instanceof Qa?t.L_.Ke(e):e instanceof p0?t.L_.He(e):t.L_.We(e),!n.isEqual(se.min()))try{const r=await S0(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.L_.rt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.F_.get(h);f&&o.F_.set(h,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const f=o.F_.get(u);if(!f)return;o.F_.set(u,f.withResumeToken(Ct.EMPTY_BYTE_STRING,f.snapshotVersion)),A0(o,u);const m=new dr(f.target,u,h,f.sequenceNumber);$d(o,m)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await zm(t,r)}}async function zm(t,e,n){if(!Qs(e))throw e;t.M_.add(1),await Ys(t),t.N_.set("Offline"),n||(n=()=>S0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await iu(t)})}async function Bm(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Xs(n);n.M_.add(3),await Ys(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await iu(n)}async function aR(t,e){const n=ge(t);e?(n.M_.delete(2),await iu(n)):e||(n.M_.add(2),await Ys(n),n.N_.set("Unknown"))}function wo(t){return t.B_||(t.B_=function(n,r,i){const o=ge(n);return o.f_(),new ZC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:rR.bind(null,t),To:iR.bind(null,t),Ao:oR.bind(null,t),h_:sR.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),qd(t)?Hd(t):t.N_.set("Unknown")):(await t.B_.stop(),P0(t))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new Kd(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function x0(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),Qs(t))return new Z(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Zo(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new Xi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.q_=new $e(ee.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ae():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ho{constructor(e,n,r,i,o,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new ho(e,n,Xi.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class uR{constructor(){this.queries=new _o(e=>i0(e),Zl),this.onlineState="Unknown",this.z_=new Set}}async function k0(t,e){const n=ge(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new lR,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=x0(a,`Initialization of query '${Ai(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Wd(n)}async function D0(t,e){const n=ge(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.U_.indexOf(e);a>=0&&(o.U_.splice(a,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cR(t,e){const n=ge(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.U_)l.H_(i)&&(r=!0);a.K_=i}}r&&Wd(n)}function hR(t,e,n){const r=ge(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Wd(t){t.z_.forEach(e=>{e.next()})}var yh,Hm;(Hm=yh||(yh={})).J_="default",Hm.Cache="cache";class N0{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==yh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.key=e}}class L0{constructor(e){this.key=e}}class dR{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=pe(),this.mutatedKeys=pe(),this.Ia=o0(e),this.Ta=new Xi(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new $m,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),R=eu(this.query,m)?m:null,P=!!g&&this.mutatedKeys.has(g.key),x=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let M=!1;g&&R?g.data.isEqual(R.data)?P!==x&&(r.track({type:3,doc:R}),M=!0):this.Ra(g,R)||(r.track({type:2,doc:R}),M=!0,(u&&this.Ia(R,u)>0||h&&this.Ia(R,h)<0)&&(l=!0)):!g&&R?(r.track({type:0,doc:R}),M=!0):g&&!R&&(r.track({type:1,doc:g}),M=!0,(u||h)&&(l=!0)),M&&(R?(a=a.add(R),o=x?o.add(f):o.delete(f)):(a=a.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ta:a,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((f,m)=>function(R,P){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return x(R)-x(P)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,h=u!==this.ha;return this.ha=u,a.length!==0||h?{snapshot:new ho(this.query,e.Ta,o,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new $m,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=pe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new L0(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new V0(r))}),n}pa(e){this.la=e.hs,this.Pa=pe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ho.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class fR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pR{constructor(e){this.key=e,this.wa=!1}}class mR{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new _o(l=>i0(l),Zl),this.Da=new Map,this.Ca=new Set,this.va=new $e(ee.comparator),this.Fa=new Map,this.Ma=new Ud,this.xa={},this.Oa=new Map,this.Na=co.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function gR(t,e,n=!0){const r=U0(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await M0(r,e,n,!0),i}async function yR(t,e){const n=U0(t);await M0(n,e,!0,!1)}async function M0(t,e,n,r){const i=await qC(t.localStore,Sn(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await vR(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&R0(t.remoteStore,i),l}async function vR(t,e,n,r,i){t.Ba=(m,g,R)=>async function(x,M,S,w){let I=M.view.da(S);I.Xi&&(I=await jm(x.localStore,M.query,!1).then(({documents:p})=>M.view.da(p,I)));const L=w&&w.targetChanges.get(M.targetId),z=w&&w.targetMismatches.get(M.targetId)!=null,H=M.view.applyChanges(I,x.isPrimaryClient,L,z);return Km(x,M.targetId,H.fa),H.snapshot}(t,m,g,R);const o=await jm(t.localStore,e,!0),a=new dR(e,o.hs),l=a.da(o.documents),u=Gs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,u);Km(t,n,h.fa);const f=new fR(e,n,a);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function _R(t,e,n){const r=ge(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(a=>!Zl(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bd(r.remoteStore,i.targetId),vh(r,i.targetId)}).catch(Pd)):(vh(r,i.targetId),await gh(r.localStore,i.targetId,!0))}async function wR(t,e){const n=ge(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bd(n.remoteStore,r.targetId))}async function O0(t,e){const n=ge(t);try{const r=await $C(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Fa.get(o);a&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?Ge(a.wa):i.removedDocuments.size>0&&(Ge(a.wa),a.wa=!1))}),await j0(n,r,e)}catch(r){await Pd(r)}}function qm(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,a)=>{const l=a.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=ge(a);u.onlineState=l;let h=!1;u.queries.forEach((f,m)=>{for(const g of m.U_)g.j_(l)&&(h=!0)}),h&&Wd(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ER(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let a=new $e(ee.comparator);a=a.insert(o,St.newNoDocument(o,se.min()));const l=pe().add(o),u=new ru(se.min(),new Map,new $e(_e),a,l);await O0(r,u),r.va=r.va.remove(o),r.Fa.delete(e),Qd(r)}else await gh(r.localStore,e,!1).then(()=>vh(r,e,n)).catch(Pd)}function vh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||F0(t,r)})}function F0(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Bd(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Qd(t))}function Km(t,e,n){for(const r of n)r instanceof V0?(t.Ma.addReference(r.key,e),TR(t,r)):r instanceof L0?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||F0(t,r.key)):ae()}function TR(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Qd(t))}function Qd(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ee(Ve.fromString(e)),r=t.Na.next();t.Fa.set(r,new pR(n)),t.va=t.va.insert(n,r),R0(t.remoteStore,new dr(Sn(Md(n.path)),r,"TargetPurposeLimboResolution",xd.oe))}}async function j0(t,e,n){const r=ge(t),i=[],o=[],a=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{a.push(r.Ba(u,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=zd.Ki(u.targetId,h);o.push(m)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(u,h){const f=ge(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(h,g=>U.forEach(g.qi,R=>f.persistence.referenceDelegate.addReference(m,g.targetId,R)).next(()=>U.forEach(g.Qi,R=>f.persistence.referenceDelegate.removeReference(m,g.targetId,R)))))}catch(m){if(!Qs(m))throw m;Y("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const R=f.ns.get(g),P=R.snapshotVersion,x=R.withLastLimboFreeSnapshotVersion(P);f.ns=f.ns.insert(g,x)}}}(r.localStore,o))}async function SR(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await T0(n.localStore,e);n.currentUser=e,function(o,a){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new Z(K.CANCELLED,a))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await j0(n,r.us)}}function IR(t,e){const n=ge(t),r=n.Fa.get(e);if(r&&r.wa)return pe().add(r.key);{let i=pe();const o=n.Da.get(e);if(!o)return i;for(const a of o){const l=n.ba.get(a);i=i.unionWith(l.view.Ea)}return i}}function U0(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=O0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ER.bind(null,e),e.Sa.h_=cR.bind(null,e.eventManager),e.Sa.ka=hR.bind(null,e.eventManager),e}class Wm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=I0(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BC(this.persistence,new bC,e.initialUser,this.serializer)}createPersistence(e){return new FC(bd.Hr,this.serializer)}createSharedClientState(e){return new WC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SR.bind(null,this.syncEngine),await aR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uR}()}createDatastore(e){const n=I0(e.databaseInfo.databaseId),r=function(o){return new XC(o)}(e.databaseInfo);return function(o,a,l,u){return new eR(o,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new nR(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qm(this.syncEngine,n,0),function(){return bm.D()?new bm:new QC}())}createSyncEngine(e,n){return function(i,o,a,l,u,h,f){const m=new mR(i,o,a,l,u,h);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ge(r);Y("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ys(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(K.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=x0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tc(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await T0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PR(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Bm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Bm(e.remoteStore,i)),t._onlineComponents=e}function AR(t){return t.name==="FirebaseError"?t.code===K.FAILED_PRECONDITION||t.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function PR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await tc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!AR(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await tc(t,new Wm)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await tc(t,new Wm);return t._offlineComponents}async function xR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await Qm(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await Qm(t,new CR))),t._onlineComponents}async function z0(t){const e=await xR(t),n=e.eventManager;return n.onListen=gR.bind(null,e.syncEngine),n.onUnlisten=_R.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wR.bind(null,e.syncEngine),n}function kR(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,u,h){const f=new b0({next:g=>{a.enqueueAndForget(()=>D0(o,m));const R=g.docs.has(l);!R&&g.fromCache?h.reject(new Z(K.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&g.fromCache&&u&&u.source==="server"?h.reject(new Z(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new N0(Md(l.path),f,{includeMetadataChanges:!0,ra:!0});return k0(o,m)}(await z0(t),t.asyncQueue,e,n,r)),r.promise}function DR(t,e,n={}){const r=new Sr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,u,h){const f=new b0({next:g=>{a.enqueueAndForget(()=>D0(o,m)),g.fromCache&&u.source==="server"?h.reject(new Z(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new N0(l,f,{includeMetadataChanges:!0,ra:!0});return k0(o,m)}(await z0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t,e,n){if(!n)throw new Z(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NR(t,e,n,r){if(e===!0&&r===!0)throw new Z(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ym(t){if(!ee.isDocumentKey(t))throw new Z(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Xm(t){if(ee.isDocumentKey(t))throw new Z(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VR(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=VR(t);throw new Z(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(K.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ou{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uI;switch(r.type){case"firstParty":return new fI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Gm.get(n);r&&(Y("ComponentProvider","Removing Datastore"),Gm.delete(n),r.terminate())}(this),Promise.resolve()}}function LR(t,e,n,r={}){var i;const o=(t=zs(t,ou))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Et.MOCK_USER;else{l=qT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(h)}t._authCredentials=new cI(new Gv(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new su(this.firestore,e,this._query)}}class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class Ir extends su{constructor(e,n,r){super(e,n,Md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new ee(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function H0(t,e,...n){if(t=Mv(t),$0("collection","path",e),t instanceof ou){const r=Ve.fromString(e,...n);return Xm(r),new Ir(t,null,r)}{if(!(t instanceof In||t instanceof Ir))throw new Z(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Xm(r),new Ir(t.firestore,null,r)}}function MR(t,e,...n){if(t=Mv(t),arguments.length===1&&(e=Yv.newId()),$0("doc","path",e),t instanceof ou){const r=Ve.fromString(e,...n);return Ym(r),new In(t,null,new ee(r))}{if(!(t instanceof In||t instanceof Ir))throw new Z(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return Ym(r),new In(t.firestore,t instanceof Ir?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new C0(this,"async_queue_retry"),this.hu=()=>{const n=ec();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=ec();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=ec();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Sr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Qs(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Kd.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ae()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Gd extends ou{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new OR}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||W0(this),this._firestoreClient.terminate()}}function q0(t,e){const n=typeof t=="object"?t:ZS(),r=typeof t=="string"?t:"(default)",i=GS(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$T("firestore");o&&LR(i,...o)}return i}function K0(t){return t._firestoreClient||W0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function W0(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,f){return new RI(l,u,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,B0(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new RR(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(Ct.fromBase64String(e))}catch(n){throw new Z(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dl(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}const jR=new RegExp("[~\\*/\\[\\]]");function UR(t,e,n){if(e.search(jR)>=0)throw Zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new Q0(...e.split("."))._internalPath}catch{throw Zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Zm(t,e,n,r,i){let o=`Function ${e}() called with invalid data`;o+=". ";let a="";return new Z(K.INVALID_ARGUMENT,o+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Y0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bR extends G0{data(){return super.data()}}function Y0(t,e){return typeof e=="string"?UR(t,e):e instanceof Q0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BR{convertValue(e,n="none"){switch(ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xl(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new FR(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(js(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Ge(E0(r));const i=new Us(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Kn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X0 extends G0{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Y0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ga extends X0{data(e={}){return super.data(e)}}class $R{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ts(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ga(this._firestore,this._userDataWriter,r.key,r,new ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new Ga(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ts(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new Ga(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ts(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:HR(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){t=zs(t,In);const e=zs(t.firestore,Gd);return kR(K0(e),t._key).then(n=>KR(e,t,n))}class J0 extends BR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Z0(t){t=zs(t,su);const e=zs(t.firestore,Gd),n=K0(e),r=new J0(e);return zR(t._query),DR(n,t._query).then(i=>new $R(e,r,t,i))}function KR(t,e,n){const r=n.docs.get(e._key),i=new J0(t);return new X0(t,i,e._key,r,new ts(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vo=i})(JS),Rl(new Ms("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new Gd(new hI(r.getProvider("auth-internal")),new mI(r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Z(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(h.options.projectId,f)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Gi(vm,"4.6.4",e),Gi(vm,"4.6.4","esm2017")})();var WR="firebase",QR="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(WR,QR,"app");const GR={apiKey:"AIzaSyDKrpdT6I2GvVrhDJZl-xC3W2hr213O8_Q",authDomain:"documental-46e6b.firebaseapp.com",projectId:"documental-46e6b",storageBucket:"documental-46e6b.appspot.com",messagingSenderId:"434338880578",appId:"1:434338880578:web:2a5d68e3e2e9060ea321db"},e_=Uv(GR),t_=q0(e_),YR=async()=>{const t=await Z0(H0(t_,"texts")),e=[];return t.forEach(n=>{const r={id:n.id,...n.data()};e.push(r)}),e},XR=async t=>{try{const e=MR(t_,"texts",t),n=await qR(e);let r=null;return n.exists()?(r={id:n.id,...n.data()},r):null}catch(e){return console.log("Error getting document:",e),null}},JR=t=>{var n,r,i;const e=Ed();return F.jsxs("div",{className:"bg-[rgb(9,88,160)] text-wrap w-[95%] mx-auto rounded-md flex flex-row justify-between items-center p-5",onClick:()=>{e(`/information/${t==null?void 0:t.id}`)},children:[F.jsx("picture",{className:"w-[120px] h-[140px] border-secondary-a border-2 rounded-md",children:F.jsx("img",{src:t==null?void 0:t.Portada,className:"h-[100%] w-screen object-cover rounded-md",alt:t.Titulo})}),F.jsxs("div",{className:"w-48 text-center text-white",children:[F.jsx("h2",{className:"text-[15px]",children:t==null?void 0:t.Titulo}),F.jsx("h2",{className:"my-1 text-[12px] font-bold",children:`${(n=t==null?void 0:t.AUTOR)==null?void 0:n.NOMBRE} ${(r=t==null?void 0:t.AUTOR)==null?void 0:r.PATERNO} ${(i=t==null?void 0:t.AUTOR)==null?void 0:i.MATERNO}`})]})]},t.id)},ZR=()=>{const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,o]=j.useState("");j.useEffect(()=>{YR().then(u=>{e(u),r(!1)})},[]);const a=u=>{o(u.target.value)},l=t.filter(u=>u.Titulo.toLowerCase().includes(i.toLowerCase()));return F.jsxs(F.Fragment,{children:[F.jsx(Id,{}),F.jsx("form",{className:"flex items-center justify-center my-5",children:F.jsx("input",{type:"text",value:i,onChange:a,className:"border-b-[1px] border-b-[#000] outline-none p-1 w-[200px] xl:w-[400px]",placeholder:"Buscar"})}),F.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:n?F.jsx(Td,{}):l.map(u=>F.jsx(JR,{...u},u.ID))})]})},eA="/assets/libro-Cb7OmD8i.png",tA="/assets/Logo-DhHepTu1.png",nA=()=>{const[t,e]=j.useState(!1);return F.jsx(F.Fragment,{children:F.jsx("section",{className:"flex items-center justify-center w-screen h-screen text-center text-white bg-cover",style:{backgroundImage:`url(${eA})`},children:F.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 px-5 xl:flex-row",children:[F.jsxs("div",{className:"flex flex-col items-center justify-center xl:w-[50%]",children:[F.jsx("img",{src:tA,className:""}),F.jsx("h2",{className:"text-2xl font-bold",children:"Bienvenido al centro documental"})]}),F.jsxs("div",{className:"flex flex-col items-center justify-center gap-5 xl:w-[50%]",children:[F.jsx("p",{className:"text-sm xl:text-xl",children:"Aquí encontrarás una amplia variedad de obras literarias que alimentarán tu imaginación y ayudarán en tu recorrido acádemico dentro de la facultad. Además, podrán sumergirse en emocionantes juegos que desafiarán su mente y estimularán su creatividad. Este espacio no es solo físico, es un refugio para corazones curiosos y mentes inquietas. ¡Disfruten cada momento en este lugar diseñado especialmente para ustedes, donde la magia de las palabras cobra vida!"}),t?F.jsxs("ul",{className:"flex flex-col items-center justify-center gap-5",children:[F.jsx("li",{className:"border-[1px] border-solid border-[#fff] rounded-md w-[150px] h-[40px] flex justify-center items-center",children:F.jsx(sr,{to:"/books",children:"Libros"})}),F.jsx("li",{className:"border-[1px] border-solid border-[#fff] rounded-md w-[150px] h-[40px] flex justify-center items-center",children:F.jsx(sr,{to:"/movies",children:"Películas"})})]}):F.jsx("button",{onClick:()=>e(!t),className:"border-[1px] border-solid border-[#fff] rounded-md p-3",children:"Descubre nuestro material"})]})]})})})},rA=q0(e_),iA=async()=>{const t=await Z0(H0(rA,"movies")),e=[];return t.forEach(n=>{const r={id:n.id,...n.data()};e.push(r)}),e},oA=()=>{const[t,e]=j.useState([]);j.useState([]);const[n,r]=j.useState(""),[i,o]=j.useState(!0);j.useEffect(()=>{iA().then(l=>{e(l),o(!1)})},[]);const a=j.useMemo(()=>t.filter(l=>l.titulo.toLowerCase().includes(n.toLowerCase())),[t,n]);return F.jsxs(F.Fragment,{children:[F.jsx(Id,{}),F.jsx("form",{className:"flex items-center justify-center my-5",children:F.jsx("input",{type:"text",placeholder:"Buscar",className:"border-b-[1px] border-b-[#000] outline-none p-1 w-[200px] xl:w-[400px]",value:n,onChange:l=>r(l.target.value)})}),F.jsx("section",{className:"grid grid-cols-1 gap-5 mb-5 md:grid-cols-2 xl:grid-cols-3 2xl:grid-flow-col-5",children:!i&&a.length>0?a.map(l=>F.jsxs("div",{className:"w-[360px] h-[220px] shadow-md rounded-md grid grid-cols-2 gap-3 mx-auto my-5",children:[F.jsx("img",{src:l.portada,alt:l.titulo,className:"h-[220px] w-[200px] object-contain rounded-md"}),F.jsxs("article",{className:"flex flex-col justify-center gap-1",children:[F.jsx("p",{className:"text-[12px] font-bold",children:l.titulo}),F.jsxs("div",{children:[F.jsx("p",{className:"text-[8px] text-[#000]/50",children:"Código:"}),F.jsx("p",{className:"text-[10px]",children:l.codigo})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-[8px] text-[#000]/50",children:"Autor:"}),F.jsx("p",{className:"text-[10px]",children:`${l.AUTOR.Nombre} ${l.AUTOR.Paterno} ${l.AUTOR.Materno||""}`})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-[8px] text-[#000]/50",children:"Formato:"}),F.jsx("p",{className:"text-[10px]",children:l.tipo.toUpperCase()})]}),F.jsxs("div",{children:[F.jsx("p",{className:"text-[8px] text-[#000]/50",children:"Tipo:"}),F.jsx("p",{className:"text-[10px]",children:l.origen.toUpperCase()})]}),F.jsxs("section",{children:[F.jsx("h4",{className:"text-[12px] font-bold",children:"Género"}),F.jsx("div",{className:"flex flex-row items-center justify-center gap-1",children:l.GENEROS.map((u,h)=>F.jsx("p",{className:"text-[8px] bg-blue-500 text-white p-1 rounded-md text-secondary-a mt-1",children:u},h))})]})]})]},l.id)):F.jsx("div",{className:"text-2xl font-bold text-center"})}),i&&F.jsx(Td,{})]})},sA=({row:t,col:e,size:n})=>{const r={col:e-1,row:t-1};return F.jsx("div",{className:"flex flex-col gap-2 flex-nowrap w-[90%] mx-auto my-5",children:Array.from({length:`${n}`}).map((i,o)=>F.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:`${n}`}).map((a,l)=>F.jsx("div",{className:`cell p-2 border border-[#ccc] cursor-pointer ${(r==null?void 0:r.row)===o&&(r==null?void 0:r.col)===l?"bg-[rgb(9,88,160)]":"bg-[#c2c2c2]"} w-[40px] h-[20px] mx-auto`},l))},o))})},aA=()=>{var l,u,h,f;const t=Ed(),{id:e}=q1(),[n,r]=j.useState(!0),[i,o]=j.useState({});j.useState({});const a=()=>{t(-1)};return j.useEffect(()=>{XR(e).then(m=>{o(m)}).finally(()=>r(!1))},[]),F.jsx(F.Fragment,{children:n?F.jsx(Td,{}):F.jsxs(F.Fragment,{children:[F.jsx(Id,{}),F.jsx("div",{onClick:a,className:"px-4 py-8 cursor-pointer",children:F.jsx(NT,{size:30})}),F.jsxs("section",{className:" flex flex-col justify-center items-center gap-5 mx-auto w-[90%] lg:flex-row",children:[F.jsxs("div",{className:"shadow-md flex flex-row justify-center items-center gap-5 rounded-md text-center w-[100%] max-w-[500px] lg:w-[50%] lg:h-[500px] lg:flex-col p-2",children:[F.jsx("picture",{children:F.jsx("img",{src:`${i==null?void 0:i.Portada}`,className:"rounded-md w-[120px] h-[140px] object-fill lg:w-[200px] lg:h-[330px]"})}),F.jsxs("article",{className:"flex flex-col gap-1 pb-1",children:[F.jsx("h2",{className:"text-[18px] font-bold",children:i==null?void 0:i.Titulo}),F.jsx("h2",{className:"text-sm",children:i==null?void 0:i.Codigo}),F.jsxs("h2",{className:"text-sm",children:[(l=i==null?void 0:i.AUTOR)==null?void 0:l.NOMBRE," ",(u=i==null?void 0:i.AUTOR)==null?void 0:u.PATERNO," ",(h=i==null?void 0:i.AUTOR)==null?void 0:h.MATERNO]}),F.jsx("h2",{className:"text-sm",children:i==null?void 0:i.Tipo})]})]}),F.jsxs("article",{className:"text-justify py-5 lg:w-[50%]",children:[F.jsx("h2",{className:"text-xl font-bold",children:"Reseña"}),F.jsx("p",{className:"mt-5 leading-7",children:i==null?void 0:i.Resena})]})]}),F.jsxs("div",{className:"w-[90%] xl:w-[40%] mx-auto xl:my-5 ",children:[F.jsx("h2",{className:"text-xl font-bold",children:"Ubicación"}),F.jsx(sA,{size:((f=i==null?void 0:i.Ubicacion)==null?void 0:f.repisa)==="1"?4:6,col:i==null?void 0:i.Ubicacion.columna,row:i==null?void 0:i.Ubicacion.fila})]})]})})},lA=cT([{path:"/",element:F.jsx(nA,{})},{path:"/books",element:F.jsx(ZR,{})},{path:"/movies",element:F.jsx(oA,{})},{path:"/information/:id",element:F.jsx(aA,{})}]);function uA(){return F.jsx(_T,{router:lA})}nc.createRoot(document.getElementById("root")).render(F.jsx(Un.StrictMode,{children:F.jsx(uA,{})}));
